(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){"use strict";var n=a(6),r=a.n(n),i=a(15),o=a(8),s=a(0),l=a.n(s),c=a(191),d=a(117).a.feline_fetch,u=function(e){var t=e.palette,a=(e.last_palette_signature,e.set_last_palette_signature,e.last_palette_shuffle_index,e.set_last_palette_shuffle_index,e.apply_colour),n=e.selected_color,r=e.locally_selected_colour,i=e.set_locally_selected_colour;try{return Object(s.useEffect)(function(){i(n)},[n]),l.a.createElement("div",{style:{width:220,borderBottom:"1px solid rgb(238, 238, 238)",padding:"0px 0px 10px 10px"}},l.a.createElement("div",{style:{textAlign:"left",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0,cursor:"pointer"}},"default"==t.name?"":t.name),t.colors.map(function(e){return l.a.createElement("div",{onClick:function(){return a(t=e),void i(t);var t},style:{cursor:"pointer",display:"inline-block",width:16,backgroundColor:e,height:16,margin:"5px 10px 5px 0px",borderRadius:3,boxShadow:r==e?e+" 0px 0px 4px":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset"}})}))}catch(o){return console.log("error in palette",o),"something went wrong"}};t.a=Object(c.CustomPicker)(function(e){var t=Object(s.useState)(!1),a=Object(o.a)(t,2),n=a[0],p=a[1],m=Object(s.useState)(!1),g=Object(o.a)(m,2),_=g[0],h=g[1],f=Object(s.useState)(""),b=Object(o.a)(f,2),v=b[0],y=b[1],w=Object(s.useState)(0),E=Object(o.a)(w,2),x=E[0],k=E[1],O=Object(s.useState)(0),S=Object(o.a)(O,2),C=S[0],j=S[1],N=Object(s.useState)(null),T=Object(o.a)(N,2),P=T[0],z=T[1],F=function(){var t=Object(i.a)(r.a.mark(function t(){var a,n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),console.log("color picker init --\x3e ",e.user),t.next=5,d({url:"user/get_brand_kit",method:"GET"});case 5:a=t.sent,(n=JSON.parse(a).data)&&n.length?(i=n.filter(function(e){return"colors"==e.name})[0].data.map(function(e){return{name:e.name,colors:e.value.data}}),console.log("bk received --\x3e",i),j(i)):j([]),h(!0),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)(function(){n||F()},[]),l.a.createElement("div",{style:{height:C&&C.length?386:"unset",overflowY:"auto",background:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px",borderRadius:4,border:"0.5px solid grey"}},l.a.createElement(c.SketchPicker,e),l.a.createElement("div",{id:"palette_box_picker",style:{borderTop:"1px solid grey",background:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px",borderRadius:"0px 0px 4px 4px"}},l.a.createElement("div",{style:{fontSize:12,fontWeight:550,color:"black",textAlign:"center",paddingTop:5}},"Brand Kit Palettes"),C&&C.length?C.map(function(t){return l.a.createElement(u,{palette:t,last_palette_signature:v,set_last_palette_signature:y,last_palette_shuffle_index:x,set_last_palette_shuffle_index:k,apply_colour:e.onChange,selected_color:e.color,locally_selected_colour:P,set_locally_selected_colour:z})}):l.a.createElement("div",{style:{textAlign:"center",cursor:"pointer",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0}},_?"You have no color palettes":"Loading brand kit color palettes")))})},1128:function(e,t,a){},113:function(e,t,a){"use strict";var n=a(8),r=a(35),i=a(39),o=a(1409),s=a(230),l=a.n(s),c=a(0),d=a.n(c),u=(a(1209),function(e){return d.a.createElement("div",{className:"image_box_loader_div",style:{width:e.width?e.width:"100%",height:e.height?e.height:"100%"}})}),p=function(e){var t=e.idx,a=e.image_src,n=e.default_image_style,o=e.image_style,s=e.loaded,c=e.set_loaded;return d.a.createElement(l.a,{offset:185,overflow:!0,scroll:!0},d.a.createElement(i.a,{className:"image_box_internal_image",onLoad:function(e){c(!0)},style:Object(r.a)({},n,o,{display:s?"block":"none",visibility:s?"visible":"hidden"}),key:"horizonal-scroll-tempates"+t,src:a,alt:"Image Not Found",id:"image_box_internal_image"+a}))},m=function(e){var t=e.max_container_height,a=e.boxed_view,i=e.show_preview_loader,s=e.on_click,l=e.name,m=e.idx,g=e.image_src,_=e.container_style,h=e.image_style,f=e.overlay_style,b=e.title_style,v=e.disable_overlay,y=e.footer_text,w=e.context_menu,E=e.skeleton,x=e.skeleton_width,k=e.skeleton_height,O=e.text_loader;try{var S=Object(c.useState)(!1),C=Object(n.a)(S,2),j=C[0],N=C[1],T=Object(c.useState)(5),P=Object(n.a)(T,2),z=P[0],F=P[1],D={borderRadius:6,cursor:"pointer",height:120};return Object(c.useEffect)(function(){j&&a&&F((t-window.document.getElementById("image_box_internal_image"+g).height)/2)},[j]),d.a.createElement("div",{key:m,className:"wizard_slider_container",onClick:s,style:Object(r.a)({},{marginRight:5,marginLeft:5,marginTop:10,display:"inline-block"},_)},w,E?d.a.createElement("div",{className:"image_box_skeleton",id:g,style:Object(r.a)({},D,h,{boxShadow:"unset",width:x||160,height:k||160,display:j?"none":"block",visibility:j?"hidden":"visible"})},d.a.createElement(u,{width:x||160,height:k||160})):"",a?d.a.createElement("div",{style:{borderRadius:6,height:j?t:0,backgroundColor:"#f1f2f3",padding:6,paddingTop:z}},d.a.createElement(p,{idx:m,image_src:g,default_image_style:D,image_style:h,loaded:j,set_loaded:N})):d.a.createElement(p,{idx:m,image_src:g,default_image_style:D,image_style:h,loaded:j,set_loaded:N}),y&&d.a.createElement(o.a,null,d.a.createElement("h6",{style:{textAlign:"center",width:"100%",overflow:"hidden"}},d.a.createElement("b",null,y))),!v&&d.a.createElement(d.a.Fragment,null,i?d.a.createElement("div",{className:"wizard_slider_overlay wizard_slider_overlay_show",style:f},d.a.createElement("h6",{className:"wizard_slider_title",style:b},"Swapping Style...")):d.a.createElement("div",{className:"wizard_slider_overlay",style:f},d.a.createElement("h6",{className:"wizard_slider_title",style:b},l))),O?d.a.createElement("div",{className:"image_box_skeleton",style:Object(r.a)({marginTop:12},D,h,{boxShadow:"unset",width:100,height:8})},d.a.createElement(u,{width:100,height:8})):"")}catch(A){return console.log("error in image box",A),"Image box failed"}};m.defaultProps={image_style:{},container_style:{},title_style:{},disable_overlay:!1},t.a=m},1130:function(e,t,a){},115:function(e,t,a){"use strict";(function(e){a.d(t,"c",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return o});var n=function(){var t=e.config.server_path+"folder/get";return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})},r=function(t){var a=e.config.server_path+"folder/delete";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_id:t})}).then(function(e){return Promise.resolve("successfully deleted folder.")}).catch(function(e){return Promise.reject(e)})},i=function(t,a){var n=e.config.server_path+"folder/rename";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_id:t,new_name:a})}).then(function(e){return Promise.resolve("successfully renamed.")}).catch(function(e){return Promise.reject(e)})},o=function(t,a){var n=e.config.server_path+"folder/delete_resource";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_id:t,resource:a})}).then(function(e){return Promise.resolve("successfully deleted folder resource.")}).catch(function(e){return Promise.reject(e)})}}).call(this,a(40))},1166:function(e,t,a){},117:function(e,t,a){"use strict";var n=a(619),r={data_uri_to_blob:function(e){try{for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:a})}catch(o){console.log("Error in data_uri_to_blob ---.>>> ",o)}}};a.d(t,"a",function(){return n.a}),a.d(t,"b",function(){return r})},1209:function(e,t,a){},1211:function(e,t,a){},1219:function(e,t,a){},1233:function(e,t,a){},1235:function(e,t,a){},1237:function(e,t,a){},1239:function(e,t,a){"use strict";(function(e){var t=a(6),n=a.n(t),r=a(15),i=a(30),o=a(31),s=a(33),l=a(32),c=a(34),d=a(0),u=a.n(d),p=a(169),m=a(105),g=a(172),_=a(95),h=a(20),f=a(252),b=a(89),v=a.n(b),y=a(90),w=30,E="nature";d.Component}).call(this,a(40))},1262:function(e,t,a){},1264:function(e,t,a){},1301:function(e,t,a){},1303:function(e,t,a){},1305:function(e,t,a){},1307:function(e){e.exports={Poster:{height:1123,width:797},"Business Card":{height:600,width:1050},"US Letter Document":{height:1299,width:1004},Postcard:{height:1240,width:1748},"Instagram Post":{height:1080,width:1080},"Instagram Story":{height:1920,width:1080},"Facebook Post":{height:788,width:940},"Facebook Story":{height:1920,width:1080},"Facebook Cover":{height:312,width:820},"Facebook App Ad":{height:450,width:810},"Your Story":{height:1920,width:1080},"Twitter Post":{height:512,width:1024},"Twitter Header":{height:500,width:1500},"Tumblr Graphic":{height:810,width:540},"Youtube Thumbnail":{height:720,width:1280},"Youtube Channel Art":{height:1440,width:2560},"Snapchat Geofilter":{height:1920,width:1080},"Pinterest Graphic":{height:150,width:222},"LinkedIn Banner":{height:396,width:1584},"Tumblr Banner":{height:1055,width:3e3},"Twitch Video Thumbnail":{height:720,width:1280},"SoundCloud Banner":{height:520,width:2480},"Google+ Header":{height:608,width:1080},Presentation:{height:768,width:1024},"A4 Document (Letter) ":{height:3508,width:2480},Letterhead:{height:3508,width:2480},Resume:{height:3508,width:2480},Report:{height:3508,width:2480},Memo:{height:3508,width:2480},Invoice:{height:3508,width:2480},"Greeting Card":{height:1240,width:1748},"Recipe Card":{height:1200,width:800},"Photo Collage":{height:2370,width:2940},"Photo Book":{height:3508,width:2480},Calendar:{height:1080,width:1920},Planner:{height:3508,width:2480},Storyboard:{height:2370,width:2940},"Graphic Organizer":{height:3508,width:2480},Scrapbook:{height:3508,width:2480},"Desktop Wallpaper":{height:1080,width:1920},"Book Cover":{height:2250,width:1410},"Wattpad Book Cover":{height:800,width:512},"CD Cover":{height:1400,width:1400},"Comic Strip":{height:3508,width:2480},Yearbook:{height:3508,width:2480},"Class Schedule":{height:3508,width:2480},Worksheet:{height:3508,width:2480},"Lesson Plan":{height:3508,width:2480},Bookmark:{height:1800,width:600},"Seating Chart":{height:2480,width:3508},"Table of Contents":{height:3508,width:2480},"Mind Map":{height:768,width:1024},Logo:{height:500,width:500},Flyer:{height:3508,width:2480},Infographic:{height:3508,width:2480},Brochure:{height:2550,width:3300},"Product Label":{height:384,width:576},"Gift Certificate":{height:384,width:576},"Gift Tag":{height:600,width:1050},"ID Card":{height:202,width:326},Ticket:{height:825,width:2550},Newsletter:{height:3508,width:2480},"Blog Banner":{height:315,width:560},"Email Header":{height:200,width:600},Coupon:{height:3508,width:2480},Proposal:{height:3508,width:2480},"Blog Graphic":{height:1200,width:800},Website:{height:650,width:1350},Certificate:{height:3508,width:2480},Menu:{height:3508,width:2480},"Magazine Cover":{height:3508,width:2480},"Media Kit":{height:3508,width:2480},"Etsy Shop Icon":{height:500,width:500},"Etsy Shop Cover":{height:300,width:1200},Invitation:{height:528,width:528},"Invitation (portrait)":{height:557,width:394},Announcement:{height:557,width:384},"Event Program":{height:3508,width:2480},"Facebook Event Cover":{height:1080,width:1920},"Facebook Ad":{height:628,width:1200},"Instagram Ad":{height:1080,width:1080},"Large Rectangle Ad":{height:280,width:336},"Leaderboard Ad":{height:90,width:728},"Wide Skyscraper Ad":{height:600,width:160},"Medium Rectangle Ad":{height:250,width:300},"Twitch Profile Banner":{height:480,width:1920},"Twitch Video Player Banner":{height:1080,width:1920},"Twitch Cover Image":{height:1200,width:380},"Twitch Info Panels ":{height:200,width:320},"Amazon Mobile Leaderboard":{height:100,width:640},"Wechat Article Preview Thumbnail ":{height:500,width:900},"Discord Server Banner Background":{height:540,width:960},"Twitter Cards Image":{height:800,width:320},"Twitter Summary Card Image ":{height:280,width:150},"Tumblr Shared Image":{height:750,width:500},"YouTube Desktop Display":{height:423,width:2560},"YouTube Tablet Display":{height:423,width:1855},"YouTube Desktop and Mobile Display":{height:423,width:1546},"LinkedIn Shared Image":{height:110,width:180},"SoundCloud Album Cover":{height:800,width:800},"Google+ Shared Images":{height:373,width:497},"Google+ Shared Video ":{height:279,width:496},"Amazon Medium Rectangle ":{height:250,width:300},"Amazon Leaderboard ":{height:90,width:728},"Amazon Wide Skyscraper":{height:600,width:160},"Amazon Large Rectangle":{height:600,width:300},"Amazon Billboard":{height:250,width:970},"Amazon Mobile Detail and Search Result Page":{height:66,width:79},"Server Invite Background":{height:1080,width:1920}}},1308:function(e){e.exports=[{value:6,label:6},{value:8,label:8},{value:10,label:10},{value:12,label:12},{value:14,label:14},{value:16,label:16},{value:18,label:18},{value:21,label:21},{value:24,label:24},{value:26,label:26},{value:32,label:32},{value:34,label:34},{value:36,label:36},{value:42,label:42},{value:44,label:44},{value:46,label:46},{value:48,label:48},{value:50,label:50},{value:52,label:52},{value:54,label:54},{value:56,label:56},{value:58,label:58},{value:60,label:60},{value:62,label:62},{value:64,label:64},{value:66,label:66},{value:68,label:68},{value:70,label:70},{value:72,label:72},{value:74,label:74},{value:76,label:76},{value:78,label:78},{value:80,label:80},{value:82,label:82},{value:84,label:84},{value:86,label:86},{value:88,label:88},{value:90,label:90},{value:92,label:92},{value:94,label:94},{value:96,label:96},{value:98,label:98},{value:100,label:100}]},1309:function(e,t,a){},1312:function(e,t,a){},1329:function(e,t,a){},1331:function(e,t,a){},1333:function(e,t,a){},1339:function(e,t,a){},134:function(e,t,a){"use strict";var n=a(35),r=a(8),i=a(0),o=a.n(i),s=a(1409),l=a(230),c=(a(969),{cursor:"pointer",position:"absolute",backgroundColor:"white",borderRadius:"50%",paddingLeft:10,paddingRight:10,paddingTop:4,paddingBottom:4,boxShadow:"1px 1px 5px 0 rgba(0,0,0,0.15)"});t.a=function(e){var t=e.children,a=e.id,d=e.height;try{var u=Object(i.useState)(!1),p=Object(r.a)(u,2),m=p[0],g=p[1],_=Object(i.useState)(!1),h=Object(r.a)(_,2),f=h[0],b=h[1],v=Object(i.useState)(!1),y=Object(r.a)(v,2),w=y[0],E=(y[1],function(e){var t=e.direction,n=e.speed,r=e.distance,i=e.step,o=(e.hide_front,window.document.getElementById(a));if(o)var s=0,c=setInterval(function(){"left"==t?o.scrollLeft-=i:o.scrollLeft+=i,(s+=i)>=r&&(Object(l.forceCheck)(),window.clearInterval(c))},n)});return Object(i.useEffect)(function(){if(!w)var e=setTimeout(function(){!function(){try{var e=window.document.getElementById(a);e&&e.scrollWidth>e.clientWidth&&b(!0)}catch(t){console.log("error setting init params ---\x3e ",t)}}(),window.clearTimeout(e)},1200)},[]),o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(s.a,{onScroll:function(){try{var e=window.document.getElementById(a);e&&(e.scrollLeft>0&&!m&&g(!0),e.scrollLeft<e.scrollWidth-e.clientWidth&&!f&&b(!0),e.scrollLeft==e.scrollWidth-e.clientWidth&&f?b(!1):0==e.scrollLeft&&m&&g(!1))}catch(t){console.log("error in on scroll ---\x3e ",t)}},id:a,className:"penguin_slider",style:{whiteSpace:"nowrap",overflowX:"hidden",position:"relative"}},t),o.a.createElement("div",{onClick:function(){try{E({direction:"left",speed:5,distance:500,step:10})}catch(e){console.log("error in scroll_back --\x3e ",e)}},style:Object(n.a)({},c,{display:m?"block":"none",left:"-15px",top:d/2-10})}," ",o.a.createElement("span",{className:"fa fa-chevron-left"})," "),o.a.createElement("div",{onClick:function(){try{E({direction:"right",speed:5,distance:500,step:10})}catch(e){console.log("error in scroll_forward --\x3e ",e)}},style:Object(n.a)({},c,{display:f?"block":"none",right:"-15px",top:d/2-10})}," ",o.a.createElement("span",{className:"fa fa-chevron-right"})," "))}catch(x){return console.log("penguin slider error --\x3e ",x),""}}},1343:function(e,t,a){},137:function(e,t,a){"use strict";(function(e){a.d(t,"e",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o}),a.d(t,"f",function(){return s}),a.d(t,"c",function(){return l});var n=function(){return function(t){var a=e.config.server_path+"user/fetch_owned_designs";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},r=function(){return function(t){var a=e.config.server_path+"category/get_design_categories";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},i=function(t){return function(a){var n=e.config.server_path+"design/copy_into_saved_design";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},o=function(t,a,n){return function(r){var i=e.config.server_path+"saved_design/create_blank_design";return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({width:t,height:a,dimension_units:n})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},s=function(t,a){var n=e.config.server_path+"saved_design/move_to_folder";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_id:t,design_id:a})}).then(function(e){return Promise.resolve("successfully moved to folder.")}).catch(function(e){return Promise.reject(e)})},l=function(t){var a=e.config.server_path+"saved_design/delete";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return Promise.resolve("successfully deleted design.")}).catch(function(e){return Promise.reject(e)})},c=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e)}}).call(this,a(40))},1382:function(e,t,a){},1389:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(88),o=a.n(i),s=(a(859),a(515),a(862),a(689));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(83),c=a(200),d=a(430),u=a(199),p=a(520),m=a(217),g=a(69),_=a.n(g),h=Object(m.combineReducers)({user_details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"LOGIN_COMPLETED"==t.type?t.payload:e},attempting_login:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_ATTEMPTED":return!0;case"RECEIVE_CATEGORIES":return!1;default:return e}},login_mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";switch((arguments.length>1?arguments[1]:void 0).type){case"REGISTER":return"register";case"LOGIN":case"OPEN_LOGIN_MODAL":return"login";case"FORGOT_PASSWORD":return"forgot_password";default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["lund","kkk"],t=arguments.length>1?arguments[1]:void 0;return"RECEIVE_CATEGORIES"==t.type?t.payload:e},show_login_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CLOSE_LOGIN_MODAL":return!1;case"OPEN_LOGIN_MODAL":return!0;default:return e}},is_fetching_categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case"REQUEST_CATEGORIES":return e+1;case"RECEIVE_CATEGORIES":return e-1;default:return e}},mockups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"RECEIVE_MOCKUPS"==t.type?(console.log("hhh",t.payload),t.payload):e},display_upload_mockup_modal:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_UPLOAD_IMAGE_MODAL":return!0;case"HIDE_UPLOAD_IMAGE_MODAL":default:return!1}},toastr:g.reducer,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return"USER_DETAILS_FETCHED"==t.type?t.payload:e},elements_category_panel_selection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ELEMENTS_CATEGORY":return t.payload;default:return e}},search_value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_VALUE":return t.payload;default:return e}}}),f=Object(m.createStore)(h,{},Object(m.applyMiddleware)(p.default));window.store=f;var b=f,v=a(536),y=a(30),w=a(31),E=a(33),x=a(32),k=a(34),O=a(1449),S=a(1409),C=a(1410),j=a(1411),N=a(704),T=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(E.a)(this,Object(x.a)(t).call(this,e))).generate_row=function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.height),r.a.createElement("td",null,e.width))},a.generate_mockup_table=function(){var e=[];return a.props.mockups.map(function(t,n){e.push(a.generate_row(t,n))}),e},a.generate_body=function(){if(a.props.mockups.length)return r.a.createElement(O.a.Body,null,r.a.createElement(S.a,null,r.a.createElement(C.a,{className:"text-center",xs:12},r.a.createElement("h4",null,"Mockup List"))),r.a.createElement("br",null),r.a.createElement(j.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Height"),r.a.createElement("th",null,"Width"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,a.generate_mockup_table())))},a.state={mockups:[]},a}return Object(k.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.category_id!=e.match.params.category_id){var t=Object(N.a)(this.props.match.params.category_id);this.setState({mockups:t})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.a,null,this.state.mockups&&this.state.mockups[0]&&this.state.mockups[0].name?this.state.mockups[0].name:""))}}]),t}(n.Component),P=a(537),z=a(345),F=a(743),D=a(201),A=a(772),I=a(802),R=a(803),B=a(804),M=a(806);o.a.render(r.a.createElement(l.Provider,{store:b},r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(d.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:A.a}),r.a.createElement(u.a,{exact:!0,path:"/mockupmaker/start",component:v.a}),r.a.createElement(u.a,{exact:!0,path:"/designmaker/start",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{exact:!0,path:"/designmaker/start/templates",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/mockupmaker/start/mockups/:mockup_id",component:P.a}),r.a.createElement(u.a,{path:"/mockupmaker/start/saved_mockups/:saved_mockup_id",component:P.a}),r.a.createElement(u.a,{path:"/mockupmaker/start/category/:category_id",component:T}),r.a.createElement(u.a,{path:"/mockupmaker/start/search/",component:v.a}),r.a.createElement(u.a,{path:"/designmaker/start/search",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/designs/:design_id/:role",component:z.a}),r.a.createElement(u.a,{path:"/designmaker/start/template/:custom_url",render:function(e){return r.a.createElement(B.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/orders/confirm-order",component:M.a}),r.a.createElement(u.a,{path:"/designmaker/start/orders",component:F.a}),r.a.createElement(u.a,{path:"/designmaker/start/design-orders/",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/brand-kit/",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/generate-designs/",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/shared-designs/",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/folders/",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{exact:!0,path:"/designmaker/start/categories",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/admin_designs/:design_id/:role",render:function(){return!b.getState().user||"admin"!=b.getState().user.type&&"designer"!=b.getState().user.type?r.a.createElement("div",null,"Authenticating..."):r.a.createElement(z.a,null)},component:z.a}),r.a.createElement(u.a,{path:"/designmaker/start/admin_text_templates/:template_id/:role",component:z.a}),r.a.createElement(u.a,{path:"/designmaker/start/all-designs",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/wizard",render:function(e){return r.a.createElement(D.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/share/:resource_type/:id",render:function(e){return r.a.createElement(I.a,e)}}),r.a.createElement(u.a,{path:"/designmaker/start/new_render/:id",render:function(e){return r.a.createElement(R.a,e)}}),r.a.createElement(u.a,{render:function(){return r.a.createElement("div",null,"Not Found")}})),r.a.createElement(_.a,{position:"bottom-right"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},150:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(0),r=a.n(n),i=a(137),o=a(69),s=a(29),l=a(1409),c=a(1410),d=function(e){var t=e.show,a=e.onHide,n=e.folders,d=e.activeDesign,u=e.omitFolders,p=e.refreshFolders;return r.a.createElement(s.a,{show:t,onHide:a},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,null,"Move design to folder")),r.a.createElement(s.a.Body,null,r.a.createElement(l.a,null,r.a.createElement(c.a,{xs:12},n&&n.length>0?n.filter(function(e){return"edit"===e.role}).filter(function(e){return"design"===e.folder.type}).filter(function(e){return!u.includes(e.folder._id)}).map(function(e,t){return r.a.createElement(c.a,{xs:6},r.a.createElement("div",{key:"move-to-folder-btn"+t,className:"folder_icon",style:{width:"250px",height:"72px",cursor:"pointer",padding:"10px"},onClick:function(){Object(i.f)(e.folder._id,d).then(function(){p&&p()}).then(function(){return a()}).then(function(){return o.toastr.success("Moved design to folder")}).catch(function(){return o.toastr.error("Something went wrong :/")})}},r.a.createElement("img",{style:{paddingRight:"10px"},src:"https://img.icons8.com/cotton/64/000000/folder-invoices--v1.png"}),r.a.createElement("span",{style:{fontSize:"1.5rem",fontWeight:"500"}},e.folder.name)))}):r.a.createElement("div",null)))))}},151:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),r=a.n(n),i=a(29),o=a(20),s=function(e){var t=e.show,a=e.onHide,n=e.deleteOnClick;return r.a.createElement(i.a,{show:t,onHide:a},r.a.createElement(i.a.Header,{closeButton:!0},r.a.createElement(i.a.Title,null,"Delete Design")),r.a.createElement(i.a.Body,null,"Are you sure you want to delete this design?"),r.a.createElement(i.a.Footer,null,r.a.createElement(o.a,{onClick:a},"Cancel"),r.a.createElement(o.a,{onClick:n,className:"btn-orange"},"Yes")))}},164:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t){"login"===t?(window.localStorage.setItem("last_url",window.location.href),window.location.href=e.config.designs_ai_server_path+"user/sign-in?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm):"logout"===t?(window.localStorage.setItem("last_url",window.location.href),fetch(e.config.server_path+"user/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(t){window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm}).catch(function(t){console.error(t),window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm})):"signup"===t&&(window.localStorage.setItem("last_url",window.location.href),window.location.href=e.config.designs_ai_server_path+"user/sign-up?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm)}}).call(this,a(40))},171:function(e,t,a){"use strict";var n=a(35),r=a(8),i=a(0),o=a.n(i),s=a(20),l=function(e){var t=e.Trigger,a=e.Dropper,s=e.dropper_container_style,l=e.container_style,c=e.trigger_props,d=e.dropper_props;try{var u=Object(i.useState)(!1),p=Object(r.a)(u,2),m=p[0],g=p[1];return o.a.createElement("div",{style:Object(n.a)({position:"relative"},l)},o.a.createElement("div",{style:Object(n.a)({},{position:"fixed",width:"100%",height:"100%",top:0,left:0},{display:m?"block":"none",zIndex:100}),onClick:function(e){g(!1),e.stopPropagation()}}),o.a.createElement(t,{toggle_dropdown:function(){return g(!m)},trigger_props:Object(n.a)({},c)}),o.a.createElement("div",{style:Object(n.a)({display:m?"block":"none"},{position:"absolute",top:50,left:"-20px",zIndex:100,backgroundColor:"white",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.15)"},s)},o.a.createElement(a,{dropper_props:Object(n.a)({},d),toggle_dropdown:function(){return g(!m)}})))}catch(_){return console.error(_),null}};l.defaultProps={Trigger:function(){return o.a.createElement(s.a,null,"Default")},Dropper:function(){return o.a.createElement("div",null,"Hello world")},container_style:{},dropper_container_style:{}},t.a=l},186:function(e,t,a){"use strict";(function(e){a.d(t,"f",function(){return r}),a.d(t,"c",function(){return i}),a.d(t,"e",function(){return o}),a.d(t,"d",function(){return s}),a.d(t,"g",function(){return l}),a.d(t,"a",function(){return c}),a.d(t,"i",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"h",function(){return m});var n=a(35),r=function(t){return fetch(e.config.server_path+"folder/get",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})},i=function(t){return function(a){var n=e.config.server_path+"design/get_one/";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return Promise.resolve(e.json())}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})}},o=function(t){return function(a){var n=e.config.server_path+"text_template/get_one/";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return Promise.resolve(e.json())}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})}},s=function(t){return function(a){var n=e.config.server_path+"saved_design/get_one/";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})}},l=function(t,a,n,r){return function(i){var o=e.config.server_path+"permission/share_permission_with_emails/";return fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({host_email:t,emails:a,saved_design:n,role:r})}).then(function(e){return Promise.resolve(e.json())}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})}},c=function(t,a,n){return function(r){var i=e.config.server_path+"permission/check_permission/";return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_email:t,saved_design:a,role:n})}).then(function(e){return Promise.resolve(e.json())}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})}},d=function(t,a){var n=new FormData;n.append("file",t,t.name),n.append("folder_id",a);var r=e.config.server_path+"folder/upload_file";return fetch(r,{method:"POST",credentials:"include",body:n})},u=function(t,a,r){var i=e.config.server_path+"order/add_design_order/",o={design_id:t,resources:a};return r&&(o=Object(n.a)({},o,{coupon_code:r})),fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)}).then(function(e){return Promise.resolve(e.json())}).then(function(e){return p(e)}).catch(function(e){return Promise.reject(e)})},p=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e)},m=function(t,a){var n=e.config.server_path+"saved_design/update/";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t,name:a})}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})}}).call(this,a(40))},194:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(6),i=a.n(r),o=a(79),s=a(15),l=a(35),c=a(269),d=a(8),u=a(0),p=a.n(u),m=a(83),g=a(105),_=a(172),h=a(95),f=a(548),b=a(20),v=a(29),y=a(413),w=a(266),E=a.n(w),x=a(267),k=a.n(x),O=a(104),S=a(69),C=a(186),j=a(412),N=a(197),T=a(117).a.feline_fetch,P=function(t){var a=t.template_id,n=t.custom_url;try{var r=Object(u.useState)(!1),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(u.useState)(null),c=Object(d.a)(l,2),m=c[0],b=c[1];return Object(u.useEffect)(function(){a&&(s(!1),b(e.config.website_url+"designmaker/start/template/"+(n||a)))},[a]),p.a.createElement(p.a.Fragment,null,p.a.createElement(g.a,null,p.a.createElement(_.a,null,p.a.createElement(h.a,{type:"text",value:m}),p.a.createElement(_.a.Addon,null,p.a.createElement(y.CopyToClipboard,{text:m,onCopy:function(){return s(!0)}},p.a.createElement("span",{style:{cursor:"pointer"},className:"fa fa-copy"}))))),o?p.a.createElement(f.a,{bsStyle:"success",className:"text-center"},p.a.createElement("span",{className:"fa fa-2x fa-check"})," ",p.a.createElement("br",null),p.a.createElement("strong",null,"Link copied to clipboard")):"")}catch(v){return console.log("error in LinkShareModal --\x3e>",v),""}},z=function(t){var a=t.design_id,r=t.hide_share_modal;try{var g=[],_=[{value:"view",label:"Can View"},{value:"edit",label:"Can Edit"}],h=function(){return p.a.createElement(p.a.Fragment,null)},f=Object(u.useState)(""),v=Object(d.a)(f,2),y=v[0],w=v[1],x=Object(u.useState)([]),P=Object(d.a)(x,2),z=P[0],F=P[1],D=Object(u.useState)("view"),A=Object(d.a)(D,2),I=A[0],R=A[1],B=Object(u.useState)(!1),M=Object(d.a)(B,2),L=M[0],W=M[1],H=Object(u.useState)(!1),U=Object(d.a)(H,2),J=U[0],G=U[1],K=Object(u.useState)(!1),V=Object(d.a)(K,2),q=V[0],Y=V[1],Q=Object(m.useSelector)(function(e){return e.user}),$=Object(m.useDispatch)(),X=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object(o.a)(z),y&&t.push(y),!(a&&t.length>0&&I)){e.next=8;break}return e.next=6,$(Object(C.g)(Q.email,t,a,I));case 6:S.toastr.success("design shared successfully!"),r();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),S.toastr.error("Unable to share, something went wrong");case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,!L){e.next=6;break}t="disable",e.next=12;break;case 6:if(!q&&!J){e.next=10;break}t=q?"enable_edit":"enable_view",e.next=12;break;case 10:return S.toastr.error("Please choose edit or view rights"),e.abrupt("return");case 12:return W("disable"!=t),e.next=15,T({url:"saved_design/alter_link_sharing",body:{design_id:a,action:t}});case 15:e.sent,ee(),S.toastr.success("Link Sharing "+("disable"==t?"Disabled":"Enabled")),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0),S.toastr.error("something went wrong");case 24:case"end":return e.stop()}},e,this,[[0,20]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({url:"saved_design/get_one/",body:{id:a}});case 3:t=e.sent,W(t.view_all||t.edit_all),G(t.view_all),Y(t.edit_all),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error in fetching data --- >>>> ",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)(function(){a&&ee()},[a]),p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null,p.a.createElement(k.a,{renderInput:function(e){var t=e.addTag,a=Object(c.a)(e,["addTag"]),n=a.value&&a.value.trim().toLowerCase()||"",r=n.length,i=g.filter(function(e){return e.name.toLowerCase().slice(0,r)===n});return p.a.createElement(E.a,{ref:a.ref,suggestions:i,shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return p.a.createElement("span",null,e.name)},inputProps:Object(l.a)({},a,{onChange:function(e,t){t.newValue,"enter"===t.method?e.preventDefault():a.onChange(e)}}),onSuggestionSelected:function(e,a){var n=a.suggestion;t(n.name)},onSuggestionsClearRequested:function(){},onSuggestionsFetchRequested:function(){}})},value:z,inputValue:y,inputProps:{placeholder:"Type one or more emails"},onChange:function(e){F(e),w("")},onChangeInput:w}),p.a.createElement(O.b,{options:_,defaultValue:_[0],onChange:function(e){return R(e.value)}}),p.a.createElement(b.a,Object(n.a)({type:"button",onClick:X,className:"popover-button-custom",style:{width:"100%",marginTop:5}},"type","submit"),"Send Invites")),p.a.createElement("hr",null),p.a.createElement("div",null,L?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null,"Link sharing is enabled for this design. Anyone with the link can ",p.a.createElement("b",null,q?"edit":"view")," it."),p.a.createElement(j.a,{link:e.config.website_url+"designmaker/start/designs/"+a+"/"+(q?"edit":"view")})):p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,{title:"Anyone with link can edit",show_dropper:q,trigger_on_click:function(){return Y(!q)},col_width_title:8,col_width_switch:4,Dropper:h}),p.a.createElement(N.a,{title:"Anyone with link can view",show_dropper:J,trigger_on_click:function(){return G(!J)},col_width_title:8,col_width_switch:4,Dropper:h})),p.a.createElement(b.a,Object(n.a)({type:"button",onClick:Z,className:"popover-button-custom",style:{width:"100%",marginTop:5}},"type","submit"),L?"Disable Link Sharing":"Enable Link Sharing")))}catch(te){return console.log("error in share design modal --\x3e>>>>> ",te),""}};t.a=function(e){var t=e.show_share_modal,a=e.hide_share_modal,n=e.template_id,r=e.custom_url,i=e.is_saved_design,o=e.design_id;try{return p.a.createElement(v.a,{show:t,onHide:a},p.a.createElement(v.a.Header,{closeButton:!0},p.a.createElement(v.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},i?"Share your design":"Template share link")),p.a.createElement(v.a.Body,null,i?p.a.createElement(z,{design_id:o,hide_share_modal:a}):p.a.createElement(P,{template_id:n,custom_url:r})))}catch(s){return console.log("error in ShareModal --\x3e>",s),""}}}).call(this,a(40))},195:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(171),o=(a(1264),{button:{backgroundColor:"#C8CDD4",padding:5},list:{padding:5,cursor:"pointer"}});t.a=function(e){var t=e.contextMenuOptions;try{return r.a.createElement("div",{className:"dropdown folder-options-dropdown"},r.a.createElement(i.a,{Trigger:function(e){var t=e.toggle_dropdown;return r.a.createElement("div",{className:"btn context-menu-trigger",style:o.button,onClick:function(e){e.stopPropagation(),t()},"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},r.a.createElement("span",{className:"fas fa-lg fa-ellipsis-h"}))},Dropper:function(){return r.a.createElement("ul",{style:{marginTop:"-12px",left:16},className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},t.map(function(e,t){return r.a.createElement("li",{className:"context-menu-items",style:o.list,key:"contextMenuItem"+t,onClick:function(t){t.stopPropagation(),e.action(t)}},e.name)}))}}))}catch(a){return console.log("error in ContextMenu --< >>>>>",a),""}}},197:function(e,t,a){"use strict";var n=a(35),r=a(0),i=a.n(r),o=a(1409),s=a(1410),l=a(725),c=a.n(l),d=function(e){var t=e.Trigger,a=e.Dropper,r=e.dropper_container_style,o=e.container_style,s=e.trigger_on_click,l=e.show_dropper,c=e.title,d=e.col_width_title,u=e.col_width_switch;try{return i.a.createElement("div",{style:Object(n.a)({position:"relative"},o)},i.a.createElement(t,{toggle_dropdown:s,is_triggered:l,title:c,col_width_switch:u,col_width_title:d}),i.a.createElement("div",{style:Object(n.a)({display:l?"block":"none"},r)},i.a.createElement(a,null)))}catch(p){return console.log("erorr in Switcher --<>>>>>",p),""}};d.defaultProps={Trigger:function(e){var t=e.toggle_dropdown,a=e.is_triggered,n=e.title,r=e.col_width_switch,l=e.col_width_title;return i.a.createElement(o.a,{style:{padding:5}},i.a.createElement(o.a,{style:{backgroundColor:"#dcd9db",boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)",borderRadius:6,padding:7,cursor:"pointer"}},i.a.createElement(s.a,{xs:l||9,style:{fontWeight:"bold",textAlign:"left"}},n),i.a.createElement(s.a,{xs:r||3,className:"text-right"},i.a.createElement(c.a,{onChange:t,checked:a,height:22,width:46,handleDiameter:16,onColor:"#ff841f",checkedIcon:!1,uncheckedIcon:!1}))))},Dropper:function(){return i.a.createElement("div",null,"Hello world !! I'm the default dropper")},container_style:{},dropper_container_style:{},title:"",trigger_on_click:function(){console.log("hi")}},t.a=d},201:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(35),i=a(79),o=a(8),s=a(6),l=a.n(s),c=a(15),d=a(30),u=a(31),p=a(33),m=a(32),g=a(34),_=a(0),h=a.n(_),f=a(230),b=a(1409),v=a(101),y=a(313),w=a(20),E=a(1410),x=a(95),k=a(105),O=a(104),S=a(69),C=a(83),j=a(161),N=a(430),T=a(199),P=a(124),z=a(137),F=a(395),D=a(115),A=(a(1309),a(744)),I=a(194),R=a(745),B=a(746),M=a(747),L=a(748),W=a(544),H=a(751),U=a(248),J=a(411),G=(a(672),a(1341),a(195)),K=a(753),V=a(754),q=a(113),Y=a(134),Q=a(150),$=a(151),X=a(222),Z=a(164),ee=function(t){var a=t.design_template_on_click,n=t.ThumbnailContextMenu,r=t.unflattened_categories,i=t.page,o=t.redirect_page;try{return h.a.createElement(h.a.Fragment,null,r.map(function(t,r){return h.a.createElement("div",{key:"category-panel-div-"+r},h.a.createElement(b.a,{style:{marginTop:25,marginBottom:15}},h.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:800,fontSize:22}},t.name)),h.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:"5px",paddingRight:"5px"}},h.a.createElement(Y.a,{id:"category-slider-"+t._id,height:220},t.children&&t.children.map(function(t,r){return h.a.createElement(h.a.Fragment,null,h.a.createElement("a",{style:{visibility:"hidden"},href:t.example?e.config.website_url+"designmaker/start/template/"+(t.example.custom_url||t.example._id):""}),h.a.createElement(q.a,{key:"category-"+t._id,idx:r,image_src:e.config.static_file_server_path+t.example.thumbnail,name:t.name,disable_overlay:!0,image_style:{maxWidth:160,maxHeight:185,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},footer_text:t.name,context_menu:h.a.createElement(n,{design:t.example,template:!0,preview_page:"templates"==i}),on_click:"templates"!=i?function(){a(t.example,t)}:function(){o("/designmaker/start/template/"+(t.example.custom_url||t.example._id))},skeleton:!0,skeleton_width:160*(t.dimensions.width>t.dimensions.height?1:t.dimensions.width/t.dimensions.height),skeleton_height:185*(t.dimensions.height>t.dimensions.width?1:t.dimensions.height/t.dimensions.width)}))})))))}))}catch(s){return console.log("error in category panel --\x3e ",s),""}},te=function(t){function a(t){var s,u=this;return Object(d.a)(this,a),(s=Object(p.a)(this,Object(m.a)(a).call(this,t))).update_window_size=function(){window.innerWidth>767?s.setState({device_type:"desktop"}):s.setState({device_type:"tablet"})},s.redirect_page=function(e){s.setState({redirect_url:e,redirect:!0})},s.update_custom_width=function(e){s.set_state({custom_width:e})},s.update_custom_height=function(e){s.set_state({custom_height:e})},s.convert_to_px=function(e,t,a){var n;return"mm"===a?n={w:3.78*e,h:3.78*t}:"cm"===a?n={w:37.8*e,h:37.8*t}:"in"===a&&(n={w:96*e,h:96*t}),n.w.toString().length>5&&(n.w=Number(n.w.toFixed(3))),n.h.toString().length>5&&(n.h=Number(n.h.toFixed(3))),n},s.convert_to_units=function(e,t,a){var n;return"mm"===a?n={w:e/3.78,h:t/3.78}:"cm"===a?n={w:e/37.8,h:t/37.8}:"in"===a&&(n={w:e/96,h:t/96}),n.w.toString().length>5&&(n.w=Number(n.w.toFixed(3))),n.h.toString().length>5&&(n.h=Number(n.h.toFixed(3))),n},s.update_custom_dimension_units=function(e){var t,a=s.state.custom_dimension_units,n=0,r=0;if("px"===a)n=(t=s.convert_to_units(s.state.custom_width,s.state.custom_height,e)).w,r=t.h;else{var i=s.convert_to_px(s.state.custom_width,s.state.custom_height,a);"px"===e?(n=i.w,r=i.h):(n=(t=s.convert_to_units(i.w,i.h,e)).w,r=t.h)}s.set_state({custom_dimension_units:e,custom_width:n,custom_height:r}).then(function(){s.validate_and_update_custom_dimensions()})},s.validate_and_update_custom_dimensions=function(){var e=s.validate_custom_dimensions();e.test||e.message===s.state.dimension_invalid_message?""!==s.state.dimension_invalid_message&&s.setState({dimension_invalid_message:""}):s.setState({dimension_invalid_message:e.message})},s.validate_custom_dimensions=function(){var e=Number(s.state.custom_width),t=Number(s.state.custom_height),a=s.state.custom_dimension_units;return isNaN(e)?{test:!1,message:"Invalid width"}:isNaN(t)?{test:!1,message:"Invalid height"}:"px"===a&&(e<40||e>8e3||t<40||t>8e3)?{test:!1,message:"Dimensions must be greater than 40px and smaller than 8000px"}:"mm"===a&&(e<10.583||e>2116.664||t<10.583||t>2116.664)?{test:!1,message:"Dimensions must be greater than 10.583mm and smaller than 2116.664mm"}:"cm"===a&&(e<1.058||e>211.664||t<1.058||t>211.664)?{test:!1,message:"Dimensions must be greater than 1.058cm and smaller than 211.664cm"}:"in"===a&&(e<.417||e>83.328||t<.417||t>83.328)?{test:!1,message:"Dimensions must be greater than 0.417in and smaller than 83.328in"}:{test:!0,message:"dimensions are valid"}},s.set_state=function(){var e=Object(c.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return s.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s.fetch_user_resources=function(){var e=[];s.props.user?e.push(s.props.fetch_owned_designs()):e.push(Promise.resolve([])),Promise.all(e).then(function(e){var t=Object(o.a)(e,1)[0];s.setState({saved_designs:t})})},s.fetch_design_categories=Object(c.a)(l.a.mark(function t(){var a,n,r,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"category/fetch_all_design_categories",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});case 4:return n=t.sent,t.next=7,n.json();case 7:n=t.sent,r=(r=(r=n.data.sort(function(e,t){return e.priority<t.priority?1:-1})).map(function(e){var t=!1;return e.children&&(e.children=e.children.sort(function(e,t){return e.priority<=t.priority?1:-1}),e.children.length&&(t=!0)),t?e:null})).filter(function(e){return e}),i=(i=r.reduce(function(e,t){return e.concat(t.children)},[])).sort(function(e,t){return e.priority<=t.priority?1:-1}),s.setState({template_categories:i,unflattened_categories:r}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])})),s.logout=function(){s.props.logout(),S.toastr.success("You have been Logged Out")},s.design_template_on_click=function(e,t){var a=t&&t._id?"?category="+encodeURIComponent(t._id):e.categories&&e.categories.length?"?category="+encodeURIComponent(e.categories[0]):"";s.props.copy_into_saved_design(e._id).then(function(e){s.redirect_page("/designmaker/start/designs/"+e._id+"/edit"+a)}).catch(function(e){return Promise.reject(e)})},s.saved_design_on_click=function(e){s.redirect_page("/designmaker/start/designs/"+e._id+"/edit")},s.create_custom_dimension_design=function(){var e=s.validate_custom_dimensions();e.test||e.test?s.props.create_blank_design(s.state.custom_width,s.state.custom_height,s.state.custom_dimension_units).then(function(e){s.redirect_page("/designmaker/start/designs/"+e._id+"/edit")}).catch(function(e){return Promise.reject(e)}):s.setState({dimension_invalid_message:e.message})},s.toggle_overlay=function(){"none"===window.document.getElementById("popover_overlay").style.display?window.document.getElementById("popover_overlay").style.display="block":window.document.getElementById("popover_overlay").style.display="none"},s.show_move_to_folder_modal=function(e){Object(D.c)().then(function(e){return e.json()}).then(function(e){return s.setState({folders:e.data})}).catch(function(e){console.error(e),S.toastr.error("Something went wrong")}),s.setState({display_move_to_folder_modal:!0,active_design:e})},s.show_delete_design_modal=function(e){s.setState({display_delete_design_modal:!0,active_design:e})},s.activate_share_modal=function(e){var t=e.custom_url,a=e.design_id;e.is_saved_design?s.setState({show_share_modal:!0,active_design:null,active_custom_url:null,active_saved_design_id:a,saved_design_share_modal:!0}):s.setState({show_share_modal:!0,active_design:a,active_custom_url:t,active_saved_design_id:null,saved_design_share_modal:!1})},s.delete_saved_design=function(){Object(z.c)(s.state.active_design).then(function(){return s.setState({display_delete_design_modal:!1,active_design:null})}).then(function(){return s.props.fetch_owned_designs()}).then(function(e){return s.setState({saved_designs:e})}).catch(function(e){return S.toastr.error("Something went wrong :/")})},s.refreshDesignsData=function(){s.props.fetch_owned_designs().then(function(e){return s.setState({saved_designs:e})}).catch(function(e){return S.toastr.error("Something went wrong :/")})},s.copySavedDesignOnClick=function(){var t=Object(c.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e.config.server_path+"saved_design/clone_saved_design/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({saved_design_id:a._id,name_append:" Copy"})}).then(function(e){return e.json()}).then(function(e){return e.data}).then(function(t){s.refreshDesignsData(),window.open(e.config.website_url+"designmaker/start/designs/"+t._id+"/edit","_blank")});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),s.ThumbnailContextMenu=function(e){var t=e.design,a=e.template,n=e.preview_page?[{name:"Share",action:function(e){e.stopPropagation(),s.activate_share_modal({design_id:t._id,custom_url:t.custom_url})}},{name:"Use this template",action:function(e){e.stopPropagation(),s.design_template_on_click(t)}}]:a?[{name:"Share",action:function(e){e.stopPropagation(),s.activate_share_modal({design_id:t._id,custom_url:t.custom_url})}},{name:"Preview",action:function(e){s.redirect_page("/designmaker/start/template/"+(t.custom_url||t._id))}}]:[{name:"Make a copy",action:function(e){e.stopPropagation(),s.copySavedDesignOnClick(t)}},{name:"Move to Folder",action:function(e){e.stopPropagation(),s.show_move_to_folder_modal(t._id)}},{name:"Share",action:function(e){e.stopPropagation(),s.activate_share_modal({design_id:t._id,is_saved_design:!0})}},{name:"Delete",action:function(e){e.stopPropagation(),s.show_delete_design_modal(t._id)}}];return h.a.createElement(h.a.Fragment,null,h.a.createElement(G.a,{share_link:!0,template_id:t._id,contextMenuName:"your-designs-context-menu",contextMenuOptions:n}))},s.inmagine_login=function(){window.localStorage.setItem("last_url",window.location.href),window.location.href=e.config.designs_ai_server_path+"user/sign-in?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm},s.inmagine_logout=function(){window.localStorage.setItem("last_url",window.location.href),fetch(e.config.server_path+"user/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(t){window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm}).catch(function(t){console.error(t),window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm})},s.DashboardHome=function(t){var a=t.page;return h.a.createElement("div",{id:"dashboard_home",style:{paddingTop:30,paddingRight:"30px",paddingLeft:"5px"}},h.a.createElement(Q.a,{show:s.state.display_move_to_folder_modal,onHide:function(){return s.setState({display_move_to_folder_modal:!1,active_design:null})},folders:s.state.folders,omitFolders:s.props.user?[s.props.user.my_designs_folder]:[],activeDesign:s.state.active_design}),h.a.createElement($.a,{show:s.state.display_delete_design_modal,onHide:function(){return s.setState({display_delete_design_modal:!1,active_design:null})},deleteOnClick:s.delete_saved_design}),h.a.createElement(K.a,{categories:s.state.template_categories,redirectPage:s.redirect_page}),h.a.createElement(b.a,{style:{fontWeight:"bold",marginTop:"25px",marginBottom:"20px"}},h.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:800,fontSize:22}},"Popular Categories","templates"!=a&&h.a.createElement(v.a,{trigger:"click",placement:"bottom",overlay:h.a.createElement(y.a,Object.assign({},s.props,{id:"custom_dimension_box",className:"popover_left"}),h.a.createElement(u.CustomDimensionBox,null))},h.a.createElement(w.a,{id:"overlay_button",className:"popover-button-custom",style:{float:"right"},onClick:s.toggle_overlay},"Custom Dimensions")))),h.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:"5px",paddingRight:"5px"}},h.a.createElement(Y.a,{id:"design-templates-dashboard-slider",height:220},s.state.template_categories&&s.state.template_categories.length>0?s.state.template_categories.map(function(t,n){return h.a.createElement(h.a.Fragment,null,h.a.createElement("a",{style:{visibility:"hidden"},href:e.config.website_url+"designmaker/start/template/"+(t.example.custom_url||t.example._id)}),h.a.createElement(q.a,{key:"design-templates-dashboard"+n,idx:n,image_src:e.config.static_file_server_path+t.example.thumbnail,name:t.name,disable_overlay:!0,image_style:{maxWidth:160,maxHeight:185,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},context_menu:h.a.createElement(u.ThumbnailContextMenu,{design:t.example,template:!0,preview_page:"templates"==a}),footer_text:t.name,on_click:"templates"!=a?function(){s.design_template_on_click(t.example,t)}:function(){s.redirect_page("/designmaker/start/template/"+(t.example.custom_url||t.example._id))},skeleton:!0,skeleton_width:160*(t.dimensions.width>t.dimensions.height?1:t.dimensions.width/t.dimensions.height),skeleton_height:185*(t.dimensions.height>t.dimensions.width?1:t.dimensions.height/t.dimensions.width)}))}):Object(i.a)(new Array(20)).map(function(e,t){return h.a.createElement(q.a,{key:"design-templates-dashboard"+t,idx:t,disable_overlay:!0,image_style:{maxWidth:160,maxHeight:185,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},text_loader:!0,skeleton:!0,skeleton_width:160,skeleton_height:185})})))),"templates"!=a&&s.props.user&&s.state.saved_designs.length>0&&h.a.createElement("div",null,h.a.createElement(b.a,null,h.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:800,fontSize:22}},"Your designs"),h.a.createElement(w.a,{className:"popover-button-custom",style:{float:"right",paddingLeft:10},onClick:function(){return s.redirect_page("/designmaker/start/all-designs")}},"View All")),h.a.createElement(b.a,{style:{marginTop:"10px",marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:"5px",paddingRight:"5px"}},h.a.createElement(Y.a,{id:"saved-designs-dashboard-slider",height:220},s.state.saved_designs.map(function(t,a){return h.a.createElement(q.a,{key:"saved-designs-dashboard"+a,idx:a,image_src:e.config.static_file_server_path+t.thumbnail+"?t="+Date.now(),name:t.name,disable_overlay:!0,image_style:{maxWidth:148,maxHeight:173,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},footer_text:t.name,context_menu:h.a.createElement(u.ThumbnailContextMenu,{design:t}),on_click:function(){return s.saved_design_on_click(t)},skeleton:!0,skeleton_width:160,skeleton_height:185,boxed_view:!0,max_container_height:185})}))))),h.a.createElement(ee,{unflattened_categories:s.state.unflattened_categories,design_template_on_click:s.design_template_on_click,ThumbnailContextMenu:s.ThumbnailContextMenu,page:a,redirect_page:s.redirect_page}))},s.CustomDimensionBox=function(){return h.a.createElement("div",null,h.a.createElement(b.a,null,h.a.createElement(E.a,{xs:4,style:{paddingLeft:"5px",paddingRight:"3px"}},h.a.createElement(x.a,{style:{height:"38px",width:"100%"},type:"text",value:s.state.custom_width,onChange:function(e){s.update_custom_width(e.target.value)},onBlur:s.validate_and_update_custom_dimensions,placeholder:"width"})),h.a.createElement(E.a,{xs:4,style:{paddingLeft:"5px",paddingRight:"3px"}},h.a.createElement(x.a,{style:{height:"38px",width:"100%"},type:"text",value:s.state.custom_height,onChange:function(e){s.update_custom_height(e.target.value)},onBlur:s.validate_and_update_custom_dimensions,placeholder:"height"})),h.a.createElement(E.a,{xs:4,style:{paddingLeft:"5px",paddingRight:"3px"}},h.a.createElement(O.b,{style:{height:"38px",width:"100%"},styles:{option:function(e,t){return Object(r.a)({},e,{textAlign:"left",backgroundColor:t.isSelected?"#C8CDD4":t.isFocused?"#F1F2F3":"white"})}},value:{label:s.state.custom_dimension_units,value:s.state.custom_dimension_units},options:[{label:"px",value:"px"},{label:"in",value:"in"},{label:"mm",value:"mm"},{label:"cm",value:"cm"}],onChange:function(e){s.update_custom_dimension_units(e.value)}}))),h.a.createElement(b.a,{style:{paddingLeft:"5px",paddingRight:"3px"}},h.a.createElement("label",{style:{fontWeight:"200",color:"red"}},s.state.dimension_invalid_message)),h.a.createElement(k.a,null),h.a.createElement(w.a,Object(n.a)({type:"button",onClick:s.create_custom_dimension_design,className:"popover-button-custom create-new-design",style:{width:"100%"}},"type","submit"),"Create New Design"))},s.state={template_categories:[],unflattened_categories:[],templates:[],saved_designs:[],custom_height:"",custom_width:"",custom_dimension_units:"px",dimension_invalid_message:"",redirect:!1,redirect_url:null,apply_brand_kit:!1,active_page:s.props.match.url.split("/")[1],folders:[],display_move_to_folder_modal:!1,display_delete_design_modal:!1,active_design:null,active_saved_design_id:null,saved_design_share_modal:!1,active_custom_url:null,device_type:"desktop",show_share_modal:!1},s}return Object(g.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetch_user_resources(),this.fetch_design_categories(),this.update_window_size(),window.onresize=this.update_window_size,window.onscroll=function(e){return Object(f.forceCheck)()}}},{key:"componentDidUpdate",value:function(e,t){this.state.redirect!==t.redirect&&this.setState({redirect:!1,redirect_url:null}),e.user!=this.props.user&&this.fetch_user_resources()}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.redirect_url;return a?h.a.createElement(j.a,{push:!0,to:n}):"tablet"===this.state.device_type?h.a.createElement(J.a,null):h.a.createElement("div",null,h.a.createElement("div",{id:"popover_overlay",style:{top:0,left:0,position:"fixed",zIndex:"1000",height:"100%",width:"100%",display:"none"},onClick:function(){return document.getElementById("overlay_button").click()}}),h.a.createElement(I.a,{show_share_modal:this.state.show_share_modal,hide_share_modal:function(){return e.setState({show_share_modal:!1,active_design:null,active_custom_url:null})},template_id:this.state.active_design,custom_url:this.state.active_custom_url,design_id:this.state.active_saved_design_id,is_saved_design:this.state.saved_design_share_modal}),h.a.createElement(X.c,{clientName:X.a.designmaker},h.a.createElement(X.b,{isLogin:this.props.user,user:this.props.user&&this.props.user.inmagineUser&&this.props.user.inmagineUser.userDetails?this.props.user.inmagineUser.userDetails.user:this.props.user,clientName:X.a.designmaker,redirectPath:"/designmaker/start",onAction:function(e){var t=e.action;return Object(Z.a)(t)}})),h.a.createElement("div",{style:{width:"100%",paddingTop:0}},h.a.createElement("div",{style:{width:232,float:"left"}},h.a.createElement(A.a,{design_template_on_click:this.design_template_on_click,template_categories:this.state.template_categories,active_page:this.state.active_page})),h.a.createElement("div",{style:{width:"-webkit-fill-available",marginLeft:232,paddingLeft:40,paddingRight:"0px",minHeight:"85vh",overflowY:"auto"}},h.a.createElement(N.a,null,h.a.createElement(T.a,{path:"/designmaker/start/search",render:function(t){return h.a.createElement(V.a,Object.assign({ThumbnailContextMenu:e.ThumbnailContextMenu,templateOnClick:e.design_template_on_click},t))}}),h.a.createElement(T.a,{exact:!0,path:"/designmaker/start",render:function(){return h.a.createElement(e.DashboardHome,{page:"home"})}}),h.a.createElement(T.a,{exact:!0,path:"/designmaker/start/templates",render:function(){return h.a.createElement(e.DashboardHome,{page:"templates"})}}),this.props.user&&h.a.createElement(T.a,{path:"/designmaker/start/brand-kit",render:function(){return h.a.createElement(R.a,null)}}),this.props.user&&h.a.createElement(T.a,{path:"/designmaker/start/design-orders",render:function(){return h.a.createElement(B.a,null)}}),h.a.createElement(T.a,{path:"/designmaker/start/categories",render:function(){return h.a.createElement(M.a,null)}}),this.props.user&&h.a.createElement(T.a,{path:"/designmaker/start/shared-designs",render:function(){return h.a.createElement(L.a,null)}}),this.props.user&&h.a.createElement(T.a,{key:"root-folder-view",exact:!0,path:"/designmaker/start/folders",render:function(){return h.a.createElement(W.a,{saved_designs:e.state.saved_designs})}}),this.props.user&&h.a.createElement(T.a,{key:"folder-inner-view",path:"/designmaker/start/folders/:folder_id/:role?",render:function(){return h.a.createElement(W.a,{saved_designs:e.state.saved_designs})}}),this.props.user&&h.a.createElement(T.a,{path:"/designmaker/start/all-designs",render:function(){return h.a.createElement(H.a,{on_click:e.saved_design_on_click,resources:e.state.saved_designs,image_height:"200px",noCache:!0,refreshDesigns:e.refreshDesignsData})}}),h.a.createElement(T.a,{path:"/designmaker/start/wizard",render:function(){return h.a.createElement(U.b,null)}})))))}}]),a}(_.Component);t.a=Object(P.a)(Object(C.connect)(function(e){return{user:e.user}},function(e){return{logout:function(){e({type:"none"})},open_login_modal:function(){e(Object(F.a)())},fetch_design_categories:function(){return e(Object(z.d)())},fetch_owned_designs:function(){return e(Object(z.e)())},copy_into_saved_design:function(t){return e(Object(z.a)(t))},create_blank_design:function(t,a,n){return e(Object(z.b)(t,a,n))}}})(te))}).call(this,a(40))},219:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(0),i=a.n(r);t.a=function(t){var a=t.show_loader,o=t.style;try{var s={width:"100%",height:"100%",overflow:"hidden",display:a?"block":"none"};return Object(r.useEffect)(function(){a?function(){var t=window.document.getElementsByClassName("bodymovin");function a(t){window.bodymovin.loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!0,path:e.config.server_path+"uploads/loader-dai-small.json",name:"loader_animation"})}for(var n=0;n<t.length;n++)a(t[n])}():window.bodymovin.destroy("loader_animation")},[a]),i.a.createElement("div",{style:Object(n.a)({},s,o),className:"bodymovin loader_overlay"}," ")}catch(l){return"Loader has crashed"}}}).call(this,a(40))},221:function(e,t,a){"use strict";(function(e){a.d(t,"c",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s});var n=function(){return function(t){var a=e.config.server_path+"user/fetch_teams";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){return l(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},r=function(t,a,n){return function(r){var i=new FormData;i.append("name",t),i.append("file_type",a),i.append("file",n,n.name);var o=e.config.server_path+"user/upload_brand_file";return fetch(o,{method:"POST",credentials:"include",body:i})}},i=function(t){return function(a){var n=e.config.server_path+"user/update_brand_data";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({brand_kit:t})}).then(function(e){return e.json()}).then(function(e){return l(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},o=function(t,a,n){return function(r){var i=e.config.server_path+"design_resource/get_color_palettes";return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({category:t,limit:a,page:n})}).then(function(e){return e.json()}).then(function(e){return l(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},s=function(t){return function(t){var a=e.config.server_path+"design_resource/get_display_color_palettes";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){return l(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},l=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e)}}).call(this,a(40))},229:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i});var n=function(e){return{type:"USER_DETAILS_FETCHED",payload:e}},r=function(){return function(t){return fetch(e.config.server_path+"user/get_details",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){return e.json()}).then(function(e){return o(e)}).then(function(e){return t(n(e.data))}).catch(function(e){return t(n(null))})}},i=function(){return function(t){return fetch(e.config.server_path+"user/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})}},o=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e.error)}}).call(this,a(40))},248:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(79),s=a(8),l=a(35),c=a(0),d=a.n(c),u=a(219);a.d(t,"a",function(){return u.a});var p=a(39),m=a(1409),g=a(1410),_=a(105),h=a(95),f=a(809),b=a(437),v=a(20),y=a(134),w=(a(191),a(109)),E=a(83),x=a(104),k=a(700),O=a.n(k),S=(a(1128),a(402)),C=a(265),j={color:"#FF841F",fontFamily:"Montserrat",fontSize:16,fontWeight:600,letterSpacing:0},N={color:"#453E38",fontFamily:"Montserrat",fontSize:14,fontWeight:500,letterSpacing:0},T=function(e){var t=e.inner_html,a=e.show_preview_loader,n=e.on_click,r=e.name,i=e.idx,o=e.image_src,s=e.container_style,c=e.image_style,u=e.overlay_style,m=e.title_style,g=e.disable_overlay;try{var _={borderRadius:6,cursor:"pointer",height:120};return d.a.createElement("div",{key:i,className:"wizard_slider_container",onClick:n,style:Object(l.a)({},{marginRight:10,display:"inline-block"},s)},t?d.a.createElement("div",{style:Object(l.a)({},_,c),dangerouslySetInnerHTML:{__html:t}}):d.a.createElement(p.a,{style:Object(l.a)({},_,c),key:"horizonal-scroll-tempates"+i,src:o,alt:"Image Not Found :P :P "}),!g&&d.a.createElement(d.a.Fragment,null,a?d.a.createElement("div",{className:"wizard_slider_overlay wizard_slider_overlay_show",style:Object(l.a)({},u,{zIndex:999})},d.a.createElement("h6",{className:"wizard_slider_title",style:m},"Swapping Style...")):d.a.createElement("div",{className:"wizard_slider_overlay",style:Object(l.a)({},u,{zIndex:999})},d.a.createElement("h6",{className:"wizard_slider_title",style:m},r))))}catch(h){return console.log("error in image box",h),"Image box failed"}};T.defaultProps={image_style:{},container_style:{},title_style:{},disable_overlay:!1};var P=function(t){var a=t.selected_tag,n=(t.selected_tags,t.set_selected_tags),u=t.update_pg_json,p=t.photos,v=t.fetch_images,w=t.user,E=t.set_show_loader,k=t.inmagine_login;try{var S=Object(c.useState)([]),C=Object(s.a)(S,2),j=C[0],P=C[1],z=Object(c.useState)([]),F=Object(s.a)(z,2),D=F[0],A=F[1],I=Object(c.useState)([]),R=Object(s.a)(I,2),B=R[0],M=R[1],L=Object(c.useState)(null),W=Object(s.a)(L,2),H=W[0],U=W[1],J=Object(c.useState)(null),G=Object(s.a)(J,2),K=G[0],V=G[1],q=function(e){var t=e.label_id,a=e.new_value,n=e.new_image_fit,r=e.new_remove_bg;try{if(!a)return;var i=Object(o.a)(B);i=i.map(function(e){return e._id==t?Object(l.a)({},e,{value:a,image_fit:n,remove_bg:Boolean(r)}):e}),M(i)}catch(s){console.log(s)}},Y=function(){var t=Object(i.a)(r.a.mark(function t(a){var n,i,o,s,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.file,i=a.label_id,t.prev=1,E(!0),(o=new FormData).append("folder_id",w.my_photos_folder),o.append("file",n,i),s=e.config.server_path+"folder/upload_multiple_files",t.next=9,fetch(s,{method:"POST",credentials:"include",body:o});case 9:return l=t.sent,t.next=12,l.json();case 12:l=t.sent,U(i),v(),E(!1),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.log("error in uploading photos --< >>>>> ",t.t0);case 21:case"end":return t.stop()}},t,this,[[1,18]])}));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)(function(){a&&a.copyright_labels&&a.copyright_labels.length&&(P(a.copyright_labels.filter(function(e){return"text"==e.type}).map(function(e){return Object(l.a)({},e,{value:""})})),M(a.copyright_labels.filter(function(e){return"image"==e.type}).map(function(e){return Object(l.a)({},e,{value:"",image_fit:"contain",remove_bg:!1})})),A(a.tag_filters.map(function(e){return Object(l.a)({},e,{value:""})})))},[a]),Object(c.useEffect)(function(){u({text_labels:j,image_labels:B})},[B]),Object(c.useEffect)(function(){K&&(clearTimeout(K),V(null)),V(setTimeout(function(){u({text_labels:j,image_labels:B})},300))},[j]),Object(c.useEffect)(function(){H&&(q({label_id:H,new_value:p[0].path,new_image_fit:"contain"}),U(null))},[p]),d.a.createElement("div",{style:{backgroundColor:"#faf9f9",paddingBottom:20,paddingRight:20,paddingLeft:20,paddingTop:10,height:"calc(100% - 39px)",overflowY:"scroll"}},a?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,D.map(function(e,t){return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,null,d.a.createElement(g.a,{sm:12},d.a.createElement("h5",{style:N},e.name),d.a.createElement(_.a,{style:{marginBottom:0}},d.a.createElement(x.b,{value:e.value,onChange:function(e){return function(e){var t=e.idx,r=e.new_value,i=Object(o.a)(D);i[t]=Object(l.a)({},i[t],{value:r}),A(i),n([a._id,r.value])}({idx:t,new_value:e})},options:e.eligible_tags.map(function(e){return{value:e._id,label:e.name}}),components:O()()}),d.a.createElement("br",null)))))})),d.a.createElement("div",{style:{paddingBottom:20}},B.map(function(t,a){return d.a.createElement(m.a,{style:{marginBottom:5}},d.a.createElement(g.a,{xs:12},d.a.createElement("h5",{style:N},t.name),d.a.createElement(h.a,{style:{display:"none"},id:t._id,name:t.name,type:"file",onChange:function(e){return Y({label_id:t._id,file:e.target.files[0]})}}),d.a.createElement(y.a,{id:t._id+"_slider",height:60},d.a.createElement(T,{key:"image_box_"+a,on_click:function(){w?document.getElementById(t._id).click():k()},idx:a,image_src:e.config.server_path+"public/images/plus.jpg",image_style:{height:60,border:"1px solid orange"},container_style:{marginRight:5},overlay_style:{paddingTop:5},disable_overlay:!0}),p.map(function(a,n){return d.a.createElement(T,{key:"image_box_"+n,on_click:function(){return q({label_id:t._id,new_value:a.path,new_image_fit:"contain"})},idx:n,image_src:e.config.static_file_server_path+(a.low_path||a.path),name:"\u2714",image_style:{height:60},container_style:{marginRight:5},overlay_style:{paddingTop:20,display:a.path==t.value?"block":"none"},title_style:{fontSize:20}})})),d.a.createElement("br",null),t.value&&d.a.createElement(d.a.Fragment,null,"Image Fit",d.a.createElement(_.a,{style:{fontSize:"14px"}},d.a.createElement(f.a,{name:"radioGroup_cover"+t._id,checked:"cover"==t.image_fit,onClick:function(e){return q({label_id:t._id,new_value:t.value,new_image_fit:"cover"})},inline:!0},"Cover"),d.a.createElement(f.a,{name:"radioGroup_contain"+t._id,checked:"contain"==t.image_fit,onClick:function(e){return q({label_id:t._id,new_value:t.value,new_image_fit:"contain"})},inline:!0},"Contain")),d.a.createElement(_.a,{style:{fontSize:"14px"}},d.a.createElement(b.a,{name:"checkbox_remove_bg"+t._id,checked:t.remove_bg,onClick:function(e){return q({label_id:t._id,new_value:t.value,new_image_fit:t.image_fit,new_remove_bg:!Boolean(t.remove_bg)})},inline:!0},"Remove Background")))))})),d.a.createElement("div",null,d.a.createElement(m.a,null,d.a.createElement(g.a,{xs:12},d.a.createElement("h5",{style:N},"Fill in copywriting"))),j.map(function(e,t){return d.a.createElement(m.a,null,d.a.createElement(g.a,{sm:12},d.a.createElement(_.a,null,d.a.createElement(h.a,{id:e._id,name:e.name,type:"text",value:e.value,placeholder:e.name,onChange:function(e){return function(e){var t=e.idx,a=e.new_value,n=Object(o.a)(j);n[t]=Object(l.a)({},n[t],{value:a}),P(n)}({idx:t,new_value:e.target.value})}}),d.a.createElement("br",null))))}))):d.a.createElement("h4",{style:N}," Please choose a format to begin"))}catch(Q){return console.log(Q),""}},z=function(e){var t=e.selected_tag,a=e.pg_json,n=e.procedural_generation,o=e.preview_design,l=e.show_loader,p=e.set_show_loader;e.colors,e.set_colors;try{var m=Object(c.useState)(""),g=Object(s.a)(m,2),_=g[0],h=g[1],f=Object(c.useState)(null),b=Object(s.a)(f,2),v=(b[0],b[1],Object(c.useState)(!1)),y=Object(s.a)(v,2),w=y[0],E=(y[1],Object(c.useState)(!1)),x=Object(s.a)(E,2),k=(x[0],x[1]),O=Object(c.useState)(window.innerWidth),S=Object(s.a)(O,2),C=S[0],j=S[1],P=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i,s,l,c,d,u,m,g;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t==I){e.next=2;break}return e.abrupt("return");case 2:return p(!0),a=o.design_file,i=a.height,s=a.width,l=document.getElementById("design_preview"),c=l.clientHeight,d=l.clientWidth,d/c<s/i?u=d:m=c,e.next=10,n(o,u,m);case 10:if(g=e.sent,t==I){e.next=13;break}return e.abrupt("return");case 13:g&&h(g.inner_html),p(!1);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){w||k(0)},[w]),Object(c.useEffect)(function(){o&&P(I)},[a,o,C]),Object(c.useEffect)(function(){var e=function(){return j(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),d.a.createElement("div",{id:"design_container",style:{backgroundColor:"#faf9f9",padding:10,paddingRight:20,paddingLeft:20,height:"calc(100% - 39px)",position:"relative"}},d.a.createElement("div",{id:"design_preview",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l&&d.a.createElement(u.a,{show_loader:l,style:{}}),t&&_&&d.a.createElement(T,{inner_html:_,idx:0,image_style:{width:"100%",height:"100%",objectFit:"contain"}})),!t&&!l&&d.a.createElement("h4",{style:N}," Please choose a format to preview"))}catch(z){return console.log("error in design preview ---\x3e ",z)," Design preview crashed"}},F=function(t){var a=t.tags,n=t.selected_tag,o=t.set_selected_tag,l=t.selected_tags,u=t.set_selected_tags,p=t.user,_=t.pg_json,h=t.set_pg_json,f=t.procedural_generation,b=t.preview_design,v=t.colors,w=t.set_colors,E=t.inmagine_login;try{var x=Object(c.useState)([]),k=Object(s.a)(x,2),O=k[0],S=k[1],C=Object(c.useState)(!1),N=Object(s.a)(C,2),F=N[0],D=N[1],A=function(){var t=Object(i.a)(r.a.mark(function t(){var a,n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"folder/get",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:p.my_photos_folder})});case 4:return n=t.sent,t.next=7,n.json();case 7:n=t.sent,i=n.data[0].folder.resources.reverse(),S(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("error in fetching images ----\x3e ",t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)(function(){p&&A()},[p]),d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{style:{padding:25}},d.a.createElement(g.a,{xs:12},d.a.createElement("h4",{style:j}," Pick a format "),d.a.createElement("div",null,d.a.createElement(y.a,{id:"wizard_slider",height:120},a.map(function(e,t){return d.a.createElement(T,{key:"image_box_"+t,on_click:function(){return o(e)},idx:t,image_src:e.display_image,name:e.name,overlay_style:{display:n&&e._id==n._id?"block":""}})}))))),d.a.createElement(m.a,{style:{paddingLeft:25,paddingBottom:25,paddingRight:25,oveflowY:"auto",height:"calc(100vh - 345px)"}},d.a.createElement(g.a,{xs:5,style:{height:"100%"}},d.a.createElement("h4",{style:j}," Input variables "),d.a.createElement(P,{update_pg_json:function(e){var t=e.text_labels,a=e.image_labels;try{var n=[],r=[],i=[t.filter(function(e){return e.value}),a.filter(function(e){return e.value})];a=i[1],(t=i[0]).length&&(r=t.map(function(e){return{label_id:e._id,text:e.value}})),a.length&&(n=a.map(function(e){return{label_id:e._id,src:e.value,image_fit:e.image_fit,remove_bg:e.remove_bg}}));var o={text:r,images:n};window._.isEqual(o,_)||h(o)}catch(s){console.log("error in updating pg_json ---\x3e>> ",s)}},selected_tag:n,selected_tags:l,set_selected_tags:u,fetch_images:A,photos:O,user:p,inmagine_login:E,set_show_loader:D})),d.a.createElement(g.a,{xs:7,style:{height:"100%"}},d.a.createElement("h4",{style:j}," Preview "),d.a.createElement(z,{selected_tag:n,pg_json:_,procedural_generation:f,preview_design:b,show_loader:F,set_show_loader:D,colors:v,set_colors:w}))))}catch(I){return console.log("error in wizard form ---\x3e ",I),""}},D=function(e){var t=e.user,a=e.show_preview_loader,n=e.set_show_preview_loader,u=e.show_swap_options,p=e.set_show_swap_options,g=e.colors,_=e.show_color_picker,h=e.update_colors,f=e.color_index,b=e.box_style,y=e.select_color,E=e.set_show_color_picker,x=e.show_only_color_picker,k=e.preview_data,O=e.set_preview_data,S=(e.pg_designs,e.set_pg_designs,e.clearChanges);try{var C=Object(c.useState)(!0),N=Object(s.a)(C,2),T=N[0],P=(N[1],Object(c.useState)(!1)),z=Object(s.a)(P,2),F=z[0],D=z[1],A=Object(c.useState)(-1),R=Object(s.a)(A,2),M=(R[0],R[1],{position:"absolute",margin:20,right:0,borderRadius:6,width:_?"fit-content":300,boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)",backgroundColor:"white",zIndex:1e3}),L={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:500},W=function(){var e=Object(i.a)(r.a.mark(function e(t){var s,c,d,u,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t==I){e.next=2;break}return e.abrupt("return");case 2:if(T&&F){e.next=8;break}for(s=Object(o.a)(a),c=0;c<k.length;c++)s[c]=!0;n(Object(o.a)(s)),e.next=9;break;case 8:return e.abrupt("return");case 9:if(d=Object(o.a)(k.map(function(e){return Object(l.a)({},e)})).slice(),u=function(){var e=Object(i.a)(r.a.mark(function e(a,s){var l,c,d,u,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=s[a].design_file,c=l.height,l.width>c?d=280:u=280,e.next=4,B.push_request(function(e){return e.load(s[a].design_file),e.draw(),e.fontSwap(0).then(Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(F){t.next=3;break}return t.next=3,e.colorSwap(1,[g[0],g[1]]);case 3:return t.next=5,e.wait_to_load();case 5:return e.set_redraw_all_objects("text"),t.abrupt("return",Promise.resolve());case 7:case"end":return t.stop()}},t,this)})))},d,u);case 4:if(p=e.sent,s[a].swap_design_file=p.design_file,s[a].swap_src=p.src,s[a].swap_inner_html=p.inner_html,t==I){e.next=10;break}return e.abrupt("return");case 10:if(t==I){e.next=12;break}return e.abrupt("return");case 12:O(function(e){var t=Object(o.a)(e);return t[a]=s[a],t}),n(function(e){var t=Object(o.a)(e);return t[a]=!1,t});case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(r.a.mark(function e(a,s){var l,c,d,u,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=s[a].design_file,c=l.height,l.width>c?d=280:u=280,e.next=4,B.push_request(function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.load(s[a].design_file),t.draw(),e.next=4,t.colorSwap(1,[g[0],g[1]]);case 4:return e.next=6,t.wait_to_load();case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d,u);case 4:if(p=e.sent,s[a].swap_design_file=p.design_file,s[a].swap_src=p.src,s[a].swap_inner_html=p.inner_html,t==I){e.next=10;break}return e.abrupt("return");case 10:if(t==I){e.next=12;break}return e.abrupt("return");case 12:O(function(e){var t=Object(o.a)(e);return t[a]=s[a],t}),n(function(e){var t=Object(o.a)(e);return t[a]=!1,t});case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),T){e.next=21;break}c=0;case 14:if(!(c<d.length)){e.next=21;break}if(t==I){e.next=17;break}return e.abrupt("return");case 17:u(c,d);case 18:c++,e.next=14;break;case 21:if(F||!T){e.next=31;break}[],c=0;case 24:if(!(c<d.length)){e.next=31;break}if(t==I){e.next=27;break}return e.abrupt("return");case 27:p(c,d);case 28:c++,e.next=24;break;case 31:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return u?d.a.createElement(d.a.Fragment,null,_?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{onClick:function(){return x?p(!1):E(!1)},style:L}),d.a.createElement("div",{style:Object(l.a)({},M,b)},d.a.createElement(w.a,{user:t,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:g[f],onChange:function(e){return function(e){try{var t=JSON.parse(JSON.stringify(g));t[f]=e,h(t)}catch(a){}}(e.hex)}}))):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{onClick:function(){return p(!1)},style:L}),d.a.createElement("div",{style:Object(l.a)({},M,b)},d.a.createElement(m.a,{style:{borderBottom:"solid 2px #faf9f9",padding:15}},d.a.createElement("span",{style:j},"Style Swap")," ",d.a.createElement("span",{onClick:function(){return p(!1)},style:{color:"grey",cursor:"pointer"},className:"fa fa-times pull-right"})),d.a.createElement(m.a,{style:{margin:15,textAlign:"center"}},d.a.createElement(v.a,{style:{marginBottom:10,color:"#FF841F",border:"1px solid #FF841F",paddingTop:9,paddingBottom:9,boxShadow:"none",textShadow:"none",backgroundImage:"none",backgroundColor:"white"},className:"btn-block"},d.a.createElement("span",{className:"pull-left"},"Color"),g.map(function(e,t){return d.a.createElement("span",{style:{float:"center",color:e,marginLeft:5,fontSize:16},className:"fa fa-circle",onClick:function(){return y(t)}})}),d.a.createElement("span",{className:F?"fa fa-lock pull-right":"fa fa-lock-open pull-right",onClick:function(){return D(!F)}})),d.a.createElement(v.a,{onClick:S,style:{marginRight:"5px"},className:"btn-orange btn-sm"},"Clear"),d.a.createElement(v.a,{onClick:function(){return W(I)},className:"btn-orange btn-sm"},"Apply"))))):""}catch(H){return console.log("error in swap form ===>>>> ",H),""}};D.defaultProps={colors:["#F5F5DC","#8A5B2F"],show_color_picker:!1,box_style:{},show_only_color_picker:!1};var A=function(t){var a=t.user,n=(t.selected_tag,t.show_form,t.set_show_form),r=t.preview_data,i=t.set_preview_data,o=t.pg_designs,p=t.set_pg_designs,g=t.show_loader,_=t.fetch_more_data,h=t.colors,f=t.set_colors;try{var b=Object(c.useState)(0),y=Object(s.a)(b,2),w=(y[0],y[1],Object(c.useState)(!1)),E=Object(s.a)(w,2),x=E[0],k=E[1],O=Object(c.useState)(0),S=Object(s.a)(O,2),C=S[0],N=S[1],P=Object(c.useState)(!1),z=Object(s.a)(P,2),F=z[0],A=z[1],R=Object(c.useState)([]),B=Object(s.a)(R,2),M=B[0],L=B[1],W={margin:10,width:300,height:300,backgroundColor:"#faf9f9"},H=function(){if(r&&i){I+=1,L(r.map(function(e){return!0}));for(var e=r.slice(),t=0;t<e.length;t++)delete e[t].swap_design_file,delete e[t].swap_src,delete e[t].swap_inner_html;var a=o.slice();p(a),i(e),L(r.map(function(e){return!1}))}};return d.a.createElement(m.a,{style:{padding:25}},d.a.createElement(m.a,null,d.a.createElement("span",{style:{cursor:"pointer",color:"grey",fontWeight:"bold"},onClick:function(){H(),n(!0)},className:"fa fa-arrow-left"}),d.a.createElement("span",{style:Object(l.a)({},j,{marginLeft:5})},"Choose design to edit"),d.a.createElement(v.a,{className:"btn-orange",style:{float:"right",marginLeft:5},onClick:function(){return k(!0)}},"Swap"),d.a.createElement(D,{pg_designs:o,set_pg_designs:p,preview_data:r,set_preview_data:i,show_swap_options:x,set_show_swap_options:k,colors:h,update_colors:f,color_index:C,select_color:function(e){N(e),A(!0)},show_color_picker:F,set_show_color_picker:A,show_preview_loader:M,clearChanges:H,set_show_preview_loader:L,user:a})),d.a.createElement("br",null),r&&r.length>0&&d.a.createElement(d.a.Fragment,null,r.map(function(t,a){return d.a.createElement(d.a.Fragment,null,d.a.createElement(T,{on_click:function(){!function(t,a,n){M[n]||fetch(e.config.server_path+"saved_design/create_from_json/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_file:t})}).then(function(e){return e.json()}).then(function(e){return e.data}).then(function(t){var n={id:t._id,thumbnail_data:a};return fetch(e.config.server_path+"saved_design/update_thumbnail",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(a){window.open(e.config.website_url+"designmaker/start/designs/"+t._id+"/edit","_blank")})})}(t.swap_design_file||t.design_file,t.swap_src||t.src,a)},inner_html:t.swap_inner_html||t.inner_html,name:"Edit",idx:a,image_style:{height:"auto",width:"auto"},container_style:Object(l.a)({},W,{display:"inline-flex",alignItems:"center",justifyContent:"center"}),overlay_style:{paddingTop:90},show_preview_loader:M[a]}))})),d.a.createElement(m.a,null,d.a.createElement(u.a,{show_loader:g,style:{width:"75%",height:250,position:"relative"}})),d.a.createElement(m.a,{className:"text-center"},0!=r.length&&d.a.createElement(v.a,{className:"btn btn-orange",onClick:function(){_(r.length,6)}},"Show more")))}catch(U){return console.log("error in designs listing ---\x3e ",U),"Something went wrong while trying to preview the designs"}},I=0,R={},B={number_of_instances:6,pg_designs:[],active_process_id:0,active_process_name:"",render_queue:[],clear_queue:function(){B.render_queue=[]},push_request:function(e,t,a){var n,r;t=t||a?t:280;var i=new Promise(function(e,t){n=e,r=t});return B.render_queue.push({fn:e,resolver:n,rejecter:r,base_width:t,base_height:a}),B.execute(),i},execute:function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=B.get_free_design())&&B.render_queue.length>0)){e.next=13;break}return t.is_free=!1,a=B.render_queue.shift(),e.next=6,a.fn(t);case 6:t.base_width=a.base_width,t.base_height=a.base_height,t.handleWindowResize(),t.draw(),a.resolver({src:t.pages[0].export("low"),inner_html:t.pages[0].get_html(),design_file:t.save()}),t.is_free=!0,B.execute();case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),get_free_design:function(){for(var e=0;e<B.pg_designs.length;e++)if(B.pg_designs[e].is_free)return B.pg_designs[e];return null}};window.A=B;t.b=function(){var t=Object(E.useSelector)(function(e){return e.user}),a=Object(c.useState)([]),n=Object(s.a)(a,2),o=(n[0],n[1]),u=Object(c.useState)([]),p=Object(s.a)(u,2),g=p[0],_=p[1],h=Object(c.useState)({text:[],images:[]}),f=Object(s.a)(h,2),b=f[0],y=f[1],w=Object(c.useState)([]),x=Object(s.a)(w,2),k=x[0],O=x[1],j=Object(c.useState)([]),N=Object(s.a)(j,2),T=N[0],P=N[1],z=Object(c.useState)([]),D=Object(s.a)(z,2),M=D[0],L=D[1],W=Object(c.useState)(),H=Object(s.a)(W,2),U=H[0],J=H[1],G=Object(c.useState)(!0),K=Object(s.a)(G,2),V=K[0],q=K[1],Y=Object(c.useState)(!1),Q=Object(s.a)(Y,2),$=Q[0],X=Q[1],Z=Object(c.useState)(["#F8F8D8","#9E2735"]),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(!1),re=Object(s.a)(ne,2),ie=re[0],oe=re[1],se=function(){var t=Object(i.a)(r.a.mark(function t(){var a,n,i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"tag/get_all",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return n=t.sent,t.next=7,n.json();case 7:n=t.sent,i=n.data.map(function(t,a){return Object(l.a)({},t,{display_image:e.config.static_file_server_path+t.display_image})}),o(i),s=i.filter(function(e){return"pg_category"==e.type}).sort(function(e,t){return t.priority-e.priority}),_(s),s&&s.length>0&&J(s[0]),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)(function(){return function(){for(var e=0;e<B.number_of_instances;e++)B.pg_designs[e]=new window.DM_Design,B.pg_designs[e].base_width=280,B.pg_designs[e].handleWindowResize(),B.pg_designs[e].is_free=!0}(),function(){B.pg_designs=[]}},[]);var le=function(){var e=Object(i.a)(r.a.mark(function e(t,a,n){var i,o,s,l,c,d,u,p,m,g,_,h,f,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=18;break}return I+=1,i=T.slice(),n&&(P([]),O([]),i=[]),X(!0),e.next=7,de(t/a,a);case 7:for(o=e.sent,s=o.data.docs,l=i.concat(s),P(l),c=l.length,t+a>c&&Math.max(t+a-c,0),d=l.slice(t,t+a),u=n?[]:k.slice(),p=[],m=0;m<d.length;m++)g=d[m].design_file,_=g.height,h=g.width,f=void 0,v=void 0,h>_?f=280:v=280,p.push(ce(d[m],f,v));Promise.all(p).then(function(e){u=u.concat(e),O(u),X(!1)});case 18:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(r.a.mark(function e(t,a,n){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.push_request(function(){var e=Object(i.a)(r.a.mark(function e(a){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.load(t.design_file),a.draw(),e.next=4,a.wait_to_load();case 4:a.draw(),n=0;case 6:if(!(n<b.images.length)){e.next=17;break}if(!b.images[n].src||!b.images[n].remove_bg||R[b.images[n].src]){e.next=14;break}return e.next=10,window.loadStaticImage(b.images[n].src);case 10:return i=e.sent,e.next=13,window.bg_removal_generic(i,{enabled:!0,feather:0,offset:0,sharpness:0,crf:0,matting:0,cache:""});case 13:R[b.images[n].src]=e.sent;case 14:n++,e.next=6;break;case 17:return e.next=19,a.proceduralGeneration(b,!1,R);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a,n);case 3:return o=e.sent,e.abrupt("return",{src:o.src,inner_html:o.inner_html,design_file:o.design_file});case 7:e.prev=7,e.t0=e.catch(0),console.log("error in procedural_generation ----\x3e ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a,n){return e.apply(this,arguments)}}(),de=function(){var t=Object(i.a)(r.a.mark(function t(a,n){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return I+=1,t.next=3,fetch(e.config.server_path+"design/get_by_tag_id",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_id:M,page_no:a,size:n})});case 3:return i=t.sent,t.abrupt("return",i.json());case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),ue=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I+=1,!U){e.next=6;break}return e.next=4,de(0,1);case 4:t=e.sent,P(t.data.docs);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ae(t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){se()},[]),Object(c.useEffect)(function(){U&&L([U._id])},[U]),Object(c.useEffect)(function(){ue()},[M]),Object(c.useEffect)(function(){V||le(0,6,!0)},[V]),d.a.createElement(d.a.Fragment,null,d.a.createElement(S.a,{show:ie,hide:function(){return oe(!1)}}),d.a.createElement("div",{style:{marginLeft:"-40px"}},d.a.createElement("div",{style:{height:"calc(100vh - 75px)",overflowY:"scroll"}},V?d.a.createElement(d.a.Fragment,null,d.a.createElement(F,{pg_json:b,set_pg_json:y,tags:g,selected_tag:U,selected_tags:M,set_selected_tag:J,set_selected_tags:L,user:t,procedural_generation:ce,preview_design:T[0],colors:te,set_colors:pe,inmagine_login:function(){window.localStorage.setItem("last_url",window.location.href),window.location.href=e.config.designs_ai_server_path+"user/sign-in?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm}}),d.a.createElement(m.a,{className:"text-center"},d.a.createElement(v.a,{className:"btn btn-orange",disabled:!U||0===T.length,onClick:function(){Object(C.d)(t)?(O([]),q(!1)):oe(!0)}},"Generate designs"))):d.a.createElement(A,{selected_tag:U,preview_data:k,set_preview_data:O,set_show_form:q,fetch_more_data:le,show_loader:$,pg_designs:T,set_pg_designs:P,colors:te,user:t,set_colors:ae}))))}}).call(this,a(40))},265:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return o});var n=function(e){try{return!0}catch(t){return!1}},r=function(e){try{return!0}catch(t){return!1}},i=function(e){try{return!0}catch(t){return!1}},o=function(e){try{return"admin"===e.type||!0===e.inmagineUser.userDetails.user.subscription.sub_status&&e.inmagineUser.userDetails.user.subscription.scope.includes("designmaker")}catch(t){return!1}}},282:function(e,t,a){},311:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=[{filterName:null,displayName:"None",src:"uploads/filters/0_Original.jpg"},{filterName:"citrine",displayName:"Citrine",src:"uploads/filters/1_Citrine.jpg"},{filterName:"raspberry",displayName:"Raspberry",src:"uploads/filters/2_Raspberry.jpg"},{filterName:"gaspeite",displayName:"Gaspeite",src:"uploads/filters/3_Gaspeite.jpg"},{filterName:"lapis-lazuli",displayName:"Lapis Lazuli",src:"uploads/filters/4_Lapis Lazuli.jpg"},{filterName:"kyanite",displayName:"Kyanite",src:"uploads/filters/5_Kyanite.jpg"},{filterName:"morganite",displayName:"Morganite",src:"uploads/filters/6_Morganite.jpg"},{filterName:"jade",displayName:"Jade",src:"uploads/filters/7_Jade.jpg"},{filterName:"brandberg",displayName:"Brandberg",src:"uploads/filters/8_Brandberg.jpg"},{filterName:"stilbite",displayName:"Stilbite",src:"uploads/filters/9_Stilbite.jpg"},{filterName:"sunstone",displayName:"Sunstone",src:"uploads/filters/10_Sunstone.jpg"},{filterName:"ametrine",displayName:"Ametrine",src:"uploads/filters/11_Ametrine.jpg"},{filterName:"tugtupite",displayName:"Tugtupite",src:"uploads/filters/12_Tugtupite.jpg"},{filterName:"amber",displayName:"Amber",src:"uploads/filters/13_Amber.jpg"},{filterName:"crocoite",displayName:"Crocoite",src:"uploads/filters/14_Crocoite.jpg"},{filterName:"aegirine",displayName:"Aegirine",src:"uploads/filters/15_Aegirine.jpg"},{filterName:"atacamite",displayName:"Atacamite",src:"uploads/filters/16_Atacamite.jpg"},{filterName:"azurite",displayName:"Azurite",src:"uploads/filters/17_Azurite.jpg"},{filterName:"chrysoprase",displayName:"Chrysoprase",src:"uploads/filters/18_Chrysoprase.jpg"},{filterName:"limonite",displayName:"Limonite",src:"uploads/filters/19_Limonite.jpg"},{filterName:"peridot",displayName:"Peridot",src:"uploads/filters/20_Peridot.jpg"}]},339:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r});var n=function(e){return{type:"SET_SEARCH_VALUE",payload:e}},r=function(){return function(t){return t({type:"REQUEST_CATEGORIES"}),fetch(e.config.server_path+"category/get",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"mockup"})}).then(function(e){return e.json()}).then(function(e){t({type:"RECEIVE_CATEGORIES",payload:e.data})})}}}).call(this,a(40))},342:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"b",function(){return i});a(6),a(15),a(35);var n=function(t,a){return function(n){var r=e.config.server_path+"order/apply_coupon/";return fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({price:t,coupon_code:a})}).then(function(e){return Promise.resolve(e.json())}).catch(function(e){return Promise.reject(e)})}},r=function(){return{type:"SHOW_UPLOAD_IMAGE_MODAL"}},i=function(){return{type:"HIDE_UPLOAD_IMAGE_MODAL"}}}).call(this,a(40))},343:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(0),r=function(e){var t,a,r=Object(n.useRef)();return t=e,a=r.current,JSON.stringify(t)!==JSON.stringify(a)&&(r.current=e),r.current},i=function(e,t){Object(n.useEffect)(e,r(t))}},345:function(e,t,a){"use strict";(function(e){var n=a(269),r=a(8),i=a(9),o=a(79),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(6),m=a.n(p),g=a(15),_=a(35),h=a(0),f=a.n(h),b=a(1410),v=a(39),y=a(20),w=a(101),E=a(1409),x=a(314),k=a(203),O=a(125),S=a(95),C=a(105),j=a(437),N=a(313),T=a(273),P=a(110),z=a(1449),F=a(312),D=a(122),A=a(169),I=a(172),R=a(104),B=(a(191),a(109)),M=a(81),L=a.n(M),W=a(161),H=a(124),U=a(83),J=a(69),G=a(89),K=a.n(G),V=a(266),q=a.n(V),Y=a(267),Q=a.n(Y),$=(a(631),a(186)),X=a(342),Z=a(90),ee=a(705),te=a(98),ae=a(708),ne=(a(1239),a(709)),re=a(710),ie=a(410),oe=a(711),se=a(713),le=a(714),ce=a(411),de=a(715),ue=a(716),pe=a(717),me=a(718),ge=a(721),_e=a(722),he=a(540),fe=a(723),be=a(724),ve=a(726),ye=a(727),we=a(311),Ee=a(728),xe=a(729),ke=a(197),Oe=a(412),Se=(a(282),a(265)),Ce=a(402),je=a(730),Ne=a(171),Te=a(195),Pe=a(117),ze=a(733),Fe=a(734),De=a(740),Ae=a(194),Ie=a(741),Re=a(742),Be=a(115),Me=Pe.a.feline_fetch,Le=a(1307),We=a(1308),He={control:function(e){return Object(_.a)({},e,{marginLeft:"5px",minWidth:"50px",height:"36px",minHeight:"20px",marginRight:"5px"})},dropdownIndicator:function(e){return Object(_.a)({},e,{display:"none"})}};function Ue(e){for(var t=(e=e.replace("_"," ")).split(" "),a="",n=0;n<t.length;n++)a+=t[n].charAt(0).toUpperCase()+t[n].slice(1).toLowerCase(),n!=t.length-1&&(a+=" ");return a}var Je=function(){var t=Object(g.a)(m.a.mark(function t(a){var n,r,i,o,s,l;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.name,r=a.src,i=a.url,t.prev=1,i||r){t.next=4;break}throw"no font src provided";case 4:return o="url("+(i||e.config.server_path+r)+")",s=new FontFace(n,o),t.next=8,s.load();case 8:l=t.sent,document.fonts.add(l),document.body.style.fontFamily='"'+n+'", Arial',t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("error loading font --\x3e ",t.t0);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),Ge=new window.Image;Ge.id="drag_image",Ge.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";var Ke=function(t){function a(t){var n,l=this;return Object(s.a)(this,a),(n=Object(c.a)(this,Object(d.a)(a).call(this,t))).generate_thumbnails_context_menu=function(e){console.log("called asdfadsfs");var t=null;e._id?t=e._id:e.src&&(t=e.src);var a=[{name:"Delete",action:function(e){n.delete_folder_resource(t)}}];return f.a.createElement(Te.a,{contextMenuName:"your-designs-context-menu",contextMenuOptions:a})},n.delete_folder_resource=function(e){try{Object(Be.b)(n.props.user.my_photos_folder,e).then(function(){return n.fetch_user_uploads()}).catch(function(e){return Promise.reject(e)})}catch(t){console.error(t)}},n.update_window_size=function(){window.innerWidth>767?n.setState({device_type:"desktop"}):n.setState({device_type:"tablet"})},n.setDesignLoaded=function(){n.setState({designIsLoaded:!0})},n.hidePurchaseModal=function(){n.refs.purchase_modal_overlay.hide(),n.setState({showPurchaseModal:!1})},n.closeAnimationsPlayerModal=function(){n.setState({display_animations_player_modal:!1})},n.hideUnifiedCheckoutModal=function(){n.setState({showUnifiedCheckoutModal:!1})},n.setSubscriptionModalDisplay=function(e){n.setState({displaySubscriptionModal:e})},n.hide_suggest_design_modal=function(){n.setState({show_suggest_design_modal:!1})},n.hide_magic_resize_modal=function(){n.setState({show_magic_resize_modal:!1})},n.handle_share_emails=function(e){n.setState({share_emails:e,last_email:""})},n.handle_last_email=function(e){n.setState({last_email:e})},n.redirect_page=function(e){n.setState({redirect_url:e,redirect:!0})},n.inmagine_login=function(){window.localStorage.setItem("last_url",window.location.href),n.props.user||window.localStorage.setItem("unsaved_design_id",n.props.match.params.design_id),window.location.href=e.config.designs_ai_server_path+"user/sign-in?c="+e.config.dm_client_id+"&r="+e.config.auth_redirect_path_dm},n.set_default_category=function(e){return n.setState({defaultCategory:e})},n.set_view_display_src=function(e){return n.setState({view_display_srcs:e})},n.rct_update_pages=function(e){return n.set_state({pages:e})},n.adjustmentPanelOnclick=function(){n.switch_nav_tab("adjust").then(function(){var e;n.state.design_selection?n.state.design_selection.get_parent("grid")?n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&(e=n.state.design_selection.get_parent("box").image.filter):"image"===n.state.design_selection.type&&(e=n.state.design_selection.filter):"background"==n.state.toolbar_type&&(e=window.design_editor.active_page.background.filter);e&&n.adjustmentPanelRef&&n.adjustmentPanelRef.current&&n.adjustmentPanelRef.current.updateFields(e)})},n.shadowsPanelOnClick=function(){console.log("yeah"),n.switch_nav_tab("shadows").then(function(){})},n.textEffectsPanelOnclick=function(){n.switch_nav_tab("text_effects").then(function(){if(n.state.design_selection&&"text"==n.state.design_selection.type)var e=n.state.design_selection.text_details;e&&n.textEffectsPanelRef&&n.textEffectsPanelRef.current&&n.textEffectsPanelRef.current.updateFields(e)})},n.backgroundRemovalPanelOnclick=function(){n.switch_nav_tab("remove_background").then(function(){var e;n.state.design_selection?n.state.design_selection.get_parent("grid")?n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&(e=n.state.design_selection.get_parent("box").image.bgremoval):"image"===n.state.design_selection.type&&(e=n.state.design_selection.bgremoval):"background"==n.state.toolbar_type&&(e=window.design_editor.active_page.background.bgremoval);e&&n.backgroundRemovalPanelRef&&n.backgroundRemovalPanelRef.current&&n.backgroundRemovalPanelRef.current.updateFields(e)})},n.mockupEditorPanelOnclick=function(){n.switch_nav_tab("mockup_editor").then(function(){var e,t;n.state.design_selection&&(n.state.design_selection.get_parent("grid")?n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&(e=n.state.design_selection.get_parent("box").image.mockup_details,t=n.state.design_selection.get_parent("box").image.image_cache_id()):"image"===n.state.design_selection.type&&(e=n.state.design_selection.mockup_details,t=n.state.design_selection.image_cache_id()));e&&n.mockupEditorPanelRef&&n.mockupEditorPanelRef.current?window.design_editor&&window.design_editor.design.loaded_mockups[e.id]?n.mockupEditorPanelRef.current.updateFields({mockup:window.design_editor.design.loaded_mockups[e.id],saved_mockup:{mockup_inputs:e.inputs,watermarked_output_src:window.design_editor.design.loaded_images[t]?window.design_editor.design.loaded_images[t].src:""}}):(window.design_editor.draw(),window.design_editor.design.wait_to_load().then(function(){n.mockupEditorPanelRef.current.updateFields({mockup:window.design_editor.design.loaded_mockups[e.id],saved_mockup:{mockup_inputs:e.inputs,watermarked_output_src:window.design_editor.design.loaded_images[t]?window.design_editor.design.loaded_images[t].src:""}})})):J.toastr.error("something went wrong")})},n.add_image=function(e,t){!function(){var a=t.target.clientWidth/t.target.clientHeight,n=400*window.design_editor.design.get_width()/800;if(e.id_123rf){var r={type:"image",image_details:{id_123rf:e.id_123rf,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target};e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r)}else e.id_123rf_plus?(r={type:"image",image_details:{id_123rf_plus:e.id_123rf_plus,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target},e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r)):e.id_pixlr?(r={type:"image",image_details:{id_pixlr:e.id_pixlr,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target},e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r)):e.id_unsplash?(r={type:"image",image_details:{id_unsplash:e.id_unsplash,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target},e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r)):e.resource_id?(r={type:"image",image_details:{resource_id:e.resource_id,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target},e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r)):e.src&&(r={type:"image",image_details:{src:e.src,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target},e.mockup_id&&e.inputs&&(r.sub_type="mockup",r.mockup_details={id:e.mockup_id,inputs:e.inputs}),window.design_editor.addObject(r))}()},n.load_text_template=function(e){var t=JSON.parse(JSON.stringify(e.design_file));t.group.id=window.utils.uuidv4();for(var a={},n=0;n<t.objects.length;n++){var r=t.objects[n].id;t.objects[n].id=window.utils.uuidv4(),a[r]=t.objects[n].id}for(var i=0;i<t.group.group_details.object_data.length;i++)t.group.group_details.object_data[i].object=a[t.group.group_details.object_data[i].object];t.objects=t.objects.sort(function(e,t){return e.layer_index-t.layer_index}),window.design_editor.addGroup(t,void 0,!0)},n.text_template_drag_start=function(e,t){},n.text_template_drag=function(e,t){},n.text_template_drag_end=function(e,t){},n.load_text=function(e,t){window.design_editor.addObject(e.design_file)},n.text_drag_start=function(e,t){},n.text_drag=function(e,t){},n.text_drag_end=function(e,t){},n.image_drag_start=function(e,t){},n.image_drag=function(e,t){},n.image_drag_end=function(e,t){},n.load_background=function(e,t){window.design_editor.active_page.background.reset_image_source(),window.design_editor.active_page.background.image_details.image_contain=null,e.id_123rf?window.design_editor.active_page.background.image_details.id_123rf=e.id_123rf:e.id_123rf_plus?window.design_editor.active_page.background.image_details.id_123rf_plus=e.id_123rf_plus:e.id_pixlr?window.design_editor.active_page.background.image_details.id_pixlr=e.id_pixlr:e.id_unsplash?window.design_editor.active_page.background.image_details.id_unsplash=e.id_unsplash:e.resource_id?window.design_editor.active_page.background.image_details.resource_id=e.resource_id:e.src&&(window.design_editor.active_page.background.image_details.src=e.src),window.design_editor.active_page.background.image_details.filter=null,window.design_editor.active_page.background.reset_filter(),window.design_editor.active_page.background.reset_bgremoval(),window.design_editor.active_page.background.sub_type=null,window.design_editor.active_page.background.loader_image=t.target,window.design_editor.active_page.background.image_details.image_needs_autoset=!0,window.design_editor.active_page.background.set_redraw(),window.design_editor.needs_redraw=!0},n.background_drag_start=function(e,t){},n.background_drag=function(e,t){},n.background_drag_end=function(e,t){},n.post_design_selection=function(e){window.design_editor.addUndoChange(),window.design_editor.needs_redraw=!0},n.set_state=function(){var e=Object(g.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.update_inputs_text=function(e,t){var a=n.state.design_selection;if("font"==t)a.text_details.font=e.value,a.text_details.font_src=e.font_src;else if("fontSize"==t)a.text_details.fontSize=e.value;else if("color"==t)a.text_details.fontColor=e.hex;else if("bold"==t)a.text_details.bold=!a.text_details.bold;else if("italic"==t)a.text_details.italic=!a.text_details.italic;else if("textAlign"==t)"left"==a.text_details.textAlign?a.text_details.textAlign="center":"center"==a.text_details.textAlign?a.text_details.textAlign="right":"right"==a.text_details.textAlign&&(a.text_details.textAlign="left");else if("letterSpacing"==t)a.text_details.letterSpacing=Number(e);else if("lineHeight"==t)a.text_details.lineHeight=Number(e);else if("text_effects"==t)for(var r in e)a.text_details.hasOwnProperty(r)&&(a.text_details[r]=e[r]);a.set_redraw(),n.set_state({design_selection:a}).then(function(){var e=!1;"opacity"!=t&&"letterSpacing"!=t&&"lineHeight"!=t&&"color"!=t&&"text_effects"!=t||(e=!0),n.post_design_selection(e)})},n.update_inputs_background=function(e,t){var a=window.design_editor;if("flip_horizontal"==t)a.active_page.background.image_details.flip_horizontal*=-1;else if("flip_vertical"==t)a.active_page.background.image_details.flip_vertical*=-1;else if("color"==t)a.active_page.background.background_color=e.hex;else if("filter"==t)a.active_page.background.image_details.filter={id:e};else if("filter_adjustment"==t)for(var r in e)a.active_page.background.filter[r]=e[r];else if("bgremoval"==t)for(var r in a.active_page.background.loader_image=window.design_editor.design.loaded_images[a.active_page.background.image_cache_id()],a.active_page.background.reset_bgremoval(),e)a.active_page.background.bgremoval[r]=e[r];else if("mockup_details"==t)for(var r in a.active_page.background.loader_image=window.design_editor.design.loaded_images[a.active_page.background.image_cache_id()],a.active_page.background.reset_mockup_details(),e)a.active_page.background.mockup_details[r]=e[r];a.active_page.background.set_redraw();n.post_design_selection(!1)},n.update_inputs_image=function(e,t){if(t){var a=n.state.design_selection;if("flip_horizontal"==t)a.image_details.flip_horizontal*=-1;else if("flip_vertical"==t)a.image_details.flip_vertical*=-1;else if("filter"==t)a.image_details.filter={id:e};else if("filter_adjustment"==t)for(var r in e)a.filter[r]=e[r];else if("bgremoval"==t)for(var r in a.loader_image=window.design_editor.design.loaded_images[a.image_cache_id()],a.reset_bgremoval(),e)a.bgremoval[r]=e[r];else if("mockup_details"==t)for(var r in a.loader_image=window.design_editor.design.loaded_images[a.image_cache_id()],a.reset_mockup_details(),e)a.mockup_details[r]=e[r];else if(t.indexOf("svg_color")>-1){var i=t.split("svg_color_")[1];a.image_details.svg_colors[i].color=e.hex,a.updateColors()}if(a.set_redraw(),"filter_adjustment"==t){var o=!1;(t.indexOf("svg_color_")>-1||t.indexOf("filter_adjustment")>-1)&&(o=!0),n.post_design_selection(o)}else n.set_state({design_selection:a}).then(function(){var e=!1;(t.indexOf("svg_color_")>-1||t.indexOf("filter_adjustment")>-1)&&(e=!0),n.post_design_selection(e)})}},n.update_inputs_general=function(e,t){var a,r=n.state.design_selection;if(r&&r.get_parent("grid")&&(r=r.get_parent("grid")),r&&r.getGroup()&&(r=r.getGroup()),"copy_and_paste"==t){var i=r.copy();i.group&&i.objects?(i.group.position.x+=40,i.group.position.y+=40,window.design_editor.addGroup(JSON.parse(JSON.stringify(i)),void 0,!0)):(i.position.x+=40,i.position.y+=40,window.design_editor.addObject(JSON.parse(JSON.stringify(i)),void 0,!0))}else if("delete"==t)r.remove(),n.set_state({toolbar_type:null}),r=null,window.design_editor.deselectElements();else if("layer_up"==t){var o=[];o="group"==r.type?r.group_details.object_data.map(function(e){return e.object}):[r],window.design_editor.shiftLayerIndex(o,"up"),a=n.get_layer_buttons(o)}else if("layer_down"==t){o=[];o="group"==r.type?r.group_details.object_data.map(function(e){return e.object}):[r],window.design_editor.shiftLayerIndex(o,"down"),a=n.get_layer_buttons(o)}else if("position_top"==t)window.design_editor.positionObject(r,"position_top");else if("position_middle"==t)window.design_editor.positionObject(r,"position_middle");else if("position_bottom"==t)window.design_editor.positionObject(r,"position_bottom");else if("position_left"==t)window.design_editor.positionObject(r,"position_left");else if("position_center"==t)window.design_editor.positionObject(r,"position_center");else if("position_right"==t)window.design_editor.positionObject(r,"position_right");else if("bring_front"==t){o=[];o="group"==r.type?r.group_details.object_data.map(function(e){return e.object}):[r],window.design_editor.shiftLayerIndex(o,"top"),a=n.get_layer_buttons(o)}else if("send_back"==t){o=[];o="group"==r.type?r.group_details.object_data.map(function(e){return e.object}):[r],window.design_editor.shiftLayerIndex(o,"bottom"),a=n.get_layer_buttons(o)}else if("send_back"==t){o=[];o="group"==r.type?r.group_details.object_data.map(function(e){return e.object}):[r],window.design_editor.shiftLayerIndex(o,"bottom"),a=n.get_layer_buttons(o)}else if("opacity"==t){!function t(a){if("group"==a.type)for(var n=0;n<a.group_details.object_data.length;n++)t(a.group_details.object_data[n].object);else a.opacity=Number(e)/100;a.set_redraw()}(r)}else if("lock"==t){if(r.locked||r.getGroup()&&(r.getGroup().locked||r.getGroup().group_details.object_data.find(function(e){return e.object.locked}))){if(r.locked=!1,"group"==r.type){r.locked=!1;for(var s=0;s<r.group_details.object_data.length;s++)r.group_details.object_data[s].object.locked=!1}}else if(r.locked=!0,"group"==r.type){r.locked=!0;for(s=0;s<r.group_details.object_data.length;s++)r.group_details.object_data[s].object.locked=!0}}else"group"==t?window.design_editor.groupTemporaryGroup():"ungroup"==t&&(r.ungroup(),n.set_state({toolbar_type:null}),r=null,window.design_editor.deselectElements());r&&(r=n.state.design_selection);var l={};"copy_and_paste"!==t&&(l.design_selection=r),a&&(l.layer_buttons=a),n.set_state(l).then(function(){n.post_design_selection()})},n.update_inputs_grid=function(e,t){if(t){var a=n.state.design_selection,r=a.get_parent("box"),i=a.get_parent("grid");if("flip_horizontal"==t)r.image.image_details.flip_horizontal*=-1;else if("flip_vertical"==t)r.image.image_details.flip_vertical*=-1;else if("filter"==t)r&&r.image&&(r.image.image_details.filter={id:e});else if("filter_adjustment"==t){if(r&&r.image)for(var o in e)r.image.filter[o]=e[o]}else if("bgremoval"==t){if(r&&r.image)for(var o in r.image.loader_image=window.design_editor.design.loaded_images[r.image.image_cache_id()],r.image.reset_bgremoval(),e)r.image.bgremoval[o]=e[o]}else if("mockup_details"==t){if(r&&r.image&&"mockup"==r.image.sub_type)for(var o in r.image.loader_image=window.design_editor.design.loaded_images[r.image.image_cache_id()],r.image.reset_mockup_details(),e)r.image.mockup_details[o]=e[o]}else t.indexOf("color")>-1&&(r.color=e.hex);i&&i.set_redraw(),n.set_state({design_selection:a}).then(function(){var e=!1;t.indexOf("color")>-1&&(e=!0),n.post_design_selection(e)})}},n.fetch_user_uploads=function(){return Object($.f)(n.props.user.my_photos_folder).then(function(e){e=Object(o.a)(e.data[0].folder.resources.map(function(e){return{src:e.path,low_src:e.low_path}}));return n.set_state({uploads:e})}).catch(function(e){console.log(e),J.toastr.error("something went wrong")})},n.fetch_saved_mockups=Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me({url:"mockup/get_all_saved",body:{}});case 3:return t=e.sent,e.next=6,n.set_state({saved_mockups:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),n.fetchBkFonts=Object(g.a)(m.a.mark(function e(){var t,a,r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.props.user){e.next=9;break}return e.next=4,Me({url:"user/get_brand_kit",method:"GET"});case 4:t=e.sent,(a=JSON.parse(t).data)&&a.length&&(r=a.filter(function(e){return"colors"==e.name})[0].data.map(function(e){return{name:e.name,colors:e.value.data}}),(i=a.filter(function(e){return"fonts"==e.name})[0].data.map(function(e){return{name:e.name,fonts:e.value.data}})).map(function(e){e.fonts.map(function(e){var t={name:e.name};e.file&&e.file[0]?t.url=encodeURI(e.file[0]):t.src="uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",Je(t)})}),n.setState({brandkit_font_sets:i,brandkit_color_palettes:r})),e.next=10;break;case 9:return e.abrupt("return",Promise.resolve(null));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}},e,this,[[0,12]])})),n.get_layer_buttons=function(e){var t={top:!1,bottom:!1};return window.design_editor&&window.design_editor.active_page&&(t={top:window.design_editor.areObjectsAtTop(e),bottom:window.design_editor.areObjectsAtBottom(e)}),t},n.set_design_variables=function(e,t,a,r,i){var o=!1;if(n.state.toolbar_type!=e&&(o=!0),(null==n.state.label_rules&&null!=a||null!=n.state.label_rules&&null==a)&&(o=!0),(null==n.state.design_selection&&null!=t||null!=n.state.design_selection&&null==t)&&(o=!0),null!=n.state.label_rules&&null!=a)for(var s in a)if(n.state.label_rules[s]!=a[s]){o=!0;break}t!=n.state.design_selection&&(o=!0),r!=n.state.crop_mode&&(o=!0);var l={top:!1,bottom:!1};if(window.design_editor&&window.design_editor.active_page&&t&&"String"!=t.constructor.name){var c,d=[];d="group"==(c=t&&t.getGroup()?t.getGroup():t&&t.get_parent("grid")?t.get_parent("grid"):t).type?c.group_details.object_data.map(function(e){return e.object}):[c],l={top:window.design_editor.areObjectsAtTop(d),bottom:window.design_editor.areObjectsAtBottom(d)}}if(o){var u={toolbar_type:e,design_selection:t,label_rules:a,layer_buttons:l,crop_mode:r};!i||"filters"!=n.state.active_nav_tab&&"text_effects"!=n.state.active_nav_tab&&"adjust"!=n.state.active_nav_tab&&"fonts"!=n.state.active_nav_tab&&"remove_background"!=n.state.active_nav_tab&&"mockup_editor"!=n.state.active_nav_tab&&"animations"!=n.state.active_nav_tab&&"shadows"!=n.state.active_nav_tab||(u.active_nav_tab="templates"),n.setState(u)}},n.purchases_on_click=function(e){e.id_123rf?window.design_editor.addObject({type:"image",image_details:{id_123rf:e.id_123rf}}):e.id_123rf_plus?window.design_editor.addObject({type:"image",image_details:{id_123rf_plus:e.id_123rf_plus}}):e.id_pixlr?window.design_editor.addObject({type:"image",image_details:{id_pixlr:e.id_pixlr}}):e.id_unsplash?window.design_editor.addObject({type:"image",image_details:{id_unsplash:e.id_unsplash}}):e.id_design_resource?window.design_editor.addObject({type:"image",image_details:{resource_id:e.id_design_resource}}):e.path&&window.design_editor.addObject({type:"image",image_details:{src:e.path}})},n.fetch_more_text_templates=function(){var t={page_no:n.state.design_resources_text_templates.page_no,size:20,priority_sort:!0};fetch(e.config.server_path+"text_template/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return e.data}).then(function(e){n.setState({design_resources_text_templates:{data:n.state.design_resources_text_templates.data.concat(e.docs),page_no:n.state.design_resources_text_templates.page_no+=1}})}).catch(function(e){return console.log(e)})},n.export_design=function(){var e=Object(g.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({full_page_loader:!0,full_page_loader_message:"Downloading your design..."}),e.prev=1,e.next=4,window.download_design(t,n.state.designName,window.design_editor.design);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),J.toastr.error("something went wrong");case 10:n.setState({full_page_loader:!1});case 11:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),n.back_onclick=function(){window.design_editor?(n.setState({full_page_loader:!0,full_page_loader_message:"Saving your work, it should take only a few seconds ..."}),window.design_editor.save_backend(!0).then(function(){n.setState({full_page_loader:!1}),n.redirect_page("/designmaker/start")})):(n.setState({full_page_loader:!1}),n.redirect_page("/designmaker/start"))},n.upload_file=function(e){n.props.user?Object($.i)(e,n.props.user.my_photos_folder).then(function(){return n.fetch_user_uploads()}).then(function(){return J.toastr.success("file upload success")}):window.fetchFileSrcWithFile(e).then(function(e){var t=n.state.uploads;t.push({src:e}),n.set_state({uploads:t})})},n.create_order=function(){var e=n.props.match.params.design_id,t=n.state.premium_resources,a=null;return n.state.coupon_applied&&(a=n.state.coupon_code),Object($.b)(e,t,a).then(function(e){return 1==e.response_code?n.set_state({order_id:e.data._id}).then(function(){return Promise.resolve()}):Promise.reject()})},n.order_complete=function(e){if(1==e.response_code){var t=e.data.skus.map(function(e){return"design_resource"==e.type?e.design_resource:"123rf_image"==e.type?e.rf_image:"123rf_plus_image"==e.type?e.rf_plus_image:"pixlr_image"==e.type?e.pixlr_image:void 0});window.design_editor.handlePurchaseRedraw(t),n.payment_modal_close()}},n.save_design_template_admin=function(){window.design_editor.save_design_template_admin(n.props.match.params.design_id).then(function(e){J.toastr.success("Saved successfully!")})},n.save_text_template_admin=function(){window.design_editor.save_text_template_admin(n.props.match.params.template_id).then(function(e){J.toastr.success("Saved successfully!")})},n.is_admin_designs=function(){return window.location.href.indexOf("admin_designs")>-1},n.is_admin_text_templates=function(){return window.location.href.indexOf("admin_text_templates")>-1},n.design_undo=function(){window.design_editor.undo()},n.design_redo=function(){window.design_editor.redo()},n.hardcoded_text_fields=[{design_file:{type:"text",sub_type:"",layer_index:0,labels:{text:"",image:"",colors:[]},text_details:{text:"Add a heading",font_src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",bold:!1,italic:!1,font:"Montserrat",fontSize:72,fontColor:"#000000",shadowColor:"#ffff00",shadowType:"none",textAlign:"center",rotation:0,stroke:!1,strokeWidth:"1px",strokeColor:"#0000ff",letterSpacing:0,lineHeight:0},image_details:{src:"",id_123rf:"",id_unsplash:"",resource_id:"",flip_horizontal:1,flip_vertical:1,image_width:738.4430964197892,image_height:738.4430964197892,svg_colors:[],contentDisplacement:{x:-206.38681936351202,y:-219.2215482098946},filter:null,image_needs_autoset:!1},filter:{brightness:0,contrast:0,saturation:0,tint:0,blur:0,vignette:0},grid_details:{boxes:[]},group_details:{object_data:[]},position:{x:114.30499188311688,y:127.5235512299951},opacity:1,width:538.0562770562772,height:86.39999999999999,rotation:0,locked:!1}},{design_file:{type:"text",sub_type:"",layer_index:1,labels:{text:"",image:"",colors:[]},text_details:{text:"Add a subheading",font_src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",bold:!1,italic:!1,font:"Montserrat",fontSize:36,fontColor:"#000000",shadowColor:"#ffff00",shadowType:"none",textAlign:"center",rotation:0,stroke:!1,strokeWidth:"1px",strokeColor:"#0000ff",letterSpacing:0,lineHeight:0},image_details:{src:"",id_123rf:"",id_unsplash:"",resource_id:"",flip_horizontal:1,flip_vertical:1,image_width:363.57142857142856,image_height:363.57142857142856,svg_colors:[],contentDisplacement:{x:-27.117942176870656,y:-31.785714285714278},filter:null,image_needs_autoset:!1},filter:{brightness:0,contrast:0,saturation:0,tint:0,blur:0,vignette:0},grid_details:{boxes:[]},group_details:{object_data:[]},position:{x:154.24719387755104,y:320.77414965986384},opacity:1,width:338.4534863945579,height:43.199999999999996,rotation:0,locked:!1}},{design_file:{type:"text",sub_type:"",layer_index:0,labels:{text:"",image:"",colors:[]},text_details:{text:"Add a little bit of body text",font_src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",bold:!1,italic:!1,font:"Montserrat",fontSize:24,fontColor:"#000000",shadowColor:"#ffff00",shadowType:"none",textAlign:"center",rotation:0,stroke:!1,strokeWidth:"1px",strokeColor:"#0000ff",letterSpacing:0,lineHeight:0},image_details:{src:"",id_123rf:"",id_unsplash:"",resource_id:"",flip_horizontal:1,flip_vertical:1,image_width:395.7149676099556,image_height:395.7149676099556,svg_colors:[],contentDisplacement:{x:-70.00229591836728,y:-47.85748380497779},filter:null,image_needs_autoset:!1},filter:{brightness:0,contrast:0,saturation:0,tint:0,blur:0,vignette:0},grid_details:{boxes:[]},group_details:{object_data:[]},position:{x:230.95556492092302,y:394},opacity:1,width:327.7126716915883,height:28.799999999999997,rotation:0,locked:!1}}],n.update_inputs=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.toggle_overlay=function(){"none"==window.document.getElementById("popover_overlay_share").style.display?window.document.getElementById("popover_overlay_share").style.display="block":window.document.getElementById("popover_overlay_share").style.display="none"},n.toggle_overlay_zoom=function(){"none"==window.document.getElementById("popover_overlay_zoom").style.display?window.document.getElementById("popover_overlay_zoom").style.display="block":window.document.getElementById("popover_overlay_zoom").style.display="none"},n.apply_filters=function(){var e=Object(g.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.set_state({filterIntensity:50});case 2:n.state.design_selection?n.state.design_selection.get_parent("grid")?n.update_inputs_grid(t,"filter"):"image"===n.state.design_selection.type&&n.update_inputs_image(t,"filter"):"background"==n.state.toolbar_type&&n.update_inputs_background(t,"filter");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.apply_filter_adjustments=function(e){n.state.design_selection?n.state.design_selection.get_parent("grid")?n.update_inputs_grid(e,"filter_adjustment"):"image"===n.state.design_selection.type&&n.update_inputs_image(e,"filter_adjustment"):"background"==n.state.toolbar_type&&n.update_inputs_background(e,"filter_adjustment")},n.apply_text_effects=function(e){n.state.design_selection&&"text"==n.state.design_selection.type&&n.update_inputs_text(e,"text_effects")},n.apply_background_removal=function(e){n.state.design_selection?n.state.design_selection.get_parent("grid")?n.update_inputs_grid(e,"bgremoval"):"image"===n.state.design_selection.type&&n.update_inputs_image(e,"bgremoval"):"background"==n.state.toolbar_type&&n.update_inputs_background(e,"bgremoval")},n.toggle_background_removal=function(){var e={crf:0,matting:0,enabled:!0};if(n.state.design_selection)if(n.state.design_selection.get_parent("grid")){var t=n.state.design_selection.get_parent("box");if(!t||!t.image)return;e.enabled=!t.image.bgremoval.enabled}else"image"===n.state.design_selection.type&&(e.enabled=!n.state.design_selection.bgremoval.enabled);else"background"==n.state.toolbar_type&&(e.enabled=!window.design_editor.active_page.background.bgremoval.enabled);n.apply_background_removal(e)},n.apply_mockup_editor=function(e){n.state.design_selection?n.state.design_selection.get_parent("grid")?n.update_inputs_grid(e,"mockup_details"):"image"===n.state.design_selection.type&&n.update_inputs_image(e,"mockup_details"):"background"==n.state.toolbar_type&&n.update_inputs_background(e,"mockup_details")},n.generateFilterCard=function(t,a,r,i,o){return f.a.createElement(b.a,{key:"filter_key"+t,style:{padding:"0",marginBottom:"5px"},xs:4},f.a.createElement("div",{style:{cursor:"pointer"},onClick:function(e){n.apply_filters(a)}},f.a.createElement(v.a,{className:o?"glowing-border":"filter-div",height:"80px",src:e.config.static_file_server_path+i}),f.a.createElement("p",{style:{fontSize:"1.2rem",fontWeight:400,marginTop:2,color:"black"}},r)))},n.filterIntensityOnChange=function(e){n.setState({filterIntensity:e.target.value})},n.FiltersPanel=function(){var e=null;n.state.design_selection.get_parent("grid")?n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&n.state.design_selection.get_parent("box").image.image_details.filter?e=n.state.design_selection.get_parent("box").image.image_details.filter.id:n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").frame&&n.state.design_selection.get_parent("box").frame.image_details.filter&&(e=n.state.design_selection.get_parent("box").frame.image_details.filter.id):"image"===n.state.design_selection.type&&n.state.design_selection.image_details.filter&&(e=n.state.design_selection.image_details.filter.id);for(var t=[],a=0;a<we.a.length;a++)t.push(n.generateFilterCard(a,we.a[a].filterName,we.a[a].displayName,we.a[a].src,e===we.a[a].filterName));return t},n.send_invites=function(){var e=n.state.share_emails;n.state.last_email&&e.push(n.state.last_email),n.state.design&&e.length>0&&n.state.share_role&&(n.props.share_permission_with_emails(n.props.user.email,e,n.state.design._id,n.state.share_role).then(function(e){J.toastr.success("design shared successfully!")}),window.document.getElementById("overlay_button_share").click())},n.rct_set_crop_mode=function(){n.set_state({crop_mode:!0})},n.enter_crop_mode=function(){if(window.design_editor.setCropMode(),"crop"==window.design_editor.mode){n.set_state({crop_mode:!0});var e=window.design_editor.getCropObject();e&&(window.design_editor.initialCropObject=e.save())}},n.crop_mode_done=function(){window.design_editor.deselectElements()},n.crop_mode_cancel=function(){window.design_editor.initialCropObject&&(window.design_editor.selection.object.get_parent("grid")?window.design_editor.selection.object.get_parent("grid").load(window.design_editor.initialCropObject):window.design_editor.selection.object.load(window.design_editor.initialCropObject)),window.design_editor.deselectElements()},n.set_zoom=function(e){window.design_editor.design.page_zoom=e,window.design_editor.handleWindowResize(),window.document.getElementById("overlay_button_zoom").click(),n.set_state({page_zoom_display:"Number"==e.constructor.name?e+"%":Ue(e)})},n.close_sidebar=function(){n.set_state({collapse_sidebar:!0,active_nav_tab:null}).then(function(){window.design_editor&&window.design_editor.handleWindowResize()})},n.enterMagicResize=function(){window.design_editor.deselectElements(),n.setState({show_magic_resize_modal:!0})},n.enterSuggestMode=function(){n.setState({show_suggest_design_modal:!0})},n.open_sidebar=function(){n.set_state({collapse_sidebar:!1}).then(function(){window.design_editor&&window.design_editor.handleWindowResize()})},n.switch_nav_tab=function(e){if(n.state.previous_nav_tab==e)return n.set_state({active_nav_tab:e,collapse_sidebar:!1,search_active:!1,search_text:""});var t=n.state.active_nav_tab;return"filters"!=t&&"fonts"!=t&&"text_effects"!=t&&"adjust"!=t&&"remove_background"!=t&&"mockup_editor"!=t&&"animations"!=t&&"shadows"!=t||(t=n.state.previous_nav_tab),n.set_state({active_nav_tab:e,collapse_sidebar:!1,previous_nav_tab:t,search_active:!1,search_text:""})},n.fetch_search_results=function(t){if(t&&t.preventDefault(),""!=n.state.search_text){n.setState({search_active:!0,search_results:[],search_results_display:[]});var a=n.state.active_nav_tab;if("elements"==a){var r=e.config.server_path+"design_resources/_search?",i="elements"==a?"icon":"background",o={from:0,size:100,query:{bool:{must:[{multi_match:{query:n.state.search_text,fields:["name","keywords"],operator:"or",type:"best_fields"}}],filter:[{term:{type:"image"}},{term:{sub_type:i}}]}}};return fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(e){return Promise.resolve(e.hits.hits.map(function(e){return e._id}))}).then(function(t){var a=e.config.server_path+"design_resource/get/",n={id:t,type:"image",sub_type:i};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})}).then(function(e){return e.json()}).then(function(e){(e=e.data.docs)?n.setState({search_results:e,search_results_display:e.slice(0,20)}):J.toastr.warning("No results found.")}).catch(function(e){return Promise.reject(e)})}if("text"==a){var s=e.config.server_path+"text_templates/_search?",l={from:0,size:100,query:{bool:{must:{multi_match:{query:n.state.search_text,fields:["categories.name","keywords","name"],operator:"or",type:"best_fields"}},filter:[]}}};return fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(function(e){return e.json()}).then(function(e){return Promise.resolve(e.hits.hits.map(function(e){return e._id}))}).then(function(t){var a=e.config.server_path+"text_template/get/";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})})}).then(function(e){return e.json()}).then(function(e){var t=e.data.docs;t?n.setState({search_results:t,search_results_display:t.slice(0,20)}):J.toastr.warning("No results found.")}).catch(function(e){return Promise.reject(e)})}}else n.setState({search_active:!1})},n.fetch_next_search_results=function(){var e=n.state.search_results_display.length,t=n.state.search_results.length;if(e==t&&"photos"==n.state.active_nav_tab)n.return_more_photos_123rf(n.state.search_text.split(" "),t/100+1).then(function(e){e?n.setState({search_results:n.state.search_results.concat(e),search_results_display:n.state.search_results_display.concat(e.slice(0,20))}):J.toastr.warning("No results found.")}).catch(function(e){return Promise.reject(e)});else{var a=n.state.search_results.slice(e,e+Math.min(20,t-e));n.setState({search_results_display:n.state.search_results_display.concat(a)})}},n._rhs_options_panel=function(t){t||(t=6);var a={fontSize:14,fontWeight:600,padding:9};return f.a.createElement(b.a,{xs:t,className:"text-right",style:{display:"inline"}},n.state.design_selection&&n.state.design_selection!=window.design_editor.temporary_group&&("group"==n.state.design_selection.type||n.state.design_selection.getGroup()&&n.state.design_selection.getGroup()!=window.design_editor.temporary_group)&&f.a.createElement(y.a,{className:"btn-toolbar",style:{marginRight:"5px"},onClick:function(e){n.update_inputs_general(e,"ungroup")}},"Ungroup"),n.state.design_selection&&(n.state.design_selection==window.design_editor.temporary_group||n.state.design_selection.getGroup()==window.design_editor.temporary_group&&null!=window.design_editor.temporary_group)&&!window.design_editor.group_already_exists(window.design_editor.temporary_group)&&f.a.createElement(y.a,{className:"btn-toolbar",style:{marginRight:"5px"},onClick:function(e){n.update_inputs_general(e,"group")}},"Group"),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.position},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement(Ne.a,{container_style:{display:"inline-block"},dropper_container_style:{borderRadius:3},Trigger:function(t){var a=t.toggle_dropdown;return f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/object_position.svg"}))},Dropper:function(){return f.a.createElement("div",{className:"dropdown-container",style:{textAlign:"left"}},f.a.createElement("span",{style:a}," Layer "),f.a.createElement("ul",{className:"toolbar-dropdown two-column-dropdown"},f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.state.layer_buttons.top||n.update_inputs_general(e,"layer_up")}},f.a.createElement(v.a,{style:{height:8},src:e.config.static_file_server_path+"uploads/icons/forward.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Forward")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.state.layer_buttons.top||n.update_inputs_general(e,"bring_front")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/to_front.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"To front")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.state.layer_buttons.bottom||n.update_inputs_general(e,"layer_down")}},f.a.createElement(v.a,{style:{height:8},src:e.config.static_file_server_path+"uploads/icons/backward.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Backward")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.state.layer_buttons.bottom||n.update_inputs_general(e,"send_back")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/to_back.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"To back"))),f.a.createElement("div",{style:{width:"100%",height:10}}),f.a.createElement("span",{style:a}," Align to page "),f.a.createElement("ul",{className:"toolbar-dropdown two-column-dropdown"},f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_top")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_top.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Top")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_middle")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_middle.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Middle")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_bottom")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_bottom.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Bottom")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_left")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_left.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Left")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_center")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_center.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Center")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_general(e,"position_right")}},f.a.createElement(v.a,{style:{height:12},src:e.config.static_file_server_path+"uploads/icons/page_align_right.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Right"))))}}))),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.transparency},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement(Ne.a,{container_style:{display:"inline-block"},Trigger:function(t){var a=t.toggle_dropdown;return f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/opacity.svg"}))},Dropper:function(){return f.a.createElement("ul",{className:"toolbar-dropdown no-hover"},f.a.createElement("li",{className:"toolbar-dropdown-item no-hover"},f.a.createElement("input",{className:"toolbar-range-input no-hover",type:"range",min:"1",max:"100",id:"zoom_slider",onChange:function(e){n.update_inputs_general(e.target.value,"opacity")},value:n.state.design_selection?n.state.design_selection.get_parent("grid")?String(100*n.state.design_selection.get_parent("grid").opacity):String(100*n.state.design_selection.opacity):"100"})))}}))),f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(e){n.update_inputs_general(e,"copy_and_paste")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/copy.svg"})),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:n.state.design_selection&&(n.state.design_selection.locked||n.state.design_selection.get_parent("grid")&&n.state.design_selection.get_parent("grid").locked||n.state.design_selection.getGroup()&&(n.state.design_selection.getGroup().locked||n.state.design_selection.getGroup().group_details.object_data.find(function(e){return e.object.locked})))?te.a.lock:te.a.unlock},f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(e){n.update_inputs_general(e,"lock")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+(n.state.design_selection&&(n.state.design_selection.locked||n.state.design_selection.get_parent("grid")&&n.state.design_selection.get_parent("grid").locked||n.state.design_selection.getGroup()&&(n.state.design_selection.getGroup().locked||n.state.design_selection.getGroup().group_details.object_data.find(function(e){return e.object.locked})))?"uploads/icons/lock.svg":"uploads/icons/unlock.svg")}))),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.delete},f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(e){n.update_inputs_general(e,"delete")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/trash.svg"}))))},n.handleClickGridColorPicker=function(){n.setState({displayGridColorPicker:!n.state.displayGridColorPicker})},n.handleCloseGridColorPicker=function(){n.setState({displayGridColorPicker:!1})},n._crop_mode_options_panel=function(){return f.a.createElement(E.a,{className:"d-flex align-items-center",style:{padding:5,backgroundColor:"#F1F2F3",zIndex:1010}},f.a.createElement(b.a,{xs:12,style:{display:"inline",paddingLeft:"0"}},f.a.createElement("div",{style:{display:"flex",flexFlow:"row"}},f.a.createElement(y.a,{className:"btn-toolbar",style:{marginRight:"5px"},onClick:n.crop_mode_done},"Done"),f.a.createElement(y.a,{className:"btn-toolbar",style:{marginRight:"5px"},onClick:n.crop_mode_cancel},"Cancel"))))},n._grid_options_panel=function(){var t=L()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").color?n.state.design_selection.get_parent("box").color:"#999999"},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}}),a=function(){if(n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&n.state.design_selection.get_parent("box").image.user_labels&&n.state.design_selection.get_parent("box").image.user_labels.image){var e=n.state.design_selection.get_parent("box").image.user_labels.image,t=window.design_editor.design.bulk_edit_data.labels.find(function(t){return t.id==e});if(t)return t.text}return""},r=function(){var e=Object(g.a)(m.a.mark(function e(){var t,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return""==a()&&""!=n.state.grid_bulk_edit_label_temp&&(console.log(n.state.design_selection),n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&n.state.design_selection.get_parent("box").image.user_labels&&(t=n.state.design_selection.get_parent("box").image,r=window.utils.uuidv4(),window.design_editor.design.bulk_edit_data.labels.push({id:r,text:n.state.grid_bulk_edit_label_temp,assigned:[t.id],selected:!0,type:"image"}),t.user_labels.image=r,window.design_editor.addUndoChange()),n.setState({})),e.next=3,n.switch_nav_tab("");case 3:return e.next=5,n.switch_nav_tab("bulk_edit");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return f.a.createElement(E.a,{className:"d-flex align-items-center",style:{padding:5,backgroundColor:"#F1F2F3",zIndex:1010}},f.a.createElement(b.a,{xs:6,style:{display:"inline",zIndex:"10000"}},n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image?f.a.createElement("div",{style:{display:"flex",flexFlow:"row"}},n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image&&"mockup"==n.state.design_selection.get_parent("box").image.sub_type?f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.edit_mockup},f.a.createElement(y.a,{className:"btn-toolbar",onClick:n.mockupEditorPanelOnclick,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/Mockup.svg"}))):"",f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.photo_editor},f.a.createElement("div",null,f.a.createElement(Ne.a,{Trigger:function(t){var a=t.toggle_dropdown;return f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_enhance.svg"}))},Dropper:function(){return f.a.createElement("ul",{className:"toolbar-dropdown"},f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.switch_nav_tab("filters")}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_filter.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Filter                               ")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:n.adjustmentPanelOnclick},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_brightnesscontrast.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Adjustment")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:n.shadowsPanelOnClick},f.a.createElement("span",{className:"toolbar-dropdown-text"},"Shadows")))}}))),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.crop},f.a.createElement(y.a,{className:"btn-toolbar",onClick:n.enter_crop_mode,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/crop_temp.svg"}))),f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.flip},f.a.createElement("div",null,f.a.createElement(Ne.a,{Trigger:function(t){var a=t.toggle_dropdown;return f.a.createElement(y.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}))},Dropper:function(){return f.a.createElement("ul",{className:"toolbar-dropdown"},f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_grid(e,"flip_horizontal")}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_horizontally.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Horizontal")),f.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.update_inputs_grid(e,"flip_vertical")}},f.a.createElement(v.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}),f.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Vertical")))}}))),n.state.design_selection&&n.state.design_selection.get_parent("box")&&n.state.design_selection.get_parent("box").image?f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.bg_removal},f.a.createElement(y.a,{className:"btn-toolbar",onClick:n.toggle_background_removal,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:n.state.design_selection.get_parent("box").image.bgremoval.enabled?e.config.static_file_server_path+"uploads/icons/image_bg_remove_cancel.svg":e.config.static_file_server_path+"uploads/icons/image_bg_remove.svg"}))):"",""!=e.config.application_env&&f.a.createElement(w.a,{delayShow:400,placement:"bottom",overlay:te.a.animate},f.a.createElement(y.a,{className:"btn-toolbar",onClick:n.animateOnClick,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},f.a.createElement(v.a,{style:{height:20},src:null}),"Animate")),f.a.createElement(x.a,{pullLeft:!0,className:"btn-toolbar",style:{marginRight:"5px"},title:"Bulk Label",open:n.state.grid_bulk_edit_open,onToggle:function(e,t){"text"!=t.target.type&&n.setState({grid_bulk_edit_open:e})}},f.a.createElement(k.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},f.a.createElement(E.a,null,f.a.createElement(b.a,{xs:2},f.a.createElement(v.a,{style:{height:30,float:"right"},src:e.config.static_file_server_path+"uploads/icons/Photos.svg"})),f.a.createElement(b.a,{xs:10,style:{paddingLeft:0,paddingRight:0}},""==a()?f.a.createElement("input",{key:"create_new_label",value:n.state.grid_bulk_edit_label_temp,style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",type:"text",onKeyUp:function(e){return function(e){" "==e.key&&(e.preventDefault(),e.stopPropagation(),n.setState({grid_bulk_edit_label_temp:n.state.grid_bulk_edit_label_temp+" "}))}(e)},onChange:function(e){return function(e){n.setState({grid_bulk_edit_label_temp:e.target.value})}(e)}}):f.a.createElement("input",{key:"manage_labels",style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",value:a(),type:"text",disabled:!0})))),f.a.createElement(k.a,{className:"disable-hover-bg",style:{display:"flex",justifyContent:"center",paddingTop:"10px",paddingBottom:"10px"},draggable:"false"},f.a.createElement(y.a,{onClick:r,className:"btn btn-sm btn-block btn-orange",style:{textAlign:"center"}},""!=a()?"Manage Labels":" OK ")))):f.a.createElement("div",null,f.a.createElement("div",{style:t.swatch,onClick:n.handleClickGridColorPicker},f.a.createElement("div",{style:t.color})),n.state.displayGridColorPicker?f.a.createElement("div",{style:t.popover},f.a.createElement("div",{style:t.cover,onClick:n.handleCloseGridColorPicker}),f.a.createElement(B.a,{user:n.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:t.color.background,onChange:function(e){n.update_inputs_grid(e,"color")}})):null)),n._rhs_options_panel())},n.setDesignName=function(e){n.setState({designName:e.target.value})},n.setDesignNameEnter=function(e){"Enter"==e.key&&Object($.h)(n.props.match.params.design_id,n.state.designName).catch(function(e){console.error(e)})},n.resize_options=[],n.update_resize_options=function(e){var t=n.state.resize_dimensions;e.target.checked?t[e.target.id]=!0:delete t[e.target.id],n.setState({resize_dimensions:t})},n.handle_design_resources_search=function(e){n.setState({search_text:e.target.value}),""===e.target.value&&n.setState({search_active:!1})},n.AllTabs=function(){try{if(!n.state.active_nav_tab)return"";switch(n.state.active_nav_tab){case"templates":return f.a.createElement(O.a.Pane,{eventKey:"templates"},f.a.createElement(re.a,{rct_update_pages:n.rct_update_pages,defaultCategory:n.state.defaultCategory}));case"mockups":return f.a.createElement(O.a.Pane,{eventKey:"mockups"},f.a.createElement(E.a,null,f.a.createElement(b.a,{xs:6,style:{padding:0}},f.a.createElement(y.a,{className:"btn-lg btn-block btn photo-tab-btn"+(1===n.state.activeMockupTab?" selected":""),style:{fontSize:"14px"},onClick:function(){return n.setState({activeMockupTab:1})}},"Explore")),f.a.createElement(b.a,{xs:6,style:{padding:0}},f.a.createElement(y.a,{className:"btn-lg btn-block btn photo-tab-btn"+(2===n.state.activeMockupTab?" selected":""),style:{fontSize:"14px"},onClick:function(){n.setState({activeMockupTab:2})}},"Saved Mockups"))),1===n.state.activeMockupTab?f.a.createElement(Ee.a,{on_drag_start:n.image_drag_start,on_drag:n.image_drag,on_drag_end:n.image_drag_end,on_click:n.add_image}):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"thin_scroll",style:{height:"calc(100vh - 110px)",width:"100%",overflowY:"auto"}},f.a.createElement(S.a,{type:"file",style:{display:"none"},onChange:function(e){return n.upload_file(e.target.files[0])},id:"custom_upload",name:"upload",placeholder:"Upload File"}),f.a.createElement(Z.a,{on_drag_start:n.image_drag_start,on_drag:n.image_drag,on_drag_end:n.image_drag_end,on_click:n.add_image,image_height:"126px",col_size:6,resources:n.state.saved_mockups?n.state.saved_mockups.map(function(e){return{mockup_id:e.mockup._id,inputs:e.mockup_inputs,src:e.watermarked_output_src}}):[]}))));case"brand_kit":return f.a.createElement(O.a.Pane,{eventKey:"brand_kit"},f.a.createElement(xe.a,{font_sets:n.state.brandkit_font_sets,color_palettes:n.state.brandkit_color_palettes}));case"photos":return f.a.createElement(O.a.Pane,{eventKey:"photos"},f.a.createElement(E.a,null,f.a.createElement(b.a,{xs:6,style:{padding:0}},f.a.createElement(y.a,{className:"btn-lg btn-block btn photo-tab-btn"+(1===n.state.activePhotoTab?" selected":""),style:{fontSize:"14px"},onClick:function(){return n.setState({activePhotoTab:1})}},f.a.createElement(v.a,{height:30,src:e.config.static_file_server_path+"uploads/icons/silver_crown.svg"}))),f.a.createElement(b.a,{xs:6,style:{padding:0}},f.a.createElement(y.a,{className:"btn-lg btn-block btn photo-tab-btn"+(2===n.state.activePhotoTab?" selected":""),style:{fontSize:"14px"},onClick:function(){n.setState({activePhotoTab:2})}},f.a.createElement(v.a,{height:30,src:e.config.static_file_server_path+"uploads/icons/gold_crown.svg"})))),f.a.createElement(ae.a,{on_drag_start:n.image_drag_start,on_drag:n.image_drag,on_drag_end:n.image_drag_end,on_click:n.add_image,annotation_text:1===n.state.activePhotoTab?n.state.photos_subscription?"INCLUDED":"PREMIUM ($1)":n.state.photos_subscription?"1 CREDIT":"PREMIUM ($1)",rf_type_key:1==n.state.activePhotoTab?"123RF_PLUS":"123RF",key:1==n.state.activePhotoTab?"123RF_PLUS":"123RF"}));case"backgrounds":return f.a.createElement(O.a.Pane,{eventKey:"backgrounds"},f.a.createElement(ne.a,{on_drag_start:n.background_drag_start,on_drag:n.background_drag,on_drag_end:n.background_drag_end,on_click:n.load_background}));case"elements":return f.a.createElement(O.a.Pane,{eventKey:"elements",style:{height:"calc(100vh) - 149px"}},f.a.createElement(ee.a,{user_details:n.state.user_details,add_image:n.add_image,image_drag_start:n.image_drag_start,image_drag:n.image_drag,image_drag_end:n.image_drag_end}));case"text":return f.a.createElement(O.a.Pane,{eventKey:"text"},f.a.createElement(v.a,{src:e.config.static_file_server_path+"uploads/add_heading.png",style:{cursor:"pointer",marginBottom:8,width:"85%",display:"block",textAlign:"left",marginLeft:13},onClick:function(){n.load_text(n.hardcoded_text_fields[0])},onDragStart:function(e){n.text_drag_start(n.hardcoded_text_fields[0],e)},onDrag:function(e){n.text_drag(n.hardcoded_text_fields[0],e)},onDragEnd:function(e){n.text_drag_end(n.hardcoded_text_fields[0],e)},className:"unselectable"}),f.a.createElement(v.a,{src:e.config.static_file_server_path+"uploads/add_subheading.png",style:{cursor:"pointer",marginBottom:13,width:"75%",display:"block",textAlign:"left",marginLeft:13},onClick:function(){n.load_text(n.hardcoded_text_fields[1])},onDragStart:function(e){n.text_drag_start(n.hardcoded_text_fields[1],e)},onDrag:function(e){n.text_drag(n.hardcoded_text_fields[1],e)},onDragEnd:function(e){n.text_drag_end(n.hardcoded_text_fields[1],e)},className:"unselectable"}),f.a.createElement(v.a,{src:e.config.static_file_server_path+"uploads/add_paragraph.png",style:{cursor:"pointer",marginBottom:5,width:"60%",display:"block",textAlign:"left",marginLeft:13},onClick:function(){n.load_text(n.hardcoded_text_fields[2])},onDragStart:function(e){n.text_drag_start(n.hardcoded_text_fields[2],e)},onDrag:function(e){n.text_drag(n.hardcoded_text_fields[2],e)},onDragEnd:function(e){n.text_drag_end(n.hardcoded_text_fields[2],e)},className:"unselectable"}),n.state.search_active?f.a.createElement(K.a,{dataLength:n.state.search_results_display?n.state.search_results_display.length:0,next:n.fetch_next_search_results,hasMore:!0,endMessage:f.a.createElement("h4",null,"No more results."),height:"calc(100vh - 265px)"},f.a.createElement(Z.a,{on_drag_start:n.text_template_drag_start,on_drag:n.text_template_drag,on_drag_end:n.text_template_drag_end,on_click:n.load_text_template,image_height:"126px",col_size:6,resources:n.state.search_results_display})):f.a.createElement(K.a,{dataLength:n.state.design_resources_text_templates.data?n.state.design_resources_text_templates.data.length:0,next:n.fetch_more_text_templates,hasMore:!0,endMessage:f.a.createElement("h4",null,"No more results."),height:"calc(100vh - 265px)"},f.a.createElement(Z.a,{on_drag_start:n.text_template_drag_start,on_drag:n.text_template_drag,on_drag_end:n.text_template_drag_end,on_click:n.load_text_template,image_height:"126px",col_size:6,resources:n.state.design_resources_text_templates.data})));case"uploads":return f.a.createElement(O.a.Pane,{eventKey:"uploads"},f.a.createElement("div",{style:{height:20}}),f.a.createElement("div",{style:{paddingLeft:12,paddingRight:12,paddingBottom:12,width:"100%"}},n.props.user?f.a.createElement(y.a,{className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9},onClick:function(){window.document.getElementById("custom_upload").click()}},"UPLOAD IMAGE"):f.a.createElement("span",null,"Please log in to use this feature")),f.a.createElement("div",{className:"thin_scroll",style:{height:"calc(100vh - 199px)",width:"100%",overflowY:"auto"}},f.a.createElement(S.a,{type:"file",style:{display:"none"},onChange:function(e){return n.upload_file(e.target.files[0])},id:"custom_upload",name:"upload",placeholder:"Upload File"}),f.a.createElement(Z.a,{on_drag_start:n.image_drag_start,on_drag:n.image_drag,on_drag_end:n.image_drag_end,on_click:n.add_image,image_height:"126px",col_size:6,resources:n.state.uploads?n.state.uploads:[],contextMenu:n.generate_thumbnails_context_menu,showContextMenu:!0})));case"filters":return f.a.createElement(O.a.Pane,{eventKey:"filters"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement(b.a,{xs:12,style:{display:"table",marginBottom:10,paddingTop:5}}),f.a.createElement(l.FiltersPanel,null)));case"adjust":return f.a.createElement(O.a.Pane,{eventKey:"adjust"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement(fe.a,{apply_filter_adjustments:n.apply_filter_adjustments,switch_nav_tab:n.switch_nav_tab,ref:n.adjustmentPanelRef})));case"text_effects":return f.a.createElement(O.a.Pane,{eventKey:"text_effects"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement(be.a,{apply_text_effects:n.apply_text_effects,switch_nav_tab:n.switch_nav_tab,ref:n.textEffectsPanelRef})));case"remove_background":return f.a.createElement(O.a.Pane,{eventKey:"remove_background"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement(ve.a,{apply_background_removal:n.apply_background_removal,switch_nav_tab:n.switch_nav_tab,ref:n.backgroundRemovalPanelRef})));case"mockup_editor":return f.a.createElement(O.a.Pane,{eventKey:"mockup_editor"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement(ye.a,{apply_mockup_editor:n.apply_mockup_editor,ref:n.mockupEditorPanelRef,user:n.props.user})));case"fonts":return f.a.createElement(O.a.Pane,{eventKey:"fonts"},f.a.createElement(ie.a,{update_inputs_text:n.update_inputs_text,show_brand_kit_fonts:!0,brandkit_font_sets:n.state.brandkit_font_sets}));case"folders":return f.a.createElement(O.a.Pane,{eventKey:"folders"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto"}},f.a.createElement("div",{style:{height:20}}),f.a.createElement(oe.a,{purchases_on_click:n.purchases_on_click,image_drag_start:n.image_drag_start,image_drag:n.image_drag,image_drag_end:n.image_drag_end,add_image:n.add_image})));case"bulk_edit":return f.a.createElement(O.a.Pane,{eventKey:"bulk_edit"},f.a.createElement(f.a.Fragment,null,f.a.createElement(Fe.a,{label_rules:n.state.label_rules,design_selection:n.state.design_selection,labelOnSelect:function(){return n.setState({design_selection:null})}})));case"animations":return f.a.createElement(O.a.Pane,{eventKey:"animations"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto",paddingLeft:15}},f.a.createElement(b.a,{xs:12,style:{display:"table",marginBottom:10,paddingTop:5}}),f.a.createElement(De.a,{design_selection:n.state.design_selection})));case"shadows":return f.a.createElement(O.a.Pane,{eventKey:"shadows"},f.a.createElement(E.a,{style:{width:"100%",height:"calc(100vh - 149px)",overflowY:"auto",paddingLeft:0}},f.a.createElement(b.a,{xs:12,style:{display:"table",marginBottom:10,paddingTop:5}}),f.a.createElement(Re.a,{design_selection:n.state.design_selection})))}}catch(t){return console.log(t),""}},n.propagate_hover=function(){var e=Object(g.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n.set_state(Object(i.a)({},t,a))}catch(r){console.log(r)}case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),n.Hoverable_Icon=function(t){var a=t.hover_src,n=t.default_src,i=t.id,o=t.manual_hover;try{var s=Object(h.useState)(null),l=Object(r.a)(s,2),c=l[0],d=l[1];return Object(h.useEffect)(function(){n&&d(n)},[n]),Object(h.useEffect)(function(){d(o?a:n)},[o]),f.a.createElement(v.a,{id:i,style:{height:30},src:e.config.static_file_server_path+c,onMouseEnter:function(){o||d(a)},onMouseLeave:function(){o||d(n)}})}catch(u){return console.log("error in icon -__ > ",u),""}},n.animateOnClick=function(e){n.setState({animationType:e},function(){return n.switch_nav_tab("animations")})},n.toggle_share_switch_for_edit=function(){n.setState({enable_share_switch_for_edit:!n.state.enable_share_switch_for_edit})},n.toggle_share_switch_for_view=function(){n.setState({enable_share_switch_for_view:!n.state.enable_share_switch_for_view})},n.Dummy_Dropper=function(){return f.a.createElement(f.a.Fragment,null)},n.alter_link_sharing=Object(g.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,!n.state.link_sharing_enabled){e.next=6;break}t="disable",e.next=12;break;case 6:if(!n.state.enable_share_switch_for_edit&&!n.state.enable_share_switch_for_view){e.next=10;break}t=n.state.enable_share_switch_for_edit?"enable_edit":"enable_view",e.next=12;break;case 10:return J.toastr.error("Please choose edit or view rights"),e.abrupt("return");case 12:return e.next=14,Me({url:"saved_design/alter_link_sharing",body:{design_id:n.state.design._id,action:t}});case 14:e.sent,n.setState({link_sharing_enabled:"disable"!=t}),J.toastr.success("Link Sharing "+(n.state.link_sharing_enabled?"Enabled":"Disabled")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0),J.toastr.error("something went wrong");case 23:case"end":return e.stop()}},e,this,[[0,19]])})),n.state={design:null,brandkit_font_sets:[],brandkit_color_palettes:[],discount:0,coupon_applied:!1,coupon_code:null,apply_brand_kit:!1,templates:[],uploads:[],user_details:null,design_selection:null,toolbar_type:null,label_rules:null,redirect:!1,redirect_url:null,custom_upload:null,view_display_srcs:[],resize_dimensions:{},layer_buttons:{top:!1,bottom:!1},pages:0,design_save_id:null,design_resources_text_templates:{data:[],page_no:0},share_emails:[],share_role:"view",last_email:"",collapse_sidebar:!1,active_nav_tab:"templates",previous_nav_tab:"templates",page_zoom_display:"Fit",crop_mode:!1,displayGridColorPicker:!1,designName:"",full_page_loader:!1,full_page_loader_message:"Saving your work, it should take only a few seconds ...",active_payment_tab:null,activePhotoTab:1,activeMockupTab:1,saved_mockups:[],search_active:!1,search_results:[],search_results_display:[],search_text:"",show_magic_resize_modal:!1,show_suggest_design_modal:!1,defaultCategory:null,filterIntensity:50,displaySubscriptionModal:!1,showPurchaseModal:!1,showUnifiedCheckoutModal:!1,checkoutUrl:null,designIsLoaded:!1,hoverable_icon_template:!1,hoverable_icon_photo:!1,hoverable_icon_background:!1,hoverable_icon_text:!1,hoverable_icon_element:!1,hoverable_icon_mockup:!1,hoverable_icon_folder:!1,hoverable_icon_brand_kit:!1,hoverable_icon_bulk_edit:!1,device_type:"desktop",photos_subscription:!1,enable_share_switch_for_view:!1,enable_share_switch_for_edit:!1,link_sharing_enabled:!1,show_share_modal:!1,display_animations_player_modal:!1,grid_bulk_edit_label_temp:"",grid_bulk_edit_open:!1},n.adjustmentPanelRef=f.a.createRef(),n.textEffectsPanelRef=f.a.createRef(),n.backgroundRemovalPanelRef=f.a.createRef(),n.mockupEditorPanelRef=f.a.createRef(),n}return Object(u.a)(a,t),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.design_selection!=t.design_selection&&("filters"!=this.state.active_nav_tab&&"fonts"!=this.state.active_nav_tab&&"text_effects"!=this.state.active_nav_tab&&"adjust"!=this.state.active_nav_tab&&"remove_background"!=this.state.active_nav_tab&&"mockup_editor"!=this.state.active_nav_tab&&"animations"!=this.state.active_nav_tab&&"shadows"!=this.state.active_nav_tab||this.setState({active_nav_tab:this.state.previous_nav_tab,previous_nav_tab:this.state.previous_nav_tab}),this.setState({grid_bulk_edit_label_temp:""})),this.props.user!=e.user&&this.fetch_user_uploads(),this.state.redirect!=t.redirect&&this.setState({redirect:!1,redirect_url:null}),t.collapse_sidebar!=this.state.collapse_sidebar&&window.design_editor&&window.design_editor.handleWindowResize()}},{key:"componentDidMount",value:function(){var e=this;this.update_window_size(),window.onresize=this.update_window_size,(this.is_admin_designs()||this.is_admin_text_templates())&&(!this.props.user||this.props.user&&"admin"!==this.props.user.type&&"designer"!==this.props.user.type)&&(J.toastr.error("Unauthorized"),this.redirect_page("/designmaker/start"));var t,a=!0;for(var n in this.is_admin_designs()?t=this.props.fetch_design_template(this.props.match.params.design_id):this.is_admin_text_templates()?t=this.props.fetch_text_template(this.props.match.params.template_id).then(function(e){var t={id:"1ec683b5-fb43-429f-bb0e-a13ef617a2b1",width:800,height:800,pages:[{id:"17575320936194003893",objects:[],groups:[],background_color:"#ffffff",background_image:null,background_labels:{text_type:"",colors:[],brand_logo:""}}]};return t.pages[0].groups=[e.data.design_file.group],t.pages[0].objects=e.data.design_file.objects,{response_code:1,data:{design_file:t}}}):(a=!1,t=this.props.fetch_saved_design(this.props.match.params.design_id)),localStorage.setItem("active_design",this.props.match.params.design_id),window.set_design_variables=this.set_design_variables,window.rct_update_pages=this.rct_update_pages,window.rct_set_crop_mode=this.rct_set_crop_mode,window.rct_set_zoom=this.set_zoom,window.switch_nav_tab=this.switch_nav_tab,window.update_inputs_general=this.update_inputs_general,this.props.user?("admin"===this.props.user.type||!0===this.props.user.inmagineUser.userDetails.user.subscription.sub_status&&!0!==this.props.user.inmagineUser.userDetails.user.subscription.sub_free_plan)&&this.setState({photos_subscription:!0}):this.setState({photos_subscription:!1}),Promise.all([t]).then(function(t){var n={pages:[{background_color:"rgba(255,255,255,1)",objects:[]}]};if(1===(t=t[0]).response_code&&t.data&&t.data.design_file){n=t.data.design_file;var r=t.data.view_all||t.data.edit_all;e.setState({design:t.data,designName:t.data.name,link_sharing_enabled:r,enable_share_switch_for_edit:t.data.edit_all,enable_share_switch_for_view:t.data.view_all})}var i=a||1!==t.response_code?null:t.data._id;e.set_state({pages:n.pages.length,design_save_id:i}).then(function(){"view"===t.data.role&&e.props.match.params.role!==t.data.role&&e.redirect_page("/designmaker/start/")}).catch(function(e){console.error(e),J.toastr.error("Something went wrong")})}).catch(function(t){console.error(t),e.redirect_page("/designmaker/start")}),this.fetch_more_text_templates(),this.props.user&&(this.fetch_user_uploads(),this.fetch_saved_mockups(),this.fetchBkFonts()),Le)this.resize_options.push(f.a.createElement(C.a,{key:n},f.a.createElement(b.a,{sm:12},f.a.createElement(j.a,{id:n,onChange:function(t){return e.update_resize_options(t)}},n+" ("+Le[n].width+"x"+Le[n].height+" px)"))))}},{key:"componentWillUnmount",value:function(){window.design_editor&&window.design_editor.destroy(),delete window.design_editor}},{key:"render",value:function(){var t=this,a=this.state,r=a.redirect,o=a.redirect_url;if(r)return f.a.createElement(W.a,{push:!0,to:o});if("view"==this.props.match.params.role)return f.a.createElement("div",{style:{backgroundColor:"#fafafa",height:"100vh",overflowY:"auto"}},f.a.createElement(he.a,{role:"view",view_display_srcs:this.state.view_display_srcs,pages:this.state.pages,set_pages:function(e){return t.set_state({pages:e})},rct_update_pages:this.rct_update_pages,design_save_id:this.state.design_save_id,set_view_display_src:this.set_view_display_src,design_file:this.state.design?this.state.design.design_file:null,thumbnail:this.state.design?this.state.design.thumbnail:null,set_default_category:this.set_default_category,setDesignLoaded:this.setDesignLoaded}));var s=f.a.createElement(ge.a,{switch_nav_tab:this.switch_nav_tab,update_inputs_text:this.update_inputs_text,design_selection:this.state.design_selection,_rhs_options_panel:this._rhs_options_panel,_font_styles:He,_font_sizes:We,textEffectsPanelOnclick:this.textEffectsPanelOnclick,animateOnClick:this.animateOnClick}),l=f.a.createElement(me.a,{enter_crop_mode:this.enter_crop_mode,switch_nav_tab:this.switch_nav_tab,update_inputs_image:this.update_inputs_image,_rhs_options_panel:this._rhs_options_panel,design_selection:this.state.design_selection,adjustmentPanelOnclick:this.adjustmentPanelOnclick,backgroundRemovalPanelOnclick:this.backgroundRemovalPanelOnclick,toggle_background_removal:this.toggle_background_removal,mockupEditorPanelOnclick:this.mockupEditorPanelOnclick,animateOnClick:this.animateOnClick,shadowsPanelOnClick:this.shadowsPanelOnClick}),c=f.a.createElement(_e.a,{enter_crop_mode:this.enter_crop_mode,switch_nav_tab:this.switch_nav_tab,update_inputs_background:this.update_inputs_background,design_selection:this.state.design_selection,design_editor:window.design_editor,adjustmentPanelOnclick:this.adjustmentPanelOnclick,backgroundRemovalPanelOnclick:this.backgroundRemovalPanelOnclick,toggle_background_removal:this.toggle_background_removal,mockupEditorPanelOnclick:this.mockupEditorPanelOnclick,animateOnClick:this.animateOnClick}),d=f.a.createElement(pe.a,{switch_nav_tab:this.switch_nav_tab,_rhs_options_panel:this._rhs_options_panel,design_editor:window.design_editor}),u=[{value:"view",label:"Can View"},{value:"edit",label:"Can Edit"}],p=[];f.a.createElement(N.a,{id:"share_popover",className:"share_popover"},f.a.createElement("div",null,f.a.createElement(Q.a,{renderInput:function(e){var t=e.addTag,a=Object(n.a)(e,["addTag"]),r=a.value&&a.value.trim().toLowerCase()||"",i=r.length,o=p.filter(function(e){return e.name.toLowerCase().slice(0,i)===r});return f.a.createElement(q.a,{ref:a.ref,suggestions:o,shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return f.a.createElement("span",null,e.name)},inputProps:Object(_.a)({},a,{onChange:function(e,t){t.newValue,"enter"===t.method?e.preventDefault():a.onChange(e)}}),onSuggestionSelected:function(e,a){var n=a.suggestion;t(n.name)},onSuggestionsClearRequested:function(){},onSuggestionsFetchRequested:function(){}})},value:this.state.share_emails,inputValue:this.state.last_email,inputProps:{placeholder:"Type one or more emails"},onChange:this.handle_share_emails,onChangeInput:this.handle_last_email}),f.a.createElement(R.b,{options:u,defaultValue:u[0],onChange:function(e){t.setState({share_role:e.value})}}),f.a.createElement(y.a,Object(i.a)({type:"button",onClick:this.send_invites,className:"popover-button-custom",style:{width:"100%",marginTop:5}},"type","submit"),"Send Invites")),f.a.createElement("hr",null),f.a.createElement("div",null,this.state.link_sharing_enabled?f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,"Link sharing is enabled for this design. Anyone with the link can ",f.a.createElement("b",null,this.state.enable_share_switch_for_edit?"edit":"view")," it."),f.a.createElement(Oe.a,{link:e.config.website_url+"designmaker/start/designs/"+this.state.design._id+"/"+(this.state.enable_share_switch_for_edit?"edit":"view")})):f.a.createElement(f.a.Fragment,null,f.a.createElement(ke.a,{title:"Anyone with link can edit",show_dropper:this.state.enable_share_switch_for_edit,trigger_on_click:this.toggle_share_switch_for_edit,col_width_title:8,col_width_switch:4,Dropper:this.Dummy_Dropper}),f.a.createElement(ke.a,{title:"Anyone with link can view",show_dropper:this.state.enable_share_switch_for_view,trigger_on_click:this.toggle_share_switch_for_view,col_width_title:8,col_width_switch:4,Dropper:this.Dummy_Dropper})),f.a.createElement(y.a,Object(i.a)({type:"button",onClick:this.alter_link_sharing,className:"popover-button-custom",style:{width:"100%",marginTop:5}},"type","submit"),this.state.link_sharing_enabled?"Disable Link Sharing":"Enable Link Sharing")));var m=f.a.createElement(N.a,{id:"zoom_popover",className:"zoom_popover"},f.a.createElement(T.a,null,f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(300)}},"300%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(200)}},"200%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(125)}},"125%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(100)}},"100%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(75)}},"75%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(50)}},"50%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(25)}},"25%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom(10)}},"10%"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom("fit")}},"Fit"),f.a.createElement(P.a,{style:{fontWeight:"700",borderTop:"none",borderBottom:"none"},onClick:function(){return t.set_zoom("fill")}},"Fill"))),g={nav_text:{fontFamily:"Montserrat",fontSize:9,fontWeight:500},nav_item:{paddingLeft:0,paddingRight:0}};return"tablet"==this.state.device_type?(console.log("DANGER _________________>>>>>>>>>>>>>>>>>>> Tablet"),f.a.createElement(ce.a,null)):f.a.createElement("div",{style:{fontFamily:"Montserrat"}},f.a.createElement("div",{id:"full_page_loader",style:{display:this.state.full_page_loader?"block":"none",position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(100,100,100,0.5)",zIndex:"10000"}},f.a.createElement("div",{style:{color:"white",fontSize:"20px",position:"absolute",left:"45%",top:"50%"}},this.state.full_page_loader_message)),f.a.createElement("div",{id:"zoom_panel",style:{position:"fixed",right:"20px",bottom:"10px",zIndex:"1010"}},f.a.createElement(z.a,{style:{backgroundColor:"rgba(241, 242, 243, 0.8)",height:"40px",marginBottom:"0"}},f.a.createElement(E.a,{style:{fontWeight:"700"}},f.a.createElement(w.a,{onClick:this.toggle_overlay_zoom,trigger:"click",placement:"top",overlay:m},f.a.createElement(b.a,{id:"overlay_button_zoom",xs:12,style:{cursor:"pointer",paddingTop:"10px",height:"40px"},className:"hover-grey"},this.state.page_zoom_display))))),f.a.createElement(ze.a,{show:this.state.showUnifiedCheckoutModal,onHide:this.hideUnifiedCheckoutModal,src:this.state.checkoutUrl}),f.a.createElement(Ce.a,{show:this.state.displaySubscriptionModal,hide:function(){return t.setSubscriptionModalDisplay(!1)}}),f.a.createElement(Ie.a,{show:this.state.display_animations_player_modal,hide:this.closeAnimationsPlayerModal}),f.a.createElement(Ae.a,{show_share_modal:this.state.show_share_modal,hide_share_modal:function(){return t.setState({show_share_modal:!1})},design_id:this.state.design?this.state.design._id:null,is_saved_design:!0}),f.a.createElement("div",{id:"popover_overlay_share",style:{top:0,left:0,position:"fixed",zIndex:"1000",height:"100%",width:"100%",display:"none"},onClick:function(){return document.getElementById("overlay_button_share").click()}}),f.a.createElement("div",{id:"popover_overlay_zoom",style:{top:0,left:0,position:"fixed",zIndex:"1000",height:"100%",width:"100%",display:"none"},onClick:function(){return document.getElementById("overlay_button_zoom").click()}}),f.a.createElement(le.a,{show_suggest_design_modal:this.state.show_suggest_design_modal,hide_suggest_design_modal:this.hide_suggest_design_modal,triggerSubscriptionWall:Object(Se.a)(this.props.user)?null:this.setSubscriptionModalDisplay}),f.a.createElement(se.a,{show_magic_resize_modal:this.state.show_magic_resize_modal,hide_magic_resize_modal:this.hide_magic_resize_modal,triggerSubscriptionWall:Object(Se.b)(this.props.user)?null:this.setSubscriptionModalDisplay}),f.a.createElement(E.a,{style:{padding:"10px",backgroundColor:"#ffffff",zIndex:1020,boxShadow:"0 2px 16px 0 rgba(177,177,177,0.5)",position:"relative"},className:"editor_div"},f.a.createElement(b.a,{xs:3,style:{paddingLeft:0,textAlign:"left",width:382}},f.a.createElement(y.a,{onClick:this.back_onclick,className:"top-nav-buttons",style:{float:"left",color:"black !important",marginLeft:"5px"}},f.a.createElement("span",null,f.a.createElement(v.a,{style:{height:"28px"},src:window.__PUBLIC_URL+"/icons/back.svg"}))),f.a.createElement("input",{className:"design-name",style:{marginLeft:30,paddingLeft:5,marginTop:5},type:"text",placeholder:this.state.designName,onFocus:function(e){e.target.value=t.state.designName},onKeyDown:this.setDesignNameEnter,onChange:this.setDesignName,onBlur:function(){return Object($.h)(t.props.match.params.design_id,t.state.designName)}}),f.a.createElement("span",null)),f.a.createElement(b.a,{xs:9,style:{fontWeight:"bold",fontSize:"large",fontFamily:"Montserrat",width:"calc(100% - 382px)"}},this.is_admin_designs()||this.is_admin_text_templates()?f.a.createElement("div",{style:{float:"left"}},f.a.createElement(ue.a,{label_rules:this.state.label_rules,design_selection:this.state.design_selection})):null,f.a.createElement("div",{style:{float:"left"}},f.a.createElement(de.a,null),f.a.createElement(y.a,{id:"design_editor_undo_button",onClick:this.design_undo,className:"top-nav-buttons",style:{color:"#00000 !important"}},f.a.createElement("span",null,f.a.createElement(v.a,{style:{height:30},src:e.config.static_file_server_path+"uploads/icons/undo_new.svg"}))),f.a.createElement(y.a,{id:"design_editor_redo_button",onClick:this.design_redo,className:"top-nav-buttons",style:{color:"#00000 !important",marginRight:20}},f.a.createElement("span",null,f.a.createElement(v.a,{style:{height:30},src:e.config.static_file_server_path+"uploads/icons/redo_new.svg"})))),f.a.createElement("div",{style:{float:"right"}},!this.is_admin_designs()&&!this.is_admin_text_templates()&&f.a.createElement(y.a,{className:"btn-grey-inverse btn-header",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5,border:"none"},onClick:function(){return t.setState({display_animations_player_modal:!0})}},"Play"),!this.is_admin_designs()&&!this.is_admin_text_templates()&&f.a.createElement(y.a,{className:"btn-grey-inverse btn-header",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5,border:"none"},onClick:this.enterMagicResize},"Resize"),f.a.createElement(y.a,{className:"btn-grey-inverse btn-header",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5,border:"none"},onClick:function(){window.design_editor.present()}}," Present "),!this.is_admin_designs()&&!this.is_admin_text_templates()&&this.props.user&&f.a.createElement(y.a,{id:"overlay_button_share",className:"btn-grey-inverse btn-header",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5,border:"none"},onClick:function(){return t.setState({show_share_modal:!0})}},"Share"),!this.is_admin_designs()&&!this.is_admin_text_templates()&&this.props.user&&f.a.createElement(w.a,{ref:"purchase_modal_overlay",rootClose:!0,trigger:"click",placement:"bottom",overlay:f.a.createElement(N.a,Object.assign({},this.props,{className:"download-popover",id:"download-popover",positionLeft:-20}),f.a.createElement(je.a,{show:this.state.showPurchaseModal,hide:this.hidePurchaseModal,export_design:this.export_design,designId:this.props.match.params.design_id,showUnifiedCheckoutModal:function(e){return t.setState({showUnifiedCheckoutModal:!0,checkoutUrl:e})},hideUnifiedCheckoutModal:this.hideUnifiedCheckoutModal})),onClick:function(){return t.setState({showPurchaseModal:!0})}},f.a.createElement(y.a,{id:"overlay_button_download",className:"btn-orange-inverse",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5}}," Download ")),!this.is_admin_designs()&&!this.is_admin_text_templates()&&!this.props.user&&f.a.createElement(y.a,{id:"overlay_button_download",onClick:this.inmagine_login,className:"btn-orange-inverse",style:{paddingTop:6,paddingBottom:6,fontWeight:500,marginTop:3,marginRight:5}}," Download "),this.is_admin_text_templates()&&this.state.design_selection&&(this.state.design_selection.getGroup()||"group"==this.state.design_selection.type)&&f.a.createElement(y.a,{className:"btn-purple",onClick:this.save_text_template_admin}," Save Text Template "),this.is_admin_designs()&&f.a.createElement(y.a,{className:"btn-purple",onClick:this.save_design_template_admin}," Save Design Template ")))),f.a.createElement("div",{className:"sidebar_container",style:{height:"calc(100vh - 60px)",display:"flex",flexDirection:"row"}},f.a.createElement("div",{className:"text-center",style:{width:this.state.collapse_sidebar?78:388,padding:"0",zIndex:100,boxShadow:"0 2px 16px 0 #C5C5C5"}},f.a.createElement("div",{style:{height:"100%",padding:"0px"}},f.a.createElement(O.a.Container,{id:"tab_container_id",activeKey:this.state.active_nav_tab?this.state.active_nav_tab:this.state.collapse_sidebar?null:"templates",onSelect:this.switch_nav_tab},f.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"row"}},f.a.createElement("div",{id:"design_sidebar",style:{paddingBottom:"15px",borderBottom:"1px solid #cccccc",width:78,height:"100%",backgroundColor:"white",overflowY:"auto"}},f.a.createElement(F.a,{role:"tablist",stacked:!0},f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_template",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_template",!1)},className:"design_resources_nav_items",eventKey:"templates"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_template",manual_hover:this.state.hoverable_icon_template,default_src:this.state.active_nav_tab&&"templates"==this.state.active_nav_tab?"uploads/icons/Template_white.svg":"uploads/icons/Template.svg",hover_src:"uploads/icons/Template_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Templates")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_photo",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_photo",!1)},className:"design_resources_nav_items",eventKey:"photos"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_photo",manual_hover:this.state.hoverable_icon_photo,default_src:this.state.active_nav_tab&&"photos"==this.state.active_nav_tab?"uploads/icons/Photos_white.svg":"uploads/icons/Photos.svg",hover_src:"uploads/icons/Photos_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Photos")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_background",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_background",!1)},className:"design_resources_nav_items",eventKey:"backgrounds"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_background",manual_hover:this.state.hoverable_icon_background,default_src:this.state.active_nav_tab&&"backgrounds"==this.state.active_nav_tab?"uploads/icons/Background_white.svg":"uploads/icons/Background.svg",hover_src:"uploads/icons/Background_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Backgrounds")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_text",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_text",!1)},className:"design_resources_nav_items",eventKey:"text"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_text",manual_hover:this.state.hoverable_icon_text,default_src:this.state.active_nav_tab&&"text"==this.state.active_nav_tab?"uploads/icons/Text_white.svg":"uploads/icons/Text.svg",hover_src:"uploads/icons/Text_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Text")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_element",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_element",!1)},className:"design_resources_nav_items",eventKey:"elements"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_element",manual_hover:this.state.hoverable_icon_element,default_src:this.state.active_nav_tab&&"elements"==this.state.active_nav_tab?"uploads/icons/Elements_white.svg":"uploads/icons/Elements.svg",hover_src:"uploads/icons/Elements_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Elements")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_mockup",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_mockup",!1)},className:"design_resources_nav_items",eventKey:"mockups"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_mockup",manual_hover:this.state.hoverable_icon_mockup,default_src:this.state.active_nav_tab&&"mockups"==this.state.active_nav_tab?"uploads/icons/Mockup_white.svg":"uploads/icons/Mockup.svg",hover_src:"uploads/icons/Mockup_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Mockups")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_animations",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_animations",!1)},className:"design_resources_nav_items",eventKey:"animations"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_animations",manual_hover:this.state.hoverable_icon_animations,default_src:this.state.active_nav_tab&&"animations"==this.state.active_nav_tab?"uploads/icons/Animation_white.svg":"uploads/icons/Animation.svg",hover_src:"uploads/icons/Animation_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Animate")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_brand_kit",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_brand_kit",!1)},className:"design_resources_nav_items",eventKey:"brand_kit"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_brand_kit",manual_hover:this.state.hoverable_icon_brand_kit,default_src:this.state.active_nav_tab&&"brand_kit"==this.state.active_nav_tab?"uploads/icons/BrandKit_White.svg":"uploads/icons/BrandKit.svg",hover_src:"uploads/icons/BrandKit_White.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Brand Kit")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_uploads",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_uploads",!1)},className:"design_resources_nav_items",eventKey:"uploads"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_uploads",manual_hover:this.state.hoverable_icon_uploads,default_src:this.state.active_nav_tab&&"uploads"===this.state.active_nav_tab?"uploads/icons/Upload_white.svg":"uploads/icons/Upload.svg",hover_src:"uploads/icons/Upload_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Uploads")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_bulk_edit",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_bulk_edit",!1)},className:"design_resources_nav_items",eventKey:"bulk_edit"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_bulk_edit",manual_hover:this.state.hoverable_icon_bulk_edit,default_src:this.state.active_nav_tab&&"bulk_edit"===this.state.active_nav_tab?"uploads/icons/BulkEdit_white.svg":"uploads/icons/BulkEdit.svg",hover_src:"uploads/icons/BulkEdit_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Bulk Edit")),f.a.createElement(D.a,{onMouseEnter:function(){return t.propagate_hover("hoverable_icon_folder",!0)},onMouseLeave:function(){return t.propagate_hover("hoverable_icon_folder",!1)},className:"design_resources_nav_items",eventKey:"folders"},f.a.createElement("span",{style:g.nav_text},f.a.createElement("span",null),f.a.createElement(this.Hoverable_Icon,{id:"hoverable_icon_folder",manual_hover:this.state.hoverable_icon_folder,default_src:this.state.active_nav_tab&&"folders"==this.state.active_nav_tab?"uploads/icons/Folders_white.svg":"uploads/icons/Folders.svg",hover_src:"uploads/icons/Folders_white.svg"}),f.a.createElement("br",null),f.a.createElement("br",null),"Folders")))),f.a.createElement("div",{style:{width:310,height:"100%",backgroundColor:"#white",display:this.state.collapse_sidebar?"none":"block",paddingLeft:2,paddingRight:8}},["photos","brand_kit","templates","elements","backgrounds","text","uploads","mockups","animate","folders","filters","adjust","text_effects","fonts","remove_background","mockup_editor","bulk_edit","shadows"].includes(this.state.active_nav_tab)?f.a.createElement("div",{style:{textAlign:"left",height:92,paddingTop:32,color:"#888888",fontFamily:"Montserrat",fontSize:21,fontWeight:600,paddingLeft:30,paddingRight:15,width:"100%"}},Ue(this.state.active_nav_tab),f.a.createElement("span",{onClick:this.close_sidebar,style:{cursor:"pointer",float:"right",marginTop:3},className:"fa fa-arrow-left fa-light"})):"","animations"===this.state.active_nav_tab?f.a.createElement("div",{style:{textAlign:"left",height:92,paddingTop:32,color:"#888888",fontFamily:"Montserrat",fontSize:21,fontWeight:600,paddingLeft:30,paddingRight:15,width:"100%"}},"Animations",f.a.createElement("span",{onClick:this.close_sidebar,style:{cursor:"pointer",float:"right",marginTop:3},className:"fa fa-arrow-left fa-light"})):"",f.a.createElement("div",{style:{width:"100%",height:"calc(100% - 92px)",backgroundColor:"#EDEDED",display:this.state.collapse_sidebar?"none":"block",paddingLeft:1,borderRadius:3,overflowY:"hidden"}},f.a.createElement(O.a.Content,{animation:!1},"text"==this.state.active_nav_tab?f.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},f.a.createElement(A.a,{onSubmit:this.fetch_search_results},f.a.createElement(C.a,null,f.a.createElement(I.a,{style:{width:"100%"}},f.a.createElement(S.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search "+this.state.active_nav_tab,value:this.state.search_text,type:"text",onChange:function(e){return t.handle_design_resources_search(e)}}),this.state.search_active?f.a.createElement("span",{onClick:function(){return t.setState({search_active:!1,search_text:""})},style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):f.a.createElement("span",{onClick:this.fetch_search_results,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),f.a.createElement(y.a,{style:{display:"none"},type:"submit"})))):"",f.a.createElement(this.AllTabs,null)))))))),f.a.createElement("div",{style:{display:"flex",flexFlow:"column",padding:"0",width:this.state.collapse_sidebar?"calc(100% - 78px)":"calc(100% - 388px)",height:"100%"}},this.state.crop_mode?this._crop_mode_options_panel():"",this.state.crop_mode||"text"!=this.state.toolbar_type?"":s,this.state.crop_mode||"grid"!=this.state.toolbar_type?"":this._grid_options_panel(),this.state.crop_mode||"image"!=this.state.toolbar_type?"":l,this.state.crop_mode||"background"!=this.state.toolbar_type?"":c,this.state.crop_mode||"group"!=this.state.toolbar_type?"":d,!this.state.crop_mode&&!this.state.toolbar_type&&f.a.createElement(E.a,{className:"d-flex align-items-center",style:{paddingTop:"50px",backgroundColor:"#F1F2F3",zIndex:1010}}),f.a.createElement("div",{id:"design_doms_parent",style:{position:"relative",display:"flex",flexFlow:"column",overflow:"auto",padding:"0",height:"calc(100% + 50px)"}},f.a.createElement(he.a,{role:"edit",view_display_srcs:this.state.view_display_srcs,pages:this.state.pages,set_pages:function(e){return t.set_state({pages:e})},rct_update_pages:this.rct_update_pages,design_save_id:this.state.design_save_id,set_view_display_src:this.set_view_display_src,design_file:this.state.design?this.state.design.design_file:null,thumbnail:this.state.design?this.state.design.thumbnail:null,set_default_category:this.set_default_category,setDesignLoaded:this.setDesignLoaded})))))}}]),a}(h.Component);t.a=Object(H.a)(Object(U.connect)(function(e){return{user:e.user}},function(e){return{calculate_price:function(t,a){return e(Object(X.a)(t,a))},fetch_design_template:function(t){return e(Object($.c)(t))},fetch_text_template:function(t){return e(Object($.e)(t))},fetch_saved_design:function(t){return e(Object($.d)(t))},share_permission_with_emails:function(t,a,n,r){return e(Object($.g)(t,a,n,r))},check_permission:function(t,a,n){return e(Object($.a)(t,a,n))}}})(Ke))}).call(this,a(40))},346:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return s}),a.d(t,"c",function(){return l}),a.d(t,"a",function(){return c});var n=a(6),r=a.n(n),i=a(15),o=a(732),s=function(){var t=Object(i.a)(r.a.mark(function t(a){var n,i,s,l,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.paymentMode,i=a.designId,s=a.data,l=e.config.server_path+"order/add/",(c={}).skus=Object(o.a)({designId:i,data:s}),c.payment_mode=n,c.designId=i,t.abrupt("return",fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)}).then(function(e){return e.json()}).then(function(e){return 1===e.response_code?Promise.resolve(e.data):Promise.reject(e)}).catch(function(e){return console.error("Error while creating order: ",e),Promise.reject(e)}));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(i.a)(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.config.server_path+"user/credits/",t.abrupt("return",fetch(a,{method:"GET",credentials:"include"}).then(function(e){return e.json()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(i.a)(r.a.mark(function t(a){var n,i,o,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.id,i=a.paymentDetails,o=e.config.server_path+"order/confirm/",s={id:n,paymentDetails:i},t.abrupt("return",fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){return 1===e.response_code?Promise.resolve(e.data):Promise.reject(e)}));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}).call(this,a(40))},395:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(){return{type:"OPEN_LOGIN_MODAL"}}},402:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return d});var n=a(0),r=a.n(n),i=a(29),o=a(1409),s=a(1410),l=a(39),c=a(20),d=(a(1130),function(t){var a=t.show,n=t.hide;return r.a.createElement(i.a,{show:a,onHide:n,bsSize:"large"},r.a.createElement(i.a.Body,{style:{height:525,padding:30}},r.a.createElement("h2",{style:{color:"#333333",fontFamily:"Montserrat",fontSize:24,fontWeight:800}},"UPGRADE TO DESIGNS.AI PRO "),r.a.createElement("p",{style:{color:"#333333",fontFamily:"Montserrat",fontSize:14,fontWeight:500}},r.a.createElement(o.a,null,r.a.createElement(s.a,{xs:6},r.a.createElement("br",null),"For entrepreneurs and small teams that need advanced editing and professional templates",r.a.createElement("br",null),r.a.createElement("ul",{style:{marginTop:25,marginBottom:25,listStyle:"none"},className:"subscription_list"},r.a.createElement("li",{className:"subscription_list_item",style:{marginTop:10,marginBottom:15}},"Access to all templates and elements in Designs.ai library"),r.a.createElement("li",{className:"subscription_list_item",style:{marginTop:10,marginBottom:15}},"Monthly quota of 40 premium images and 10 premium videos from 123RF and Getty Images"),r.a.createElement("li",{className:"subscription_list_item",style:{marginTop:10,marginBottom:15}},"A.I powered banner resizing and design color swap"),r.a.createElement("li",{className:"subscription_list_item",style:{marginTop:10,marginBottom:15}},"Upgraded cloud storage of upto 5 GB")),r.a.createElement("p",{style:{marginTop:10,marginBottom:30}},"Plus many more stunning features to use throughout the Designs.ai suite")),r.a.createElement(s.a,{xs:6},r.a.createElement(l.a,{style:{width:"100%",paddingTop:50},src:e.config.server_path+"uploads/try_pro.png"})))),r.a.createElement(c.a,{className:"btn-orange",onClick:function(){return window.open(e.config.website_url,"_blank")}},"Upgrade today")))})}).call(this,a(40))},407:function(e,t,a){"use strict";var n=a(35),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(1380),d=a(39),u=a(0),p=a.n(u),m=function(e){function t(e){var a,i=this;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).MyLoader=function(){return p.a.createElement("div",{style:{backgroundColor:"#f1f2f3",width:a.props.width?a.props.width:"100%",height:a.props.height?a.props.height:"100%"}})},a.get_placeholders=function(){for(var e=[],t=0;t<a.props.images.length;t++)if(!(0==t&&a.state.is_active&&a.props.images.length>1)){var r=a.props.mockup.height/a.props.mockup.width,o=a.props.mockup.width/a.props.mockup.height,s=a.props.height?"calc("+a.props.height+"px * "+o+")":"100%",l=a.props.width?"calc("+a.props.width+"px * "+r+")":"100%";e.push(p.a.createElement(c.a.Item,null,p.a.createElement("div",{id:"result_loader",className:"loader",style:a.props.mockup.show_loader_gif?{display:"block"}:{display:"none"}}),p.a.createElement("div",{id:"result_overlay",className:"loader_overlay",style:a.props.mockup.show_loader_gif?{display:"block"}:{display:"none"}}," "),p.a.createElement("div",{style:{display:a.state.images_loaded?"none":"block",width:s,height:l}},p.a.createElement(i.MyLoader,null)),p.a.createElement(d.a,{onLoad:function(){return a.setState({images_loaded:!0})},style:Object(n.a)({display:a.state.images_loaded?"block":"none",height:a.props.height?a.props.height:"auto",width:a.props.width?a.props.width:"auto"},a.props.extra_styles),id:a.props.mockup._id+"_"+t,className:"mockup_image",src:a.props.images[t],rounded:!0})))}return e},a.handleMouseEnter=function(){a.setState({is_active:!0})},a.handleMouseLeave=function(){a.setState({is_active:!1})},a.state={is_active:!1,images_loaded:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement(c.a,{controls:!1,indicators:!1,pauseOnHover:!1,interval:1,slide:this.state.is_active,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.get_placeholders())}}]),t}(u.Component);t.a=m},409:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(79),i=a(35),o=a(8),s=a(6),l=a.n(s),c=a(15),d=a(31),u=a(33),p=a(32),m=a(34),g=a(30),_=a(0),h=a.n(_),f=a(29),b=a(1409),v=a(1410),y=a(20),w=a(810),E=a(273),x=a(110),k=a(1449),O=a(39),S=a(432),C=a(313),j=a(124),N=a(538),T=(a(191),a(109)),P=a(69),z=a(344),F=a(134),D=a(113),A=a(117),I=a(265),R=(a(1211),A.a.feline_fetch),B=A.b.data_uri_to_blob,M=function e(){Object(g.a)(this,e)};M.activate=function(){var e=window.document.getElementById("result_preview").clientWidth,t=window.document.getElementById("result_preview").clientHeight,a=window.document.getElementById("result_container").clientWidth,n=window.document.getElementById("result_container").clientHeight;window.document.getElementById("result_overlay").style.width=Math.ceil(100*e/a)+"%",window.document.getElementById("result_overlay").style.height=Math.ceil(100*t/n)+"%",window.document.getElementById("result_overlay").style.marginLeft=Math.floor((a-e)/2*100/a)+"%",window.document.getElementById("result_loader").style.display="block",window.document.getElementById("result_overlay").style.display="block"},M.hide=function(){window.document.getElementById("result_loader").style.display="none",window.document.getElementById("result_overlay").style.display="none"},M.initialize=function(){for(var t,a=window.document.getElementsByClassName("bodymovin"),n=0;n<a.length;n++)t=a[n],window.bodymovin.loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!0,path:e.config.server_path+"uploads/loader-dai-small.json"})};var L=function e(){Object(g.a)(this,e)};L.crop_editor=null,L.initialize=function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n,r,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.user_image,n=t.active_layer,e.prev=1,a){e.next=7;break}return e.next=5,window.fetchFileSrc("mockup_file");case 5:r=e.sent,a={src:r};case 7:i=n.upload_resolution.width/n.upload_resolution.height,(o=new window.Image).crossOrigin="anonymous",o.onload=function(){L.crop_editor=new window.cropEditor(o,i,window.document.getElementById("crop_div"),a.cropDetails)},o.src=a.src,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("error init Crop_Editor.crop_editor ---?> ",e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),L.rotate_image=function(){L.crop_editor&&(L.crop_editor.rotation+=Math.PI/2,L.crop_editor.rotation>6.2&&(L.crop_editor.rotation=0),L.crop_editor.draw())},L.apply_zoom=function(e){var t=e.target.value;L.crop_editor&&L.crop_editor.zoom(t)},L.export_crop=function(){if(L.crop_editor)return L.crop_editor.exportCrop()},L.destroy_editor=function(){L.crop_editor&&(L.crop_editor=null)},window.ce=L;var W=function(t){function a(){var t,n;Object(g.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(a)).call.apply(t,[this].concat(i)))).state={errorMessage:""},n.handleChange=function(e){var t=e.error;t&&n.setState({errorMessage:t.message})},n.handleSubmit=function(){var t=Object(c.a)(l.a.mark(function t(a){var r,i,o,s,c,d;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),!n.props.stripe){t.next=42;break}return t.next=5,n.props.stripe.createPaymentMethod("card",n.state.cardElement);case 5:if(!(r=t.sent)){t.next=39;break}return t.next=9,n.props.create_order();case 9:return r=r.paymentMethod.id,i=e.config.server_path+"order/charge_stripe",t.next=13,fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({payment_method:r,order_id:n.props.order_id})});case 13:return o=t.sent,t.next=16,o.json();case 16:if(!(o=t.sent).error){t.next=20;break}t.next=37;break;case 20:if(!o.data.requires_action){t.next=35;break}return t.next=23,n.props.stripe.handleCardAction(o.data.payment_intent_client_secret);case 23:if(!(s=t.sent).error){t.next=26;break}return t.abrupt("return");case 26:return c=s.paymentIntent.id,t.next=29,fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({payment_intent_id:c,order_id:n.props.order_id})});case 29:return d=t.sent,t.next=32,d.json();case 32:d=t.sent,t.next=36;break;case 35:d=o;case 36:n.props.handle_result({paymentDetails:o}).then(function(e){n.props.order_complete(e)});case 37:t.next=40;break;case 39:console.log("incorrect payment details");case 40:t.next=43;break;case 42:console.log("Stripe.js hasn't loaded yet.");case 43:t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log(t.t0);case 48:case"end":return t.stop()}},t,this,[[0,45]])}));return function(e){return t.apply(this,arguments)}}(),n.handleReady=function(e){n.setState({cardElement:e})},n}return Object(m.a)(a,t),Object(d.a)(a,[{key:"render",value:function(){return h.a.createElement("div",{className:"CardDemo"},h.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},h.a.createElement("label",{style:{width:"100%",margin:"auto",paddingTop:10,paddingBottom:10}},h.a.createElement(z.CardElement,Object.assign({style:{padding:10},onChange:this.handleChange,onReady:this.handleReady},{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}}))),h.a.createElement("div",{className:"error",role:"alert",style:{minWidth:400,margin:"auto"}}," ",this.state.errorMessage," "),h.a.createElement("button",{className:"btn btn-blue btn-block"},"Pay")))}}]),a}(_.Component),H=Object(z.injectStripe)(W),U=function(t){var a=t.show_image_crop_modal,n=t.hide_image_crop_modal,r=t.update_user_images,i=t.is_dm;try{return h.a.createElement(f.a,{show:a,onHide:n},h.a.createElement(f.a.Header,{closeButton:!0},h.a.createElement(f.a.Title,null,"Crop selected image")),h.a.createElement(f.a.Body,null,h.a.createElement("div",{id:"crop_div",align:"center"},"Waiting for upload",h.a.createElement("br",null),h.a.createElement("img",{src:e.config.server_path+"public/images/loader.gif"}))),h.a.createElement(f.a.Footer,null,h.a.createElement(b.a,null,h.a.createElement(v.a,{xs:12,align:"center",style:{marginBottom:"10px",marginTop:"-5px"}},h.a.createElement(y.a,{onClick:L.rotate_image,className:i?"btn btn-orange-inverse":"btn btn-blue-inverse"},"\u293e"))),h.a.createElement(b.a,null,h.a.createElement(v.a,{xs:2}),h.a.createElement(v.a,{xs:8},h.a.createElement("input",{type:"range",min:"1",max:"100",onChange:L.apply_zoom,className:"slider",id:"zoom_slider"})),h.a.createElement(v.a,{xs:2})),h.a.createElement(b.a,{className:"text-center",style:{marginTop:"2rem"}},h.a.createElement(y.a,{onClick:r,className:i?"btn btn-orange":"btn btn-blue"},"Crop"))))}catch(o){return console.log("error in image upload modal --\x3e ",o),""}},J=function(t){var a=t.show_image_options_modal,n=t.hide_image_options_modal,r=t.past_designs,i=t.activate_image_crop_modal,o=t.initiate_image_upload,s=t.is_dm;try{return h.a.createElement(f.a,{show:a,onHide:n},h.a.createElement(f.a.Header,{closeButton:!0},h.a.createElement(f.a.Title,null,"choose or upload image")),h.a.createElement(f.a.Body,null,h.a.createElement(y.a,{style:{marginTop:15,marginBottom:30},className:s?"btn btn-sm btn-orange btn-block":"btn btn-sm btn-blue btn-block",onClick:o},h.a.createElement("span",{class:"fa fa-upload"})," Upload New Image"),h.a.createElement("hr",{className:"or_divider"}),h.a.createElement(b.a,{style:{fontSize:14,paddingBottom:20,paddingRight:10}},h.a.createElement(b.a,{style:{paddingBottom:5}},h.a.createElement("b",null,"Choose from your designs")),h.a.createElement(F.a,{id:"past_design_slider",height:120},r.map(function(t,a){return h.a.createElement(D.a,{key:"past_design_box_"+a,on_click:function(){return i({user_image:{src:e.config.server_path+t.thumbnail}})},idx:a,image_src:e.config.static_file_server_path+t.thumbnail,name:t.name})})))))}catch(l){return console.log("error in image Options modal --\x3e ",l),""}},G=function(t){var a=t.show_payment_modal,n=t.hide_payment_modal,r=t.mockup,s=t.inputs,d=(t.watermarked_image_src,t.payment_completion),u=t.user;t.is_dm;try{var p={cursor:"pointer",fontFamily:"Montserrat",fontWeight:400},m=Object(_.useState)("stripe"),g=Object(o.a)(m,2),y=g[0],O=g[1],S=Object(_.useState)(null),C=Object(o.a)(S,2),j=C[0],T=C[1],P=Object(_.useState)(!1),F=Object(o.a)(P,2),D=F[0],A=F[1],B=Object(_.useState)(null),M=Object(o.a)(B,2),L=M[0],W=M[1],U=Object(_.useState)(!1),J=Object(o.a)(U,2),G=J[0],K=J[1],V=Object(_.useState)(!1),q=Object(o.a)(V,2),Y=q[0],Q=q[1],$=Object(_.useState)(0),X=Object(o.a)($,2),Z=X[0],ee=X[1],te=function(){K(!1),Q(!1),A(!0)},ae=function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),t=y,a=[{type:"mockup",inputs:s,price:r.price,mockup:r._id}],n={payment_mode:t,skus:a},e.next=7,R({url:"order/add",body:n});case 7:return i=e.sent,T(i._id),e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(0),console.log("error in order creation --\x3e>> ",e.t0),te(),console.error(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.paymentDetails,e.prev=1,a||(a=j),e.next=5,R({url:"order/confirm",body:{id:a,paymentDetails:n}});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1),console.error("error in confirm order ",e.t0),te();case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),re=function(e){try{K(!1),A(!0),Q(!0),d()}catch(t){console.error("error in order complete ",t),te()}},ie=function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),Q(!0),K(!0),e.next=6,ae();case 6:return t=e.sent,e.next=9,ne({id:t._id,paymentDetails:"Designs AI subscription"});case 9:t=e.sent,re(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("error in direct_order_completion ---\x3e ",e.t0),te();case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}();Object(_.useEffect)(function(){a&&(K(!1),O("stripe"),T(null),A(!1),W(null),Object(I.c)(u)&&ie())},[a]);var oe,se=function(){var t=Object(c.a)(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ee((Z+100)/2),t.next=5,Object(N.b)(j,0);case 5:!0===(a=t.sent).success&&(W(e.config.static_file_server_path+a.fileSrc),T(null)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}();return Object(_.useEffect)(function(){if(j&&!0===D)return oe=setInterval(se,2e3),function(){clearInterval(oe)}},[j]),h.a.createElement(f.a,{show:a,onHide:n},h.a.createElement(f.a.Header,{closeButton:!0},h.a.createElement(f.a.Title,{style:{cursor:"pointer",fontFamily:"Montserrat",fontWeight:400}},"Purchase and download mockup")),h.a.createElement(f.a.Body,null,D?Y?h.a.createElement(b.a,null,h.a.createElement(b.a,{className:"text-success success text-center"},h.a.createElement("span",{className:"fa fa-check fa-2x"}),h.a.createElement("p",{style:{fontSize:14}},"Order placed successfully.",h.a.createElement("br",null),"Please wait while your mockup is being rendered. This can take upto a minute.",h.a.createElement("br",null),"You can download the high resolution image now or from your Orders page. ",h.a.createElement("br",null),"Thanks for using Mockupmaker.",h.a.createElement("br",null))),L?h.a.createElement("a",{className:"btn btn-blue btn-block",target:"blank",href:L,download:"output.png"},"Download High Resolution Image"):h.a.createElement(w.a,{now:Z})):h.a.createElement(b.a,null,h.a.createElement(b.a,{className:"text-danger danger text-center"},h.a.createElement("span",{className:"fa fa-times fa-2x"}),h.a.createElement("p",{style:{fontSize:14}},"Mockup generated failed. ",h.a.createElement("br",null),"Any amount charged will be refunded in 3-4 working days. ",h.a.createElement("br",null),"Contact us at support@designs.ai for any issues. ",h.a.createElement("br",null),"Thanks for using Mockupmaker.",h.a.createElement("br",null)))):h.a.createElement(h.a.Fragment,null,h.a.createElement(b.a,{className:"text-center",style:{cursor:"pointer",fontFamily:"Montserrat",fontWeight:400}},h.a.createElement("h4",null,"Single Mockup Purchase - $",r?r.price:2," USD")),h.a.createElement(E.a,{componentClass:"ul"},h.a.createElement(x.a,{style:{padding:0}},h.a.createElement(k.a,{style:{border:"none",marginBottom:0}},h.a.createElement(k.a.Heading,{style:p,onClick:function(){return O("stripe")}},"Checkout with card"),h.a.createElement(k.a.Body,{style:{display:"stripe"==y?"block":"none"}},h.a.createElement(z.StripeProvider,{apiKey:"pk_test_YznMX2VxbUnPultpdYWHoCWK008UAC8CLj"},h.a.createElement(z.Elements,null,h.a.createElement(H,{create_order:ae,order_id:j,handle_result:ne,order_complete:re})))))),h.a.createElement(x.a,{style:{padding:0}},h.a.createElement(k.a,{style:{border:"none",marginBottom:0}},h.a.createElement(k.a.Heading,{style:p,onClick:function(){return O("paypal")}},"Checkout with paypal ",h.a.createElement("br",null)),h.a.createElement(k.a.Body,{style:{display:"paypal"==y?"block":"none"}},h.a.createElement(v.a,{xs:3}),h.a.createElement(v.a,{xs:6},h.a.createElement("div",{onClick:ae},h.a.createElement("div",{id:"paypal-button-container"}," This feature is currently under development "))),h.a.createElement(v.a,{xs:3}))))),h.a.createElement(b.a,null,h.a.createElement("a",{className:"btn btn-blue-inverse btn-block",download:!0,href:window.document.getElementById("result_preview")?window.document.getElementById("result_preview").src:""},"Download Watermarked Image"))),G?h.a.createElement("div",{style:Object(i.a)({},{top:0,position:"absolute",background:"rgba(0, 0, 0, 0.6)",color:"white",width:"100%",height:"100%",fontSize:"18",marginLeft:"-15px",textAlign:"center",paddingTop:"calc(100% - 50px)"},{paddingTop:Y?60:150})},h.a.createElement("strong",null,"Please wait while we generate your mockup.")):""),h.a.createElement(f.a.Footer,null,h.a.createElement("div",null)))}catch(le){return console.log("error in payment modal --\x3e ",le),""}},K=function(e){var t=e.show_color_picker,a=e.target,n=e.selected_color,r=e.set_selected_color,i=e.hide_color_picker,s=e.is_dm;try{var l=Object(_.useState)("#333"),c=Object(o.a)(l,2),d=c[0],u=c[1],p=Object(_.useState)(["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"]),m=Object(o.a)(p,2),g=m[0];m[1];return Object(_.useEffect)(function(){t&&u(n||"#333")},[t,n]),t?h.a.createElement("div",{style:{visibility:"visible"}},h.a.createElement("div",{style:{position:"absolute",zIndex:2,top:"-460px",left:"9px"}},h.a.createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:"-1"},onClick:i}),h.a.createElement("div",{id:"mockup_color_picker_container",style:{padding:0,borderRadius:4,boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px, rgba(0, 0, 0, 0.15) 0px 8px 16px",backgroundColor:"white"}},h.a.createElement(T.a,{color:d,onChange:function(e){return u(e.hsl)},target:a,presetColors:g}),h.a.createElement(b.a,{style:{marginTop:2,marginBottom:5,padding:6}},h.a.createElement(y.a,{style:{paddingTop:4,paddingBottom:4},className:s?"btn-block btn-orange":"btn-block btn-blue",onClick:function(){try{r({hue_value:d})}catch(e){console.log("error setting color selection --\x3e ",e)}}},"Apply"))))):""}catch(f){return console.log("error in color picker --\x3e ",f),""}},V=function(e){var t=e.selected_color,a=e.on_click,n=e.caret_container_width,r=e.caret_container_height;e.is_dm;try{var i={height:r,width:n,display:"inline-block",textAlign:"center"},s=Object(_.useState)({h:214,s:8,l:78,a:1}),l=Object(o.a)(s,2),c=l[0],d=l[1],u=Object(_.useState)({height:40}),p=Object(o.a)(u,2),m=p[0],g=p[1];return Object(_.useEffect)(function(){if(t){var e=t.h,a=t.s,n=t.l,r=t.a;d({h:e,s:Math.round(100*a),l:Math.round(100*n),a:r})}},[t]),Object(_.useEffect)(function(){c&&g({display:"inline-block",height:r,width:"calc(100% - ".concat(n,"px)"),backgroundColor:"hsla(".concat(c.h,", ").concat(c.s,"%, ").concat(c.l,"%, ").concat(c.a,")"),color:"white"})},[c]),h.a.createElement("div",{className:"text-center"},h.a.createElement(b.a,{onClick:a,style:{width:"100%",padding:4,paddingRight:0,color:"#2572CE",border:"1px solid #2572CE",borderRadius:4,cursor:"pointer"}},h.a.createElement(v.a,{style:m},h.a.createElement("span",{style:{verticalAlign:"-webkit-baseline-middle",color:t?"hsla(".concat(c.h,", ").concat(c.s,"%, ").concat(c.l,"%, ").concat(c.a,")"):"black"}},"Choose color")),h.a.createElement(v.a,{style:i},h.a.createElement("span",{style:{verticalAlign:"middle",color:"black",marginTop:10},className:"fa fa-lg fa-caret-down"}))))}catch(f){return console.log("error in color picker container ---\x3e ",f),""}};V.defaultProps={caret_container_width:40,caret_container_height:36};t.a=Object(j.a)(function(t){var a,s=t.mockup,d=t.device_type,u=t.saved_mockup,p=t.fetch_all_saved_mockups,m=t.user,g=t.is_dm,f=t.apply_mockup_editor;try{var w={padding:0,backgroundColor:"white",maxWidth:"calc(100% - 362px)",maxHeight:"calc(100vh - 100px)"},E=Object(i.a)({},w,{maxWidth:"100%",maxHeight:"auto",marginTop:g?10:0}),x={cursor:"not-allowed",opacity:"0.75",filter:"alpha(opacity=75)","-webkit-box-shadow":"none",boxShadow:"none"},k=Object(_.useState)(""),j=Object(o.a)(k,2),N=j[0],T=j[1],z=Object(_.useState)(!1),F=Object(o.a)(z,2),D=F[0],A=F[1],I=Object(_.useState)(""),W=Object(o.a)(I,2),H=W[0],q=W[1],Y=Object(_.useState)(null),Q=Object(o.a)(Y,2),$=Q[0],X=Q[1],Z=Object(_.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(_.useState)(!1),re=Object(o.a)(ne,2),ie=re[0],oe=re[1],se=Object(_.useState)([]),le=Object(o.a)(se,2),ce=le[0],de=le[1],ue=Object(_.useState)([]),pe=Object(o.a)(ue,2),me=pe[0],ge=pe[1],_e=Object(_.useState)({}),he=Object(o.a)(_e,2),fe=he[0],be=he[1],ve=Object(_.useState)({}),ye=Object(o.a)(ve,2),we=ye[0],Ee=ye[1],xe=Object(_.useState)(null),ke=Object(o.a)(xe,2),Oe=ke[0],Se=ke[1],Ce=Object(_.useState)(!1),je=Object(o.a)(Ce,2),Ne=je[0],Te=je[1],Pe=Object(_.useState)(!1),ze=Object(o.a)(Pe,2),Fe=ze[0],De=ze[1],Ae=Object(_.useState)([]),Ie=Object(o.a)(Ae,2),Re=Ie[0],Be=Ie[1],Me=Object(_.useState)(!1),Le=Object(o.a)(Me,2),We=Le[0],He=Le[1],Ue=Object(_.useState)(!1),Je=Object(o.a)(Ue,2),Ge=Je[0],Ke=Je[1],Ve=Object(_.useState)(!1),qe=Object(o.a)(Ve,2),Ye=qe[0],Qe=qe[1],$e=Object(_.useState)(!1),Xe=Object(o.a)($e,2),Ze=Xe[0],et=Xe[1],tt=function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R({url:"user/fetch_owned_designs"});case 3:t=e.sent,Be(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),at=function(e){var t=e.user_image;L.destroy_editor(),L.initialize({user_image:t,active_layer:$}),De(!1),Te(!0)},nt=function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M.activate(),t=2*window.document.getElementById("result_preview").width||1200,a=2*window.document.getElementById("result_preview").height||1200,e.next=7,window.requestGenerateMockup(s,{hue_values:ce,user_images:me},{maxWidth:t,maxHeight:a});case 7:if(n=e.sent,M.hide(),-1!=n.response_code){e.next=14;break}return P.toastr.error("Oops! Something went wrong."),e.abrupt("return",Promise.reject(n.error));case 14:if(!n.data.error){e.next=19;break}return P.toastr.error("Oops! Something went wrong."),e.abrupt("return",Promise.reject(n.data.error));case 19:window.document.getElementById("result_preview").src=n.data.data.output,Ke(!0),He(!0);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log("error in mockup generation ----\x3e ",e.t0);case 27:case"end":return e.stop()}},e,this,[[0,24]])}));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!We||!m){e.next=16;break}return t=window.document.getElementById("result_preview").src,(a=new FormData).append("mockup_file",B(t),"output.jpg"),n=me.map(function(e,t){return e&&e.src&&e.src.indexOf("data:image")>-1&&(a.append("mockup_file"+t,B(e.src),"input_"+t+".jpg"),delete e.src),e}),a.append("mockup_id",s._id),a.append("hue_values",JSON.stringify(ce||[])),a.append("user_images",JSON.stringify(n||[])),e.next=11,R({url:"mockup/save",body:a,is_form_data:!0});case 11:e.sent,p(),P.toastr.success("Output saved"),e.next=17;break;case 16:Qe(!0);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("error in saving mockup --\x3e ",e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}();return Object(_.useEffect)(function(){be({}),D||(M.initialize(),A(!0)),s&&(T(s.name),q(s.placeholders[0]||s.tracing_image_src),s.layers&&s.layers.length&&(be(s.layers.filter(function(e){return e.features.hue}).reduce(function(e,t,a){return Object(i.a)({},e,Object(n.a)({},t._id,a))},{})),Ee(s.layers.filter(function(e){return"dynamic"==e.type}).reduce(function(e,t,a){return Object(i.a)({},e,Object(n.a)({},t._id,a))},{}))))},[s]),Object(_.useEffect)(function(){if(u){var e=u.mockup_inputs;e.hue_values&&e.hue_values.length&&de(e.hue_values),e.user_images&&e.user_images.length&&ge(e.user_images),q(u.watermarked_output_src)}else s&&(de([]),ge([]))},[u,s]),Object(_.useEffect)(function(){Fe&&tt()},[Fe]),Object(_.useEffect)(function(){nt()},[ce,me]),Object(_.useEffect)(function(){(We||Ge)&&Qe(!1)},[Ge,We]),h.a.createElement(b.a,null,h.a.createElement(J,{show_image_options_modal:Fe,hide_image_options_modal:function(){return De(!1)},past_designs:Re,activate_image_crop_modal:at,initiate_image_upload:function(){De(!1),window.document.getElementById("mockup_file").click()},is_dm:g}),h.a.createElement(U,{show_image_crop_modal:Ne,hide_image_crop_modal:function(){return Te(!1)},update_user_images:function(){try{var e={src:L.crop_editor.image.src,cropDetails:L.export_crop()};Te(!1);var t=Object(r.a)(me);t[we[$._id]]=e,ge(t)}catch(a){console.log("error in applying crop ---\x3e ",a)}},is_dm:g}),h.a.createElement(G,{show_payment_modal:Ze,hide_payment_modal:function(){return et(!1)},mockup:s,inputs:{hue_values:ce,user_images:me},payment_completion:function(){return Ke(!1)},user:m,is_dm:g}),"tablet"==d?h.a.createElement(v.a,{xs:2}):"",h.a.createElement(v.a,{xs:12,sm:8,id:"result_container",style:"tablet"==d?E:w},h.a.createElement("div",{id:"result_loader",className:"bodymovin-wrapper loader",style:{display:"none"}}),h.a.createElement("div",{id:"result_overlay",className:"bodymovin loader_overlay",style:{display:"none"}}),h.a.createElement(O.a,{id:"result_preview",style:{margin:"auto",width:"auto",maxWidth:"100%",maxHeight:500,display:"block"},className:"mockup_image_big",src:(a=H,a?a.indexOf("data:image")>-1||a.indexOf("http")>-1||a.indexOf("blob:")>-1?a.indexOf("blob:")>-1||a.indexOf("data:image")>-1?a:e.config.server_path.replace("api/","")+"api/image_proxy?src="+window.encodeURIComponent(a):e.config.server_path+a:""),rounded:!0})),"tablet"==d?h.a.createElement(v.a,{xs:4,style:{marginLeft:"-44px"}}):"",h.a.createElement(v.a,{xs:12,sm:4,style:{minWidth:g?290:338}},h.a.createElement("div",{style:{marginTop:g?10:0,width:"100%",padding:20,float:"right",marginLeft:24,borderRadius:4,boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)"}},h.a.createElement(b.a,null,h.a.createElement("span",{style:{fontSize:18,fontFamily:"Montserrat",fontWeight:800}},N)),h.a.createElement("hr",null),h.a.createElement(b.a,null,s&&s.layers.filter(function(e){return"dynamic"==e.type}).map(function(e,t){return h.a.createElement(b.a,{style:{marginBottom:14}},h.a.createElement("div",{style:{marginBottom:10,fontFamily:"Montserrat",fontSize:14,fontWeight:800}},e.name),me[t]?h.a.createElement(b.a,null,h.a.createElement(v.a,{xs:10},h.a.createElement(y.a,{className:g?"btn-block btn-orange-inverse":"btn-block btn-blue-inverse",onClick:function(){return function(e,t){L.destroy_editor(),L.initialize({user_image:me[t],active_layer:$}),De(!1),Te(!0)}(0,t)}},"Adjust Image")),h.a.createElement(v.a,{xs:2},h.a.createElement(y.a,{className:g?"btn-block btn-orange-inverse":"btn-block btn-blue-inverse",onClick:function(){return function(e){var t=Object(r.a)(me);t.splice(e,1),ge(t)}(t)}},"\u2716"))):h.a.createElement(y.a,{className:g?"btn-block btn-orange-inverse":"btn-block btn-blue-inverse",onClick:function(){return function(e){var t=e.layer;X(t),De(!0)}({layer:e})}},"Upload Image"))}),h.a.createElement("hr",null),s&&s.layers.filter(function(e){return e.features&&e.features.hue}).map(function(e){return h.a.createElement(b.a,{style:{marginBottom:14}},h.a.createElement("div",{style:{marginBottom:10,fontFamily:"Montserrat",fontWeight:800,fontSize:14}},e.name),h.a.createElement(V,{selected_color:ce[fe[e._id]],on_click:function(t){var a=t.target;return function(e){var t=e.layer,a=e.target;X(t),oe(a),ae(!0),Se(ce[fe[t._id]]?ce[fe[t._id]]:null)}({layer:e,target:a})},is_dm:g}))}),h.a.createElement("hr",null),h.a.createElement(S.a,{show:te,target:ie,placement:"bottom"},h.a.createElement(C.a,{id:"popover-contained",style:{visibility:"hidden"}},h.a.createElement(K,{show_color_picker:te,hide_color_picker:function(){ae(!1),oe(null),Se(null),X(null)},target:ie,selected_color:Oe,set_selected_color:function(e){var t=e.hue_value,a=Object(r.a)(ce);a[fe[$._id]]=t,de(a),ae(!1)},is_dm:g}))),h.a.createElement("input",{type:"file",onInput:function(){return at({})},onClick:function(e){e.target.value=null},id:"mockup_file",name:"mockup_image"})),g?h.a.createElement(b.a,null,h.a.createElement(v.a,{xs:12,style:{paddingLeft:0,paddingRight:4}},h.a.createElement(y.a,{onClick:function(){try{f({id:s._id,inputs:{hue_values:ce,user_images:me}})}catch(e){console.log("error in saving mockup --\x3e ",e)}},className:"btn-orange btn-block"},"Apply to design"))):h.a.createElement(b.a,null,h.a.createElement(v.a,{xs:6,style:{paddingLeft:0,paddingRight:4}},h.a.createElement(y.a,{onClick:function(){try{Ge&&m?et(!0):Qe(!0)}catch(e){console.log("error in saving mockup --\x3e ",e)}},className:"btn-blue btn-block",style:Ge&&m?{}:x},"Download")),h.a.createElement(v.a,{xs:6,style:{paddingRight:0,paddingLeft:4}},h.a.createElement(y.a,{onClick:rt,className:"btn-blue btn-block",style:We&&m?{}:x},"Save"))),Ye&&h.a.createElement(b.a,{style:{color:"red",fontSize:10,textAlign:"center"}},h.a.createElement("br",null),h.a.createElement("strong",null,m?"Please alter the mockup to enable this feature.":"Please Login to enable this feature.")))))}catch(it){return console.log("error in mockup panel --\x3e ",it),""}})}).call(this,a(40))},410:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(169),g=a(105),_=a(172),h=a(95),f=a(20),b=a(1409),v=a(221),y=a(124),w=a(83),E=a(89),x=a.n(E),k=a(433),O=(a(117).a.feline_fetch,20),S=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).fetch_more_fonts=function(){var e=n.state.page,t=n.state.fonts.slice(e*O,(e+1)*O);Object(k.a)(t),n.setState({data:n.state.data.concat(t),page:n.state.page+1})},n.fetchSearchResults=function(){if(""!=n.state.searchKeywords){var e=n.state.fonts.filter(function(e){return e.name.toLowerCase().startsWith(n.state.searchKeywords.toLowerCase())}).slice(n.state.page*O,(n.state.page+1)*O);Object(k.a)(e),n.setState({data:e,page:n.state.page+1})}else n.setState({data:n.state.fonts.slice(0,20),page:0})},n.populate_bk_fonts=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.props.brandkit_font_sets){e.next=9;break}t=n.props.brandkit_font_sets.map(function(e){return e.fonts}),t=(t=window._.flatten(t)).map(function(e){var t=e.src;return!t&&e.file&&e.file.length>0&&(t=e.file[0]),{src:t,name:e.name}}),t=window._.uniqBy(t,function(e){return e.src}),n.setState({bkFonts:t}),e.next=10;break;case 9:return e.abrupt("return",Promise.resolve(null));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}},e,this,[[0,12]])})),n.fetchFonts=function(){var t=Math.ceil(window.screen.availHeight/50);fetch(e.config.server_path+"design_resource/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"font",page_no:0,size:1e3})}).then(function(e){return e.json()}).then(function(e){var a=e.data.docs.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});Object(k.a)(a.slice(0,t)),n.setState({fonts:a,data:a.slice(0,t),page:n.state.page+1})}).catch(function(e){return console.log(e)})},n.searchFieldOnChange=function(e){n.setState({searchKeywords:e.target.value,page:0},n.fetchSearchResults)},n.state={fonts:[],data:[],bkFonts:[],page:0,searchActive:!1,searchKeywords:""},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchFonts(),this.populate_bk_fonts()}},{key:"render",value:function(){var e=this;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},p.a.createElement(m.a,{onSubmit:this.fetchSearchResults},p.a.createElement(g.a,null,p.a.createElement(_.a,{style:{width:"100%"}},p.a.createElement(h.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search fonts",value:this.state.searchKeywords,type:"text",onChange:function(t){return e.searchFieldOnChange(t)}}),this.state.searchActive?p.a.createElement("span",{onClick:function(){return e.setState({searchActive:!1,search_text:""})},style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):p.a.createElement("span",{onClick:this.fetchSearchResults,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),p.a.createElement(f.a,{style:{display:"none"},type:"submit"})))),p.a.createElement(b.a,{style:{width:"100%",height:"calc(100vh - "+(this.props.external_height?this.props.external_height:"149px")+")",overflowY:"auto"}},this.state.searchActive?p.a.createElement(x.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchSearchResults,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 149px)"},this.state.data.map(function(t,a){return p.a.createElement("div",{key:a,className:"font_icon",style:{cursor:"pointer",height:"50px",textAlign:"left",paddingLeft:15,paddingTop:12.5},onClick:function(a){e.props.update_inputs_text({value:t.name,font_src:t.src},"font")}},p.a.createElement("span",{style:{fontFamily:t.name,fontSize:18}},t.name))})):p.a.createElement(p.a.Fragment,null,this.state.bkFonts.length>0&&p.a.createElement("hr",{style:{backgroundColor:"#bbbbbb",borderColor:"#bbbbbb",marginLeft:"10px",marginRight:"10px"}}),this.state.bkFonts.length>0&&p.a.createElement("p",{style:{fontWeight:"bold"}},"Brand Kit"),this.state.bkFonts.length>0&&this.state.bkFonts.map(function(t,a){return p.a.createElement("div",{key:a,className:"font_icon",style:{cursor:"pointer",height:"50px",textAlign:"left",paddingLeft:15,paddingTop:12.5},onClick:function(a){e.props.update_inputs_text({value:t.name,font_src:t.src,_id:t._id},"font")}},p.a.createElement("span",{style:{fontFamily:t.name,fontSize:18}},t.name))}),this.state.bkFonts.length>0&&p.a.createElement("hr",{style:{backgroundColor:"#bbbbbb",borderColor:"#bbbbbb",marginLeft:"10px",marginRight:"10px"}}),p.a.createElement(x.a,{dataLength:this.state.data?this.state.data.length:0,next:function(){return e.fetch_more_fonts(20)},hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 149px)"},this.state.data.map(function(t,a){return p.a.createElement("div",{key:a,className:"font_icon",style:{cursor:"pointer",height:"50px",textAlign:"left",paddingLeft:15,paddingTop:12.5},onClick:function(a){e.props.update_inputs_text({value:t.name,font_src:t.src,_id:t._id},"font")}},p.a.createElement("span",{style:{fontFamily:t.name,fontSize:18}},t.name))})))))}}]),a}(u.Component);t.a=Object(y.a)(Object(w.connect)(function(e){return{user:e.user}},function(e){return{fetch_teams:function(){return e(Object(v.c)())}}})(S))}).call(this,a(40))},411:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),i={height:"100vh",paddingTop:"40vh",backgroundImage:"url(".concat("https://designs.ai/videomaker/start/static/footer-bg.png",")"),backgroundSize:1300,backgroundRepeat:"no-repeat",backgroundPosition:"bottom center"};t.a=function(){return r.a.createElement("div",{class:"page-wrapper page-wrapper--main",style:i},r.a.createElement("main",null,r.a.createElement("div",{class:"mobile-message"},r.a.createElement("div",{class:"header__heading",alt:"videomaker"},r.a.createElement("div",null,r.a.createElement("div",{style:{width:"50vw",paddingRight:15,display:"inline-block",paddingLeft:15}},r.a.createElement("img",{style:{width:"100%"},src:e.config.website_url+"designmaker/start/icons/designs_ai_logo.png"})),r.a.createElement("div",{style:{display:"inline-block",width:"50vw",paddingRight:15}},r.a.createElement("img",{style:{width:"100%"},src:e.config.server_path+"public/images/logo_designmaker.png"})))),r.a.createElement("br",null),r.a.createElement("p",{class:"text-center"},"Designmaker is not supported on mobile devices. Please switch to desktop or tablet for the best experience."))))}}).call(this,a(40))},412:function(e,t,a){"use strict";var n=a(8),r=a(0),i=a.n(r),o=a(105),s=a(172),l=a(95),c=a(548),d=a(413);t.a=function(e){var t=e.link;try{var a=Object(r.useState)(!1),u=Object(n.a)(a,2),p=u[0],m=u[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,null,i.a.createElement(s.a,null,i.a.createElement(l.a,{type:"text",value:t}),i.a.createElement(s.a.Addon,null,i.a.createElement(d.CopyToClipboard,{text:t,onCopy:function(){return m(!0)}},i.a.createElement("span",{style:{cursor:"pointer"},className:"fa fa-copy"}))))),p?i.a.createElement(c.a,{bsStyle:"success",className:"text-center"},i.a.createElement("span",{className:"fa fa-2x fa-check"})," ",i.a.createElement("br",null),i.a.createElement("strong",null,"Link copied to clipboard")):"")}catch(g){return console.log("error in CopyLinkContainer --\x3e>",g),""}}},433:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r});var n=function(e){for(var t=document.fonts.entries(),a=t.next();a&&a.value;){for(var n in a.value)if(a.value[n].family==e)return!0;a=t.next()}return!1},r=function(t){console.log("adding fonts....");for(var a=0;a<t.length;a++)if(!n(t[a].name)){var r=new window.FontFace(t[a].name,"url("+e.config.server_path+t[a].src+")");window.document.fonts.add(r),r.load().catch(function(e){return console.log(e)})}}}).call(this,a(40))},515:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return o});var n=a(6),r=a.n(n),i=a(15);e.fetch_cache={};var o=function(){var t=Object(i.a)(r.a.mark(function t(a,n){var i,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=JSON.stringify(a)+JSON.stringify(n),!e.fetch_cache[i]){t.next=6;break}return t.abrupt("return",e.fetch_cache[i]);case 6:return t.next=8,fetch(a,n);case 8:return o=t.sent,t.next=11,o.json();case 11:return e.fetch_cache[i]=t.sent,t.abrupt("return",e.fetch_cache[i]);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(e,a){return t.apply(this,arguments)}}()}).call(this,a(40))},534:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});a(6),a(15);var n=function(e){var t={};return document.cookie.split(";").map(function(e){var a=(e=e.trim()).split("=");t[a[0]]=a[1]}),e?t[e]:t}}).call(this,a(40))},536:function(e,t,a){"use strict";(function(e){var n=a(79),r=a(6),i=a.n(r),o=a(15),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(129),m=a(0),g=a.n(m),_=a(304),h=a(20),f=a(29),b=a(1409),v=a(1410),y=a(105),w=a(95),E=a(252),x=a(702),k=a(339),O=a(185),S=a(161),C=a(124),j=a(83),N=(a(1166),a(407)),T=a(89),P=a.n(T),z=a(342),F=a(408),D=a.n(F),A=(a(303),function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(c.a)(this,Object(d.a)(a).call(this,t))).set_state=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.redirect_page=function(e){n.setState({redirect_url:e,redirect:!0})},n.assign_window_size=function(){window.innerWidth>991?n.set_state({is_desktop:!0,is_tablet:!1}):n.set_state({is_desktop:!1,is_tablet:!0})},n.gen_mockups=function(e){Object(x.a)(e._id,n.state.page_no,n.state.size).then(function(e){var t=n.state.mockups.map(function(e){return e._id}),a=e.filter(function(e){return!t.includes(e._id)});n.setState({mockups:n.state.mockups.concat(a),page_no:n.state.page_no+1})})},n.fetch_more_data=function(){n.gen_mockups(n.state.active_category)},n.modify_auto_crop_mockups=function(){var t=t={hue_values:[{h:63.82,s:1,l:.368,a:1},{h:198.21,s:1,l:.439,a:1},{h:298.6,s:1,l:.578,a:1}],user_images:[{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"},{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"},{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"},{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"},{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"},{src:e.config.static_file_server_path+"uploads/design_resources/design_thumbnails/5cf02984b4ebfd540878f6dd.jpg"}]};window.syncForEach(n.state.mockups,function(e,a,n){return window.cropAndGenerateMockup(e,t,"zoom").then(function(t){e.placeholders=[t];var r=n.state.mockups;return r[a]=e,console.log(n,r),n.set_state({mockups:r})}).catch(function(e){return Promise.reject(e)})},Object(p.a)(Object(p.a)(n))).then(function(){n.setState({mockups:n.state.mockups})}).catch(function(){n.setState({mockups:n.state.mockups})})},n.apply_category_filter=function(e){n.set_state({page_no:1,active_category:e,mockups:[]}).then(function(){return n.gen_mockups(e)})},n.crop_and_generate_preview=function(e,t,a,n){var r=r={hue_values:[],user_images:[{src:a}]},i=n.state.mockups;return e.show_loader_gif=!0,i[t]=e,n.set_state({mockups:i}).then(function(){return window.cropAndGenerateMockup(e,r,"zoom").then(function(a){e.placeholders=[a],e.show_loader_gif=!1;var r=n.state.mockups;return r[t]=e,console.log(n,r),n.set_state({mockups:r})}).catch(function(e){return Promise.reject(e)})})},n.generate_mockup_previews=function(e){window.syncForEach(n.state.mockups,n.crop_and_generate_preview,e,Object(p.a)(Object(p.a)(n)))},n.generate_mockup_previews_wrapper_file_upload=function(){window.fetchFileSrc("upload_image_input").then(function(e){n.generate_mockup_previews(e)})},n.generate_mockup_previews_wrapper_url_grab=function(){var e=window.document.getElementById("grab_url_input").value;n.grab_image_url_modal_close(),n.generate_mockup_previews(e)},n.grab_image_url_modal_close=function(){n.setState({show_grab_image_url_modal:!1})},n.show_grab_image_url_modal=function(){n.setState({show_grab_image_url_modal:!0})},n.fetch_search_results=function(t){var a=e.config.server_path+"mockups/_search?",r={from:0,size:100,query:{multi_match:{query:t,fields:["name","categories.name","keywords"],operator:"or",type:"best_fields"}}};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){return Promise.resolve(e.hits.hits.map(function(e){return e._id}))}).then(function(t){var a=e.config.server_path+"mockup/get/";return console.log(t),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})})}).then(function(e){return e.json()}).then(function(e){return n.setState({mockups:e.data})}).catch(function(e){return console.log(e)})},n.state={mockups:[],page_no:1,size:30,active_category:{_id:"all",name:"All mockups"},saved_designs:null,show_grab_image_url_modal:!1,redirect_page:!1,redirect_url:null,images_loaded:!1,is_desktop:!0,is_tablet:!1},window.apply_category_filter=n.apply_category_filter,n}return Object(u.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.fetch_categories().then(function(){e.gen_mockups({_id:"all",name:"All"})}),this.assign_window_size(),window.onresize=this.assign_window_size,window.modify_auto_crop_mockups=this.modify_auto_crop_mockups}},{key:"componentDidUpdate",value:function(e){this.props.search_value!=e.search_value&&this.fetch_search_results(this.props.search_value)}},{key:"generate_mockup_card",value:function(t){var a=[];return a=t.placeholders&&t.placeholders.length>0?t.placeholders.map(function(t){return t.indexOf("data:image")>-1||t.indexOf("http")>-1||t.indexOf("blob:")>-1?t:e.config.static_file_server_path+t}):[e.config.static_file_server_path+t.tracing_image_src],g.a.createElement("div",{style:{marginBottom:20,marginLeft:20,boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)"}},g.a.createElement(O.a,{style:{cursor:"pointer"},to:"/mockupmaker/start/mockups/"+t._id},g.a.createElement(N.a,{width:(this.state.is_tablet,230),images_loaded:this.state.images_loaded,mockup:t,images:Object(n.a)(a)})))}},{key:"generate_mockup_view",value:function(e){for(var t=[],a=e;a<(this.state.mockups?this.state.mockups.length:0);a+=3)if(this.state.mockups[a].active){var n=this.generate_mockup_card(this.state.mockups[a]);t.push(n)}return t}},{key:"category_list",value:function(){var e=this,t=[];return t.push(g.a.createElement(h.a,{key:"category-list-btn-213",className:" category_list_button",onClick:function(){e.set_state({page_no:1,active_category:{_id:"all",name:"All Mockups"},mockups:[]}).then(function(){return e.gen_mockups({_id:"all",name:"All Mockups"})})}},"All Mockups")),this.props.categories.filter(function(e){return e.mockup_length>0}).map(function(e,a){t.push(g.a.createElement(h.a,{key:"category_"+a+"_btn",className:" category_list_button",style:{cursor:"pointer"},onClick:function(){return window.apply_category_filter(e)}},e.name,g.a.createElement("span",{style:{float:"right"}},e.mockup_length)))}),t}},{key:"render",value:function(){var t=this,a=this.state,n=a.redirect,r=a.redirect_url;if(n)return g.a.createElement(S.a,{push:!0,to:r});var i=g.a.createElement(f.a,{show:this.state.show_grab_image_url_modal,onHide:this.grab_image_url_modal_close},g.a.createElement(f.a.Header,{closeButton:!0},g.a.createElement(f.a.Title,null,"Grab Screenshot from URL")),g.a.createElement(f.a.Body,{className:"text-center"},g.a.createElement("form",null,g.a.createElement(b.a,null,g.a.createElement(v.a,{xs:10},g.a.createElement(y.a,null,g.a.createElement(w.a,{id:"grab_url_input",type:"text",placeholder:"Enter Image Url"}))),g.a.createElement(v.a,{xs:2},g.a.createElement(h.a,{className:"btn-blue",type:"button",onClick:function(){return t.generate_mockup_previews_wrapper_url_grab()}},"Go")))))),o=g.a.createElement("div",{style:{width:"100%",display:"inline-block",marginBottom:20}},g.a.createElement(b.a,null,g.a.createElement("h4",{style:{marginTop:0,textAlign:"center"}}," Try out your image on all ",this.state.active_category.name)),g.a.createElement(b.a,{style:{textAlign:"center"}},g.a.createElement(E.a,null,g.a.createElement(h.a,{className:"btn-blue",style:{marginRight:"5px"},onClick:function(){return window.document.getElementById("upload_image_input").click()}},g.a.createElement("input",{id:"upload_image_input",class:"upload_image",style:{display:"none"},type:"file",onInput:function(){return t.generate_mockup_previews_wrapper_file_upload()}}),"Upload Image"),g.a.createElement(h.a,{className:"btn-blue",onClick:this.show_grab_image_url_modal},"Grab From Url")))),s=g.a.createElement("div",{id:"mockup_result_container",style:{width:"-webkit-fill-available",marginLeft:this.state.is_tablet?45:275}},g.a.createElement("div",{id:"mockup_container"},"all"!=this.state.active_category._id?o:"",g.a.createElement(P.a,{style:{minHeight:800,overflowY:"hidden"},dataLength:this.state.mockups?this.state.mockups.length:0,next:this.fetch_more_data,hasMore:!0,endMessage:g.a.createElement("h4",null,"No more results.")},g.a.createElement(D.a,{style:{height:"100%"},className:"mockup-results",elementType:"ul",options:{transitionDuration:100},updateOnEachImageLoad:!1},this.state.mockups&&this.state.mockups.length&&this.state.mockups.map(function(e){return t.generate_mockup_card(e)})))));return g.a.createElement("div",{style:{paddingTop:75}},i,g.a.createElement("div",{style:{marginTop:50,marginBottom:40,width:"100%"}},g.a.createElement("div",{style:{width:500,margin:"auto"}},g.a.createElement("div",{style:{textAlign:"center"}},g.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:"800",fontSize:36}},"Create amazing product",g.a.createElement("br",null)," mockups easily")),g.a.createElement("div",{style:{marginTop:20,paddingLeft:5,paddingRight:5}},g.a.createElement("div",{style:{background:"white",width:"100%"}},g.a.createElement(_.b,{app:"mockups",style:{position:"relative"},url:e.config.server_path},g.a.createElement(_.a,{componentId:"mainSearch",dataField:["name","categories.name","keywords","description"],queryFormat:"or",className:"mockup_search",innerClass:{input:"mockup_search_box",list:"suggestionlist"},placeholder:"All mockups",showIcon:!1,onValueSelected:function(e){t.fetch_search_results(e)},renderSuggestion:function(e){return console.log(e),{label:e.source.categories?g.a.createElement("div",null,g.a.createElement(b.a,null,e.source.name),g.a.createElement(b.a,null," ",g.a.createElement("span",{style:{color:"#2572CE",textAlign:"right"}}," in ",e.source.categories[0].name))):g.a.createElement("div",{style:{color:"#2572CE",textAlign:"right"}},e.source.name),value:e.source.name,source:e.source}}}),g.a.createElement("span",{style:{position:"absolute",right:7,fontSize:28,top:7,zIndex:100,color:"#F1F1F1"},className:"fas fa-search fa-2x"})))))),g.a.createElement("div",{style:{width:"100%",paddingLeft:45,paddingRight:43}},g.a.createElement("div",{style:{width:"100%",paddingBottom:20,display:"inline-block"}},g.a.createElement("span",{style:{float:"left",fontFamily:"Montserrat",fontSize:18,fontWeight:800}},"All Results")),g.a.createElement("div",{style:{width:"100%"}},this.state.is_desktop&&g.a.createElement("div",{style:{width:275,float:"left",position:"sticky",top:100,boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)"},id:"category_list_container"},g.a.createElement("ul",{className:"category_list"},g.a.createElement(E.a,{vertical:!0,block:!0},this.category_list()))),s)))}}]),a}(m.Component));t.a=Object(C.a)(Object(j.connect)(function(e){return{show_upload_mockup_modal:e.display_upload_mockup_modal,categories:e.categories,search_value:e.search_value}},function(e){return{fetch_categories:function(){return e(Object(k.a)())},show_upload_image_modal:function(){e(Object(z.c)())},hide_upload_image_modal:function(){e(Object(z.b)())}}})(A))}).call(this,a(40))},537:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(79),s=a(35),l=a(8),c=a(0),d=a.n(c),u=a(1409),p=a(185),m=a(124),g=(a(137),a(407)),_=a(83),h=a(409),f=a(134),b=a(113),v=a(117),y=a(343),w=(a(1219),v.a.feline_fetch),E=function(t){var a=t.recommendation_category;try{var n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],m=r[1],_=Object(c.useState)([]),h=Object(l.a)(_,2),b=h[0],v=h[1];return Object(c.useEffect)(function(){a&&a.mockups&&a.mockups.length&&(v(a.mockups),m(!0))},[a]),Object(y.a)(function(){b&&b.length&&v(b.map(function(t){var a;return a=t.placeholders&&t.placeholders.length?t.placeholders.map(function(t){return t.indexOf("data:image")>-1||t.indexOf("http")>-1||t.indexOf("blob:")>-1?t:e.config.static_file_server_path+t}):[e.config.static_file_server_path+t.tracing_image_src],Object(s.a)({},t,{images:a})}))},[b]),i?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{style:{marginTop:25,marginBottom:20}},d.a.createElement("span",{style:{fontSize:20,fontFamily:"Montserrat",fontWeight:800}},"Try your design on other mockups")),d.a.createElement(f.a,{id:"recommendation_slider",height:200},b&&b.length&&b.map(function(e,t){return d.a.createElement("div",{style:{marginRight:20,height:200,maxWidth:200,display:"inline-block"}},d.a.createElement(p.a,{style:{cursor:"pointer"},to:"/mockupmaker/start/mockups/"+e._id},d.a.createElement(g.a,{height:200,extra_styles:{height:"auto",maxHeight:200,minWidth:"100%",objectFit:"contain",boxShadow:"0 5px 20px 0 rgba(0,0,0,0.1)"},mockup:e,images:e.images?Object(o.a)(e.images):[]})))}))):""}catch(w){return console.log("error in Recommendations --\x3e ",w),""}},x=function(t){var a=t.saved_mockups;try{var n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],o=r[1];return Object(c.useEffect)(function(){a&&a.length&&o(!0)},[a]),i?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{style:{marginTop:20,marginBottom:20}},d.a.createElement("span",{style:{fontSize:20,fontFamily:"Montserrat",fontWeight:800}},"Your saved mockups")),d.a.createElement(f.a,{id:"saved_mockup_slider",height:200},a.map(function(t,a){return d.a.createElement(p.a,{style:{cursor:"pointer"},to:"/mockupmaker/start/saved_mockups/"+t._id},d.a.createElement(b.a,{key:"saved_mockup_box_"+a,on_click:function(){return console.log("hello")},idx:a,image_src:e.config.static_file_server_path+t.watermarked_output_src,name:t.mockup.name,image_style:{height:200},disable_overlay:!0}))}))):""}catch(s){return console.log("error in saved mockup panel --\x3e ",s),""}};t.a=Object(m.a)(function(e){var t=e.match;try{var a={width:"100%",paddingTop:40,backgroundColor:"white",paddingLeft:190,paddingRight:190},n={width:"100%",paddingTop:0,backgroundColor:"white",paddingLeft:190,paddingRight:190},o=Object(s.a)({},a,{paddingRight:10,paddingLeft:10}),p=Object(c.useState)(null),m=Object(l.a)(p,2),g=m[0],f=m[1],b=Object(c.useState)(null),v=Object(l.a)(b,2),k=v[0],O=v[1],S=Object(c.useState)(null),C=Object(l.a)(S,2),j=C[0],N=C[1],T=Object(c.useState)(null),P=Object(l.a)(T,2),z=P[0],F=P[1],D=Object(c.useState)([]),A=Object(l.a)(D,2),I=A[0],R=A[1],B=Object(c.useState)(null),M=Object(l.a)(B,2),L=(M[0],M[1]),W=Object(c.useState)(null),H=Object(l.a)(W,2),U=H[0],J=H[1],G=Object(c.useState)("desktop"),K=Object(l.a)(G,2),V=K[0],q=K[1],Y=Object(_.useSelector)(function(e){return e.user}),Q=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={id:t},e.next=5,w({url:"category/get_recommendations",body:a});case 5:n=e.sent,J(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={id:j},e.next=5,w({url:"mockup/get_one",body:t});case 5:a=e.sent,f(a),L(a.price),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={_id:z},e.next=5,w({url:"mockup/get_saved",body:t});case 5:a=e.sent,f(a.mockup),L(a.mockup.price),delete a.mockup,O(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({url:"mockup/get_all_saved",body:{}});case 3:t=e.sent,console.log("saved mockups ===>> ",t),R(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){window.innerWidth>991?q("desktop"):q("tablet")},te=function(){N(null),f(null),F(null),O(null),function(){try{t.params&&t.params.mockup_id&&N(t.params.mockup_id),t.params&&t.params.saved_mockup_id&&F(t.params.saved_mockup_id)}catch(e){console.log("error in url --\x3e ",e)}}(),ee(),window.onresize=ee};return Object(c.useEffect)(function(){te()},[]),Object(c.useEffect)(function(){console.log("hide_image_options_modalooo\xf8\xf8\xf8\xf8\xf8\xf8\xf8\xf8\xf8\xf8"),te()},[t]),Object(c.useEffect)(function(){j?$():z&&X()},[j,z]),Object(c.useEffect)(function(){g&&g.categories&&g.categories.length&&Q(g.categories[0])},[g]),Object(y.a)(function(){Y&&(console.log("user logged in ----\x3e ",Y),Z())},[Y]),d.a.createElement("div",{style:{paddingTop:75}},d.a.createElement("div",{id:"container",style:"desktop"==V?a:o},d.a.createElement(h.a,{mockup:g,saved_mockup:k,device_type:V,fetch_all_saved_mockups:Z,user:Y,is_dm:!1,apply_mockup_editor:function(){}})),d.a.createElement("div",{id:"recommended_mockup_container",style:"desktop"==V?n:o},d.a.createElement(E,{recommendation_category:U})),d.a.createElement("div",{id:"saved_mockup_container",style:"desktop"==V?n:o},d.a.createElement(x,{saved_mockups:I})),d.a.createElement(u.a,{style:{marginTop:20,marginBottom:20}}))}catch(ae){return""}})}).call(this,a(40))},538:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return s}),a.d(t,"b",function(){return l});var n=a(6),r=a.n(n),i=a(15),o=a(35),s=function(t,a,n){return function(r){var i=e.config.server_path+"order/add/",s={email:t,amount:a};return n&&(s=Object(o.a)({},s,{coupon_code:n})),fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then(function(e){return Promise.resolve(e.json())}).catch(function(e){return Promise.reject(e)})}},l=function(){var t=Object(i.a)(r.a.mark(function t(a,n){var i,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.config.server_path+"order/mockup/render/status",t.next=4,fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({orderId:a,skuIndex:n})});case 4:return o=t.sent,t.next=7,o.json();case 7:if(1!==(o=t.sent).response_code){t.next=12;break}return t.abrupt("return",o.data);case 12:return t.abrupt("return",Promise.reject("Failed to fetch data"));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(e,a){return t.apply(this,arguments)}}()}).call(this,a(40))},540:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(129),d=a(0),u=a.n(d),p=a(1409),m=a(1410),g=a(39),_=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(s.a)(a).call(this,t))).render_pages=function(){return"view"==n.props.role?n.create_design_doms_view():n.create_design_doms()},n.create_design_doms_view=function(){for(var e=n.props.pages,t=[],a=0;a<e;a++)r(a,Object(c.a)(Object(c.a)(n)));function r(e,a){t.push(u.a.createElement("center",{key:e},u.a.createElement("div",{id:"design_preview"+e,style:{paddingTop:"30px"}})))}return t},n.create_design_doms=function(){for(var t=n.props.pages,a=[],r=0;r<t;r++)i(r,Object(c.a)(Object(c.a)(n)),r==t-1);function i(n,r,i){a.push(u.a.createElement(p.a,{key:"design_preview_parent_key"+n,id:"design_preview_parent"+n,className:"editor_div",style:{paddingTop:"10px",backgroundColor:"#FFFFFF",marginBottom:i?"0px":"30px"}},u.a.createElement("div",{id:"design_preview"+n,style:{position:"relative"}},u.a.createElement(p.a,{style:{width:"100%",display:"block",margin:"auto",marginBottom:"5px"}},u.a.createElement(m.a,{className:"unselectable",xs:5,style:{textAlign:"left"}},"Page ",n+1),u.a.createElement(m.a,{className:"unselectable",xs:7,style:{position:"relative",zIndex:"1009",textAlign:"right"}},t>1&&u.a.createElement("i",{onClick:function(){return r.movePage(n,"up")},className:"fa fa-2x fa-caret-up",style:{color:0==n?"#cccccc":"#222222",height:"20px",verticalAlign:"middle",marginTop:"-20px",padding:5,cursor:"pointer"}}),t>1&&u.a.createElement("i",{onClick:function(){return r.movePage(n,"down")},className:"fa fa-2x fa-caret-down",style:{color:n==t-1?"#cccccc":"#222222",marginRight:"5px",height:"20px",verticalAlign:"middle",marginTop:"-20px",padding:5,cursor:"pointer"}}),u.a.createElement(g.a,{onClick:function(){return r.clonePage(n)},src:e.config.static_file_server_path+"uploads/icons/copy.svg",style:{marginRight:"10px",height:"20px",cursor:"pointer"}}),t>1&&u.a.createElement(g.a,{onClick:function(){return r.deletePage(n)},src:e.config.static_file_server_path+"uploads/icons/delete.svg",style:{height:"20px",cursor:"pointer"}}))))))}return a},n.clonePage=function(e){n.props.set_pages(n.props.pages+1).then(function(){for(var t=[],a=0;a<n.props.pages;a++)t.push(window.document.getElementById("design_preview"+a));window.design_editor.addNewPage(t,window.design_editor.design.pages[e]),window.document.getElementById("design_preview"+(n.props.pages-1))&&window.document.getElementById("design_preview"+(n.props.pages-1)).scrollIntoView({behavior:"smooth"})})},n.deletePage=function(e){window.design_editor.deletePage(window.design_editor.design.pages[e]),n.props.set_pages(n.props.pages-1).then(function(){window.document.getElementById("design_preview"+(n.props.pages-1))&&window.document.getElementById("design_preview"+(n.props.pages-1)).scrollIntoView({behavior:"smooth"})})},n.movePage=function(e,t){window.design_editor.movePage(e,t);for(var a=[],r=0;r<n.props.pages;r++)a.push(window.document.getElementById("design_preview"+r));window.design_editor.updateDoms(a),"up"==t?window.document.getElementById("design_preview"+(e-1))&&window.document.getElementById("design_preview"+(e-1)).scrollIntoView({behavior:"smooth"}):"down"==t&&window.document.getElementById("design_preview"+(e+1))&&window.document.getElementById("design_preview"+(e+1)).scrollIntoView({behavior:"smooth"})},n.state={},n}return Object(l.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){if(0==e.pages&&0!=this.props.pages){for(var a=[],r=0;r<this.props.pages;r++)a.push(window.document.getElementById("design_preview"+r));var i,o=new URLSearchParams(window.location.search).get("category");i=this.props.thumbnail?Object(n.a)({},this.props.design_file,{thumbnail:this.props.thumbnail}):this.props.design_file;var s=!1;"view"==this.props.role&&(s=!0),window.design_editor=new window.DM_Editor(i,"view"!=this.props.role?this.props.design_save_id:void 0,a,document.getElementById("design_doms_parent"),s),window.design_editor.design.category_id||(window.design_editor.design.category_id=o),this.props.setDesignLoaded(),i.category_id!=o&&this.props.set_default_category(i.category_id)}else if(e.pages!=this.props.pages){for(a=[],r=0;r<this.props.pages;r++)a.push(window.document.getElementById("design_preview"+r));window.design_editor.updateDoms(a)}}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.pages!=this.props.pages,n=this.props.view_display_srcs.length!=e.view_display_srcs.length,r=this.props.design_save_id!=e.design_save_id,i=null==this.props.design_file&&null!=e.design_file;return!!(a||n||r||i)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.render_pages())}}]),a}(u.a.Component);t.a=_}).call(this,a(40))},543:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var n=function(t){var a=t.original_save_id,n=t.designs,r=t.folderId,i=e.config.server_path+"saved_design/bulk_save";return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({original_save_id:a,folderId:r,designs:n})})},r=function(t){var a=t.image,n=t.folderId,r=new FormData;r.append("file",a,a.name),r.append("folder_id",n);var i=e.config.server_path+"folder/upload_file";return fetch(i,{method:"POST",credentials:"include",body:r})}}).call(this,a(40))},544:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(269),i=a(9),o=a(6),s=a.n(o),l=a(15),c=a(30),d=a(31),u=a(33),p=a(32),m=a(34),g=a(0),_=a.n(g),h=a(313),f=a(20),b=a(1409),v=a(101),y=a(29),w=a(105),E=a(95),x=a(169),k=a(1410),O=a(83),S=a(161),C=a(124),j=a(115),N=a(69),T=a(104),P=a(266),z=a.n(P),F=a(267),D=a.n(F),A=(a(631),a(195)),I=a(113),R=a(194),B=(a(1333),a(137)),M=a(150),L=a(151),W=a(750),H=function(e){var t=e.folder_name,a=e.folder_id,n=e.role,r=e.on_click_fn,i=e.folder_context_menu;return _.a.createElement("div",{key:a,className:"folder_icon",style:{width:"275px",height:"72px",cursor:"pointer",padding:"10px"},onClick:function(){return r("folders/"+a+"/"+n)}},"edit"===n&&i?_.a.createElement(A.a,{contextMenuName:"folder-context-menu",contextMenuOptions:i}):"",_.a.createElement("img",{style:{paddingRight:"10px"},src:"https://img.icons8.com/cotton/64/000000/folder-invoices--v1.png"}),_.a.createElement("span",{style:{fontSize:"1.4rem",fontWeight:"500"}},t?t.length<25?t:t.substring(0,22)+"...":""))},U=function(e){var t=e.on_click_fn;return _.a.createElement("div",{className:"folder_icon",style:{width:"275px",height:"72px",cursor:"pointer",padding:"10px"},onClick:t},_.a.createElement("img",{style:{paddingRight:"10px"},src:"https://img.icons8.com/cotton/64/000000/folder-invoices--v1.png"}),_.a.createElement("span",{style:{fontSize:"1.5rem",fontWeight:"500"}},"My Designs"))},J=_.a.createElement("center",{style:{fontSize:"5rem",fontWeight:"700",marginTop:"calc(40%)"}},"Oops the resource does not exist."),G=function(t){function a(t){var o,d=this;return Object(c.a)(this,a),(o=Object(u.a)(this,Object(p.a)(a).call(this,t))).set_state=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return o.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.hideDownloadAllDesignsModal=function(){o.setState({displayDownloadAllDesignsModal:!1})},o.handle_share_emails=function(e){o.setState({share_emails:e,last_email:""})},o.handle_last_email=function(e){o.setState({last_email:e})},o.update_inputs=function(e){o.setState(Object(i.a)({},e.target.name,e.target.value))},o.update_inputs_enter=function(e){""!==o.state.folder_name&&o.create_new_folder(e)},o.toggle_overlay=function(){"none"===window.document.getElementById("popover_overlay_share").style.display?window.document.getElementById("popover_overlay_share").style.display="block":window.document.getElementById("popover_overlay_share").style.display="none"},o.send_invites=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o.state.share_emails;if(o.state.last_email&&n.push(o.state.last_email),n.length>0&&o.state.share_role){var r=e.config.server_path+"folder/share",i={host_email:o.props.user.email,emails:n,folder_id:t,role:o.state.share_role};fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}).then(function(e){N.toastr.success("Shared folder successfully!")}).catch(function(e){N.toastr.error("Failed to share folder.")}),a&&window.document.getElementById("overlay_button_share").click()}},o.isProtectedFolder=function(e){return o.state.protectedFolders.includes(e)},o.generate_folder_buttons=function(e){var t=e.type;e.has_context_menu;return o.state.folders.filter(function(e){return e.folder.type===t}).map(function(e,t){if("shared"===e.ownership)return _.a.createElement(H,{folder_name:e.folder.name,folder_id:e.folder._id,role:e.role,on_click_fn:o.redirect_page});if(e.folder._id===o.props.user.my_designs_folder)return _.a.createElement(U,{on_click_fn:function(){return o.redirect_page("/designmaker/start/all-designs")}});if(o.isProtectedFolder(e.folder._id)){if(e.folder._id===o.props.user.my_photos_folder){var a=[{name:"Share",action:function(t){t.stopPropagation(),o.setState({selected_folder:e.folder._id,display_share_folder_modal:!0})}}];return _.a.createElement(H,{folder_name:e.folder.name,folder_id:e.folder._id,role:e.role,on_click_fn:o.redirect_page,folder_context_menu:a})}return _.a.createElement(H,{folder_name:e.folder.name,folder_id:e.folder._id,role:e.role,on_click_fn:o.redirect_page})}var n=[{name:"Share",action:function(t){t.stopPropagation(),o.setState({selected_folder:e.folder._id,display_share_folder_modal:!0})}},{name:"Rename",action:function(t){t.stopPropagation(),o.setState({selected_folder:e.folder._id,display_rename_folder_modal:!0})}},{name:"Delete",action:function(t){t.stopPropagation(),o.setState({display_delete_folder_modal:!0,selected_folder:e.folder._id})}}];return _.a.createElement(H,{folder_name:e.folder.name,folder_id:e.folder._id,role:e.role,on_click_fn:o.redirect_page,folder_context_menu:n})})},o.redirect_page=function(e){o.setState({redirect_url:e,redirect:!0})},o.design_folder_on_click_handler=function(e){console.log("triggered",e),o.redirect_page("/designmaker/start/designs/"+e._id+"/"+e.role)},o.create_new_folder=function(t){var a=e.config.server_path+"folder/create";fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_name:o.state.folder_name,folder_type:t})}).then(function(e){return o.setState({display_create_folder_modal:!1,display_create_design_folder_modal:!1})}).then(function(){return Object(j.c)()}).then(function(e){return e.json()}).then(function(e){o.setState({folders:e.data})}).catch(function(e){N.toastr.error("Something went wrong :/"),console.error("Error fetching folders: ",e)})},o.file_upload_handler=function(e){o.setState({selectedFiles:e.target.files,loaded:0},function(){o.state.selectedFiles&&o.state.selectedFiles.length>0&&o.onClickHandler()})},o.onClickHandler=function(){var t=new FormData;o.state.selectedFiles.forEach(function(e){t.append("file",e,e.name)}),t.append("folder_id",o.props.match.params.folder_id);var a=e.config.server_path+"folder/upload_multiple_files";fetch(a,{method:"POST",credentials:"include",body:t}).then(function(){o.setState({selectedFiles:[]}),Object(j.c)().then(function(e){return e.json()}).then(function(e){o.setState({folders:e.data})}).catch(function(e){console.log("Error fetching folders")})}).then(function(){return N.toastr.success("Files uploaded")})},o.generate_thumbnails_context_menu=function(e){var t=null;e._id?t=e._id:e.src&&(t=e.src);var a=[{name:"Remove from folder",action:function(e){o.delete_folder_resource(t)}}];return _.a.createElement(A.a,{contextMenuName:"your-designs-context-menu",contextMenuOptions:a})},o.generateDesignThumbnailsContextMenu=function(e){var t=null;e._id?t=e._id:e.src&&(t=e.src);var a=[{name:"Move to Folder",action:function(t){o.setState({displayFolderModal:!0,activeDesign:e._id})}},{name:"Remove from folder",action:function(e){o.delete_folder_resource(t)}},{name:"Share",action:function(e){e.stopPropagation(),o.setState({show_share_modal:!0,activeDesign:t})}}];return _.a.createElement(A.a,{contextMenuName:"your-designs-context-menu",contextMenuOptions:a})},o.delete_folder_resource=function(e){Object(j.b)(o.props.match.params.folder_id,e).then(function(){return Object(j.c)()}).then(function(e){return e.json()}).then(function(e){o.setState({folders:e.data})}).catch(function(e){console.error("Error fetching folders",e)})},o.FolderView=function(){if(o.state.folders&&o.props.match.params.folder_id){var t=[{value:"view",label:"Can View"},{value:"edit",label:"Can Edit"}],a=[],s=o.props.match.params.folder_id,l=o.state.folders.filter(function(e){return e.folder._id===s});if(!l.length)return _.a.createElement("center",{style:{fontSize:"5rem",fontWeight:"700",marginTop:"calc(40%)"}});var c=(l=l[0]).folder,d=_.a.createElement(h.a,{id:"share_popover",className:"share_popover"},_.a.createElement("div",null,_.a.createElement(D.a,{renderInput:function(e){var t=e.addTag,i=Object(r.a)(e,["addTag"]),o=i.value&&i.value.trim().toLowerCase()||"",s=o.length,l=a.filter(function(e){return e.name.toLowerCase().slice(0,s)===o});return _.a.createElement(z.a,{ref:i.ref,suggestions:l,shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return _.a.createElement("span",null,e.name)},inputProps:Object(n.a)({},i,{onChange:function(e,t){t.newValue,"enter"===t.method?e.preventDefault():i.onChange(e)}}),onSuggestionSelected:function(e,a){var n=a.suggestion;t(n.name)},onSuggestionsClearRequested:function(){},onSuggestionsFetchRequested:function(){}})},value:o.state.share_emails,inputValue:o.state.last_email,inputProps:{placeholder:"Type one or more emails"},onChange:o.handle_share_emails,onChangeInput:o.handle_last_email}),_.a.createElement(T.b,{options:t,defaultValue:t[0],onChange:function(e){o.setState({share_role:e.value})}}),_.a.createElement(f.a,Object(i.a)({type:"button",onClick:function(){o.send_invites(s)},className:"popover-button-custom",style:{width:"100%"}},"type","submit"),"Send Invites")));if("design"===c.type||"photo"===c.type){var u=[];return u="design"===c.type&&o.props.saved_designs?c.resources.map(function(e){return{src:"uploads/design_resources/design_thumbnails/"+e.path+".jpg",_id:e.path,role:l.role}}):c.resources.map(function(e){return{src:e.path,low_src:e.low_path}}),_.a.createElement("div",null,_.a.createElement("div",{style:{paddingTop:"30px"}},_.a.createElement(b.a,{style:{cursor:"pointer"},onClick:function(){return o.redirect_page("/designmaker/start/folders")}},_.a.createElement("span",{style:{color:"grey",fontWeight:"bold"},className:"fa fa-arrow-left"}),_.a.createElement("span",{style:{marginLeft:5}}," Back")),_.a.createElement("span",{style:{fontSize:"2.8rem",fontWeight:"700"}},c.name),_.a.createElement("span",null,"owned"!==l.ownership||o.isProtectedFolder(c._id)?null:_.a.createElement(v.a,{trigger:"click",placement:"bottom",overlay:d},_.a.createElement(f.a,{id:"overlay_button_share",className:"btn-orange",style:{marginRight:"5px",float:"right"},onClick:o.toggle_overlay},"Share")),_.a.createElement(f.a,{style:{float:"right",marginRight:5},className:"btn btn-orange",onClick:function(){return o.setState({displayDownloadAllDesignsModal:!0})}},_.a.createElement("span",{className:"fa fa-download"})),"photo"===c.type&&"edit"===o.props.match.params.role?_.a.createElement(f.a,{className:"btn-orange",style:{marginRight:"5px",float:"right"},onClick:function(){window.document.getElementById("upload_file").click()}},"Upload"):"","photo"===c.type&&"edit"===o.props.match.params.role?_.a.createElement("input",{id:"upload_file",style:{float:"right",display:"none"},type:"file",name:"file",onChange:o.file_upload_handler,multiple:!0,accept:".png, .jpg, .jpeg"}):"")),u.map(function(t,a){return _.a.createElement(I.a,{key:"folder-resource-"+t._id,idx:a,image_src:e.config.static_file_server_path+t.src,disable_overlay:!0,image_style:{maxWidth:148,maxHeight:173,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},context_menu:"owned"===l.ownership?"photo"===c.type?o.generate_thumbnails_context_menu(t):o.generateDesignThumbnailsContextMenu(t):"",on_click:function(){"design"===c.type&&o.design_folder_on_click_handler(t)},skeleton:!0,skeleton_width:160,skeleton_height:185,boxed_view:!0,max_container_height:185})}))}}},o.FolderHomeView=function(){return _.a.createElement("div",null,_.a.createElement("div",{style:{fontSize:"3.2rem",fontWeight:"700",marginTop:50,marginBottom:25}},"Folders"),_.a.createElement("div",null,_.a.createElement("span",{style:{fontSize:"2.4rem",fontWeight:"700"}},"Photo Folders"),_.a.createElement(f.a,{style:{float:"right",marginRight:"15px",background:"none",border:"none"},onClick:function(){o.setState({display_create_folder_modal:!0})}},"+ Create new")),_.a.createElement("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"flex",flexFlow:"wrap"}},o.state.folders?_.a.createElement(d.generate_folder_buttons,{type:"photo"}):null),_.a.createElement("div",{style:{marginTop:50}},_.a.createElement("span",{style:{fontSize:"2.4rem",fontWeight:"700"}},"Design Folders"),_.a.createElement(f.a,{style:{float:"right",marginRight:"15px",background:"none",border:"none"},onClick:function(){o.setState({display_create_design_folder_modal:!0})}},"+ Create new")),_.a.createElement("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"flex",flexFlow:"wrap"}},o.state.folders?_.a.createElement(d.generate_folder_buttons,{type:"design"}):null))},o.CreateFolderModal=function(){return _.a.createElement(y.a,{show:o.state.display_create_folder_modal,onHide:function(){return o.setState({display_create_folder_modal:!1})}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Create a photo folder")),_.a.createElement(y.a.Body,null,_.a.createElement("span",null,"Folder name"),_.a.createElement(w.a,{controlId:"formHorizontalName",style:{marginTop:10}},_.a.createElement(E.a,{required:!0,value:o.state.folder_name?o.state.folder_name:"",type:"text",onKeyDown:function(e){"Enter"===e.key&&o.update_inputs_enter("photo")},onChange:function(e){return o.update_inputs(e)},name:"folder_name",placeholder:"Folder name"}))),_.a.createElement(y.a.Footer,null,_.a.createElement(f.a,{type:"button",onClick:function(){return o.create_new_folder("photo")},className:"btn-orange",style:{fontFamily:"Montserrat"}},"Create folder")))},o.CreateDesignFolderModal=function(){return _.a.createElement(y.a,{show:o.state.display_create_design_folder_modal,onHide:function(){return o.setState({display_create_design_folder_modal:!1})}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Create a design folder")),_.a.createElement(y.a.Body,null,_.a.createElement("span",null,"Folder name"),_.a.createElement(w.a,{controlId:"formHorizontalName",style:{marginTop:10}},_.a.createElement(E.a,{required:!0,value:o.state.folder_name?o.state.folder_name:"",type:"text",onKeyDown:function(e){"Enter"===e.key&&o.update_inputs_enter("design")},onChange:function(e){o.update_inputs(e)},name:"folder_name",placeholder:"Folder name"}))),_.a.createElement(y.a.Footer,null,_.a.createElement(f.a,{type:"button",style:{fontFamily:"Montserrat"},onClick:function(){o.create_new_folder("design")},className:"btn-orange"},"Create folder")))},o.RenameFolderModal=function(){return _.a.createElement(y.a,{show:o.state.display_rename_folder_modal,onHide:function(){return o.setState({display_rename_folder_modal:!1})}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Rename folder")),_.a.createElement(x.a,{horizontal:!0,onSubmit:function(e){e.preventDefault(),Object(j.d)(o.state.selected_folder,o.state.folder_name).then(function(){return o.set_state({display_rename_folder_modal:!1})}).then(function(){return Object(j.c)()}).then(function(e){return e.json()}).then(function(e){o.setState({folders:e.data})}).catch(function(e){return console.log(e)})}},_.a.createElement(y.a.Body,null,_.a.createElement("span",null,"Folder name"),_.a.createElement(w.a,{controlId:"formHorizontalName"},_.a.createElement(k.a,Object(i.a)({style:{marginTop:"10px"},sm:12},"style",{fontFamily:"Montserrat"}),_.a.createElement(E.a,{required:!0,value:o.state.folder_name?o.state.folder_name:"",type:"text",onChange:function(e){return o.update_inputs(e)},name:"folder_name",placeholder:"Folder name"})))),_.a.createElement(y.a.Footer,null,_.a.createElement(f.a,{type:"submit",className:"btn-orange",style:{fontFamily:"Montserrat"}},"Rename folder"))))},o.DeleteFolderModal=function(){return _.a.createElement(y.a,{show:o.state.display_delete_folder_modal,onHide:function(){return o.setState({display_delete_folder_modal:!1})}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Delete folder")),_.a.createElement(x.a,{horizontal:!0,onSubmit:function(e){e.preventDefault(),Object(j.a)(o.state.selected_folder).then(function(){return o.set_state({display_delete_folder_modal:!1})}).then(function(){return Object(j.c)()}).then(function(e){return e.json()}).then(function(e){o.setState({folders:e.data})}).catch(function(e){return console.log(e)})}},_.a.createElement(y.a.Body,null,_.a.createElement("span",{style:{fontFamily:"Montserrat"}},"Are you sure you want to delete this folder? ")),_.a.createElement(y.a.Footer,null,_.a.createElement(f.a,{className:"btn-orange-inverse",onClick:function(){return o.setState({display_delete_folder_modal:!1})}},"No"),_.a.createElement(f.a,{type:"submit",className:"btn-orange-inverse",style:{fontFamily:"Montserrat"}},"Yes"))))},o.state={redirect:!1,redirect_url:null,selectedFiles:[],loaded:0,display_create_folder_modal:!1,display_create_design_folder_modal:!1,share_emails:[],share_role:"view",last_email:"",folder_permissions:"edit",error_page:!1,folders:[],protectedFolders:[],display_rename_folder_modal:!1,display_delete_folder_modal:!1,display_share_folder_modal:!1,selected_folder:null,activeDesign:null,displayDownloadAllDesignsModal:!1,show_share_modal:!1},o}return Object(m.a)(a,t),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(j.c)().then(function(e){return e.json()}).then(function(t){var a=[];e.props.user&&e.props.user.my_photos_folder&&a.push(e.props.user.my_photos_folder),e.props.user&&e.props.user.my_designs_folder&&a.push(e.props.user.my_designs_folder),e.props.user&&e.props.user.my_purchases_folder&&a.push(e.props.user.my_purchases_folder),e.setState({folders:t.data,protectedFolders:a})}).catch(function(e){N.toastr.error("Something went wrong :/"),console.error("Error fetching folders: ",e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,o=t.redirect_url;if(a)return _.a.createElement(S.a,{push:!0,to:o});var s=[{value:"view",label:"Can View"},{value:"edit",label:"Can Edit"}],l=[];var c=_.a.createElement(y.a,{show:this.state.display_share_folder_modal,onHide:function(){return e.setState({display_share_folder_modal:!1})}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Share folder")),_.a.createElement(y.a.Body,null,_.a.createElement("div",null,_.a.createElement(D.a,{renderInput:function(e){var t=e.addTag,a=Object(r.a)(e,["addTag"]),i=a.value&&a.value.trim().toLowerCase()||"",o=i.length,s=l.filter(function(e){return e.name.toLowerCase().slice(0,o)===i});return _.a.createElement(z.a,{ref:a.ref,suggestions:s,shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return _.a.createElement("span",null,e.name)},inputProps:Object(n.a)({},a,{onChange:function(e,t){t.newValue,"enter"===t.method?e.preventDefault():a.onChange(e)}}),onSuggestionSelected:function(e,a){var n=a.suggestion;t(n.name)},onSuggestionsClearRequested:function(){},onSuggestionsFetchRequested:function(){}})},value:this.state.share_emails,inputValue:this.state.last_email,inputProps:{placeholder:"Type one or more emails"},onChange:this.handle_share_emails,onChangeInput:this.handle_last_email}),_.a.createElement(T.b,{options:s,defaultValue:s[0],onChange:function(t){e.setState({share_role:t.value})}}),_.a.createElement(f.a,Object(i.a)({type:"button",onClick:function(){e.send_invites(e.state.selected_folder,!1),e.setState({display_share_folder_modal:!1})},className:"popover-button-custom",style:{width:"100%"}},"type","submit"),"Send Invites"))));return this.state.error_page?J:_.a.createElement("div",null,_.a.createElement("div",{id:"popover_overlay_share",style:{top:0,left:0,position:"fixed",zIndex:"1000",height:"100%",width:"100%",display:"none"},onClick:function(){return document.getElementById("overlay_button_share").click()}}),c,_.a.createElement(M.a,{show:this.state.displayFolderModal,onHide:function(){return e.setState({displayFolderModal:!1,activeDesign:null})},folders:this.state.folders,omitFolders:this.props.user?[this.props.user.my_designs_folder]:[],activeDesign:this.state.activeDesign?this.state.activeDesign:this.state.selectedDesigns,refreshFolders:function(){return Object(j.c)().then(function(e){return e.json()}).then(function(t){return e.setState({folders:t.data})}).catch(function(){return N.toastr.error("Something went wrong")})}}),_.a.createElement(L.a,{show:this.state.displayDeleteDesignModal,onHide:function(){return e.setState({displayDeleteDesignModal:!1,activeDesign:null})},deleteOnClick:this.deleteDesigns}),_.a.createElement(W.a,{show:this.state.displayDownloadAllDesignsModal,onHide:this.hideDownloadAllDesignsModal,folders:this.state.folders,currFolder:this.props.match.params.folder_id}),_.a.createElement(R.a,{show_share_modal:this.state.show_share_modal,hide_share_modal:function(){return e.setState({show_share_modal:!1,activeDesign:null})},design_id:this.state.activeDesign,is_saved_design:!0}),_.a.createElement(this.CreateFolderModal,null),_.a.createElement(this.CreateDesignFolderModal,null),_.a.createElement(this.RenameFolderModal,null),_.a.createElement(this.DeleteFolderModal,null),this.props.match.params.folder_id?_.a.createElement(this.FolderView,null):_.a.createElement(this.FolderHomeView,null))}}]),a}(g.Component);t.a=Object(C.a)(Object(O.connect)(function(e){return{user:e.user}},function(e){return{fetch_owned_designs:function(){return e(Object(B.e)())}}})(G))}).call(this,a(40))},619:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=function(){var t=Object(i.a)(r.a.mark(function t(a){var n,i,o,s,l,c,d,u,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.url,i=a.full_url,o=a.method,s=a.headers,l=a.body,c=a.is_form_data,d=a.credentials,t.prev=1,n=i||e.config.server_path+n){t.next=5;break}throw"invalid url provided";case 5:return o||(o="POST"),c||(s||(s={"Content-Type":"application/json"}),l&&(l=JSON.stringify(l))),d||(d="include"),u={method:o,headers:s,credentials:d,body:l},t.next=11,fetch(n,u);case 11:return p=t.sent,t.next=14,p.json();case 14:if(1!=(p=t.sent).response_code){t.next=19;break}return t.abrupt("return",p.data);case 19:throw new Error("Server call failed with error --"+p.error);case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(1),t.abrupt("return",Promise.reject({err:t.t0,info:"Error in feline_fetch"}));case 25:case"end":return t.stop()}},t,this,[[1,22]])}));return function(e){return t.apply(this,arguments)}}();t.a={feline_fetch:o}}).call(this,a(40))},672:function(e,t,a){"use strict";(function(e){a(0),a(185),a(256),a(312),a(122),a(233),a(39),a(203),a(20)}).call(this,a(40))},687:function(e,t,a){},689:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(690),g=a(83),_=a(124),h=a(229),f=a(534),b=a(248),v=a(69),y=a(701),w=a.n(y),E=function(t){function a(t){var n;if(Object(o.a)(this,a),window.localStorage.getItem("last_url")){var s=window.localStorage.getItem("last_url");window.localStorage.removeItem("last_url"),window.location.href=s}return(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).initialize_gtm=function(){n.set_state({gtm_initialized:!0});var t=n.props.user?n.props.user.email:"";n.state.gtm_user_id!=t&&(w.a.initialize({gtmId:e.config.gtm_id,dataLayer:t||{}}),n.set_state({gtm_user_id:t}))},n.set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.validateAuth=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.state.isValidating||n.setState({isValidating:!0},function(){Object(f.a)("daitkn")!==n.state.tokenCache?n.props.fetch_user_details():n.setState({isValidating:!1})});case 1:case"end":return e.stop()}},e,this)})),n.unsaved_design_management=Object(i.a)(r.a.mark(function t(){var a,i,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.localStorage.getItem("unsaved_design_id")||!n.props.user){t.next=9;break}return a=window.localStorage.getItem("unsaved_design_id"),window.localStorage.removeItem("unsaved_design_id"),i=e.config.server_path+"saved_design/claim",t.next=6,fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_id:a})});case 6:return o=t.sent,t.next=9,o.json();case 9:return t.abrupt("return",1);case 10:case"end":return t.stop()}},t,this)})),n.state={tokenCache:null,isValidating:!1,gtm_initialized:!1,gtm_user_id:null},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.state.isValidating||this.state.gtm_initialized||this.initialize_gtm(),this.props.user!==e.user){var r=Object(f.a)("daitkn");this.unsaved_design_management().then(function(){n.setState({tokenCache:r,isValidating:!1})}).catch(function(){return v.toastr.error("Something went wrong :/")}),this.initialize_gtm()}}},{key:"componentDidMount",value:function(){var e=this;this.setState({isValidating:!0},function(){e.props.fetch_user_details()}),window.setInterval(this.validateAuth,2500)}},{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(b.a,{style:{width:"30%",height:"30%",position:"absolute",left:"35%",top:"35%"},show_loader:-1===this.props.user}),-1!==this.props.user?p.a.createElement("div",{style:{fontFamily:"Montserrat"}},p.a.createElement(m.a,null),p.a.createElement("div",{className:"main_container"},this.props.children)):"")}}]),a}(u.Component);t.a=Object(_.a)(Object(g.connect)(function(e){return{user:e.user}},function(e){return{fetch_user_details:function(){return e(Object(h.a)())}}})(E))}).call(this,a(40))},690:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(20),u=a(273),p=a(110),m=a(39),g=a(256),_=a(312),h=a(122),f=a(1409),b=a(83),v=a(339),y=a(161),w=a(185),E=a(124),x=a(395),k=a(229),O=a(304),S=a(69),C=a(692),j=a(303),N=(a(880),function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).redirect_page=function(e){r.setState({redirect_url:e,redirect:!0})},r.logout=function(){r.props.logout().then(function(){r.props.fetch_user_details(),S.toastr.success("You have been Logged Out")})},r.inmagine_login=function(){window.localStorage.setItem("last_url",window.location.href),window.location.href=e.config.designs_ai_server_path+"user/sign-in?c="+e.config.mm_client_id+"&r="+e.config.auth_redirect_path_mm},r.inmagine_logout=function(){window.localStorage.setItem("last_url",window.location.href),fetch(e.config.server_path+"user/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(t){window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.mm_client_id+"&r="+e.config.auth_redirect_path_mm}).catch(function(t){console.error(t),window.location.href=e.config.designs_ai_server_path+"user/sign-out?c="+e.config.mm_client_id+"&r="+e.config.auth_redirect_path_mm})},r.handle_scroll=function(){window.scrollY>212?r.setState({enable_navbar_search:!0}):r.setState({enable_navbar_search:!1})},r.open_sidebar=function(e){r.setState({sidebar_open:e})},r.state={_show_navbar:!0,enable_navbar_search:!1,redirect:!1,redirect_url:null,sidebar_open:!1,show_cats:!1},r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;function t(e){var t=window.location.pathname.split("/");t.length>=2&&"designmaker"==t[1]?e.setState({_show_navbar:!1}):e.setState({_show_navbar:!0}),t.length<=3&&"mockups"==t[1]&&!t[2]?e.setState({show_cats:!0}):e.setState({show_cats:!1})}window.addEventListener("scroll",this.handle_scroll),this.props.history.listen(function(a,n){t(e)}),t(this)}},{key:"render",value:function(){var t=this,a=this.state,n=a.redirect,r=a.redirect_url;if(n)return c.a.createElement(y.a,{push:!0,to:r});var i=function(e){var t=e.children;return Object(j.useMediaQuery)({minWidth:992})?t:null},o={brand:{paddingLeft:31,color:"#2572CE",fontSize:26,fontWeight:"800",fontFamily:"Montserrat"},navbar:{boxShadow:"0 2px 16px 0 rgba(177,177,177,0.5)",color:"white",fontFamily:"Montserrat",position:"fixed",width:"100%",zIndex:120},brand_subscript:{color:"#333333",fontSize:14,float:"right"},profile_button:{backgroundColor:"white",color:"#333333",fontSize:14},navbar_item:{marginTop:6}},s=c.a.createElement(i,null,c.a.createElement(d.a,{onClick:this.inmagine_login,className:"btn btn-blue btn-login",id:"login_button"},"Sign in")),l=c.a.createElement(d.a,{onClick:this.inmagine_login,className:"btn btn-blue btn-login",id:"login_button"},"Sign in"),b=c.a.createElement(u.a,null,c.a.createElement(p.a,null,this.props.user&&this.props.user.email?c.a.createElement("div",{className:"dropdown"},c.a.createElement("div",{className:"btn",style:o.profile_button,type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},c.a.createElement(m.a,{src:"https://image.flaticon.com/icons/svg/206/206853.svg",className:"circle",style:{position:"absolute",left:"-40px",bottom:0,height:40}}),this.props.user.name," \xa0",c.a.createElement("span",{className:"fa fa-caret-down"})),c.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},c.a.createElement("li",null,c.a.createElement("a",{onClick:function(){return t.redirect_page("/orders")}},"Your Orders")),c.a.createElement("li",{role:"separator",className:"divider"}),c.a.createElement("li",null,c.a.createElement("a",{onClick:this.inmagine_logout},"Logout")))):l),this.state.show_cats&&this.props.categories&&this.props.categories.filter(function(e){return e.mockup_length>0}).map(function(e,t){return c.a.createElement(p.a,null,c.a.createElement(d.a,{key:"category_"+t+"_btn",className:" category_list_button",style:{cursor:"pointer",width:"100%"},onClick:function(){return window.apply_category_filter(e)}},e.name,c.a.createElement("span",{style:{float:"right"}},e.mockup_length)))})),v=c.a.createElement(C.a,{children:[],sidebar:b,open:this.state.sidebar_open,onSetOpen:this.open_sidebar,styles:{sidebar:{background:"white",zIndex:200,position:"fixed",height:"webkit-fill-available"}}}),E=c.a.createElement("div",null,c.a.createElement(g.a,{collapseOnSelect:!0,className:"sticky-top",style:o.navbar},c.a.createElement(g.a.Brand,null,c.a.createElement(w.a,{to:"/mockupmaker/start"},c.a.createElement("span",{style:o.brand},"Mockupmaker",c.a.createElement("br",null),c.a.createElement("span",{style:o.brand_subscript},c.a.createElement("span",{className:"superscript"},"by "),"Designs.ai")))),c.a.createElement(i,null,c.a.createElement(_.a,{style:{width:530,marginTop:6,marginLeft:"calc(50% - 500px)"}},c.a.createElement(h.a,{style:{width:530,display:this.state.enable_navbar_search?"block":"none"}},c.a.createElement(O.b,{app:"mockups",style:{position:"relative"},url:e.config.server_path},c.a.createElement(O.a,{componentId:"mainSearch",dataField:["name","categories.name","keywords","description"],queryFormat:"or",className:"mockup_search",innerClass:{input:"mockup_search_box",list:"suggestionlist"},placeholder:"All mockups",showIcon:!1,onValueSelected:function(e){t.props.set_search_value(e)},renderSuggestion:function(e){return{label:e.source.categories?c.a.createElement("div",null,c.a.createElement(f.a,null,e.source.name),c.a.createElement(f.a,null," ",c.a.createElement("span",{style:{color:"#2572CE",textAlign:"right"}}," in ",e.source.categories[0].name))):c.a.createElement("div",{style:{color:"#2572CE",textAlign:"right"}},e.source.name),value:e.source.name,source:e.source}}}),c.a.createElement("span",{style:{position:"absolute",right:7,fontSize:28,top:7,zIndex:170,color:"#F1F1F1",textSjadow:"none"},className:"fas fa-search fa-2x"}))))),c.a.createElement(i,null,c.a.createElement(_.a,{pullRight:!0},c.a.createElement(h.a,{style:o.navbar_item},this.props.user&&this.props.user.email?c.a.createElement("div",{className:"dropdown"},c.a.createElement("div",{className:"btn",style:o.profile_button,type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},c.a.createElement(m.a,{src:"https://image.flaticon.com/icons/svg/206/206853.svg",className:"circle",style:{position:"absolute",left:"-40px",bottom:0,height:40}}),this.props.user.name," \xa0",c.a.createElement("span",{className:"fa fa-caret-down"})),c.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},c.a.createElement("li",null,c.a.createElement("a",{href:"/orders",onClick:function(){return t.redirect_page("/orders")}},"Your Orders")),c.a.createElement("li",{role:"separator",className:"divider"}),c.a.createElement("li",null,c.a.createElement("a",{onClick:this.inmagine_logout},"Logout")))):s))),c.a.createElement(function(e){var t=e.children;return Object(j.useMediaQuery)({maxWidth:991})?t:null},null,c.a.createElement("div",{style:{float:"right"}},c.a.createElement("span",{style:{borderTop:6},className:"fa fa-menu fa-2x"}))),c.a.createElement(g.a.Toggle,{onClick:function(){return t.open_sidebar(!0)}}),c.a.createElement(g.a.Collapse,null)));return this.state._show_navbar?c.a.createElement("div",null,v,E):""}}]),a}(l.Component));t.a=Object(E.a)(Object(b.connect)(function(e){return{categories:e.categories,user:e.user}},function(e){return{show_mockups:function(){e(Object(v.a)())},open_login_modal:function(){e(Object(x.a)())},logout:function(){return e(Object(k.b)())},fetch_user_details:function(){return e(Object(k.a)())},set_search_value:function(t){return e(Object(v.b)(t))}}})(N))}).call(this,a(40))},702:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t,a,n){if("all"===t){var i=e.config.server_path+"mockup/get_mockups";return fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority_sort:!0,page_no:a,size:n})}).then(function(e){return e.json()}).then(function(e){return r(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}var o=e.config.server_path+"mockup/get_mockups";return fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority_sort:!0,category_id:t,page_no:a,size:n})}).then(function(e){return e.json()}).then(function(e){return r(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})},r=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e)}}).call(this,a(40))},704:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t){var a=e.config.server_path+"category/get_mockups";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({category_id:t})}).then(function(e){return Promise.resolve(e.json())}).catch(function(e){return Promise.reject(e)})}}).call(this,a(40))},705:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(706),g=a(707),_=a(89),h=a.n(_),f=a(124),b=a(83),v=a(90),y=a(169),w=a(105),E=a(172),x=a(95),k=a(20),O=a(221),S=a(69),C=new window.Image;C.id="drag_image",C.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";var j=20,N=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).handleSearchOnChange=function(e){n.setState({searchKeywords:e.target.value})},n.fetchBrandKitLogos=Object(i.a)(r.a.mark(function e(){var t,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.props.user){e.next=12;break}return e.next=4,n.props.fetch_teams();case 4:if(!((t=e.sent)&&t.own_teams[0]&&t.own_teams[0].brand_kits[0])){e.next=9;break}return a=t.own_teams[0].brand_kits[0].logos,i={type:"brand_kit",displayName:"Brand Kit",on_drag_start:n.props.image_drag_start,on_drag:n.props.image_drag,on_drag_end:n.props.image_drag_end,on_click:n.props.add_image,data:a,order:0},e.abrupt("return",Promise.resolve(n.setState({elementCategories:n.state.elementCategories.concat([i]),bkResources:a})));case 9:return e.abrupt("return",n.set_state({user_details:t}));case 12:return e.abrupt("return",Promise.resolve(null));case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}},e,this,[[0,15]])})),n.fetchSearchResults=function(){var t=e.config.server_path+"design_resources/_search?",a={from:n.state.page*j,size:j,query:{bool:{must:[{multi_match:{query:n.state.searchKeywords,fields:["name","keywords"],operator:"or",type:"best_fields"}}],filter:[{terms:{"type.keyword":["image"]}},{terms:{"sub_type.keyword":["icon"]}}]}}};fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return e.hits.hits.map(function(e){return e._id})}).then(function(t){var a=e.config.server_path+"design_resource/get/",n={id:t,type:"image",sub_type:"icon"};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})}).then(function(e){return e.json()}).then(function(e){(e=e.data.docs)&&n.setState({data:n.state.data.concat(e),page:n.state.page+1})}).catch(function(e){return console.error(e)})},n.handleSearchClear=function(){n.setState({data:[],searchActive:!1,searchKeywords:"",page:0},n.fetchData)},n.handleSearchSubmit=function(e){e.preventDefault(),n.setState({data:[],searchActive:!0,page:0},n.fetchSearchResults)},n.fetchGrids=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.getGridResources(0,20),a={type:"grid",displayName:"Grids",on_drag_start:n.grid_drag_start,on_drag:n.grid_drag,on_drag_end:n.grid_drag_end,on_click:n.add_grid,data:t,order:1},e.abrupt("return",Promise.resolve(n.setState({elementCategories:n.state.elementCategories.concat([a])})));case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error loading grids"),S.toastr.error("Something went wrong"),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,6]])})),n.fetchFrames=Object(i.a)(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={type:"image",sub_type:"frame",page_no:0,size:20},t.abrupt("return",fetch(e.config.server_path+"design_resource/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){e=e.data.docs;var t={type:"frame",displayName:"Masks",on_drag_start:n.frame_drag_start,on_drag:n.frame_drag,on_drag_end:n.frame_drag_end,on_click:n.add_frame,data:e,order:2};return Promise.resolve(n.setState({elementCategories:n.state.elementCategories.concat([t])}))}).catch(function(e){return console.log(e),Promise.reject(e)}));case 5:t.prev=5,t.t0=t.catch(0),console.error("Error fetching and loading frames"),S.toastr.error("Something went wrong"),Promise.reject(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,5]])})),n.fetchIcons=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Object(g.a)().then(function(e){e=e.data;for(var t={},a={},r=0;r<e.length;r++)t[e[r].name]=e[r],a[e[r].name]=e[r]._id;var i=[],o=0;for(var s in t)i.push({type:t[s].name,displayName:t[s].name,on_drag_start:n.icon_drag_start,on_drag:n.icon_drag,on_drag_end:n.icon_drag_end,on_click:n.add_icon,data:t[s].data,order:o+3}),o+=1;return Promise.resolve(n.setState({iconNameIdMap:a,elementCategories:n.state.elementCategories.concat(i)}))}));case 4:return e.prev=4,e.t0=e.catch(0),console.error("Error fetching and loading icons"),S.toastr.error("Something went wrong"),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,4]])})),n.fetchElementResources=function(t,a,n,r){var i={type:"image",sub_type:t,page_no:a,size:n,category_id:r};return fetch(e.config.server_path+"design_resource/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return e.data.docs})},n.fetchData=function(e){if(e||(e=n.state.category),"frame"==e)n.fetchElementResources("frame",n.state.page,40).then(function(e){n.setState({data:n.state.data.concat(e),page:n.state.page+1})}).catch(function(e){return console.error(e)});else if("grid"==e){var t=window.getGridResources(n.state.page,40);n.setState({data:n.state.data.concat(t),page_no:n.state.page+1})}else if("brand_kit"==e){var a=n.state.bkResources;n.setState({data:a,page_no:0})}else n.fetchElementResources("icon",n.state.page,20,n.state.iconNameIdMap[e]).then(function(e){n.setState({data:n.state.data.concat(e),page:n.state.page+1})}).catch(function(e){return console.error(e)})},n.icon_drag_start=function(e,t){},n.icon_drag=function(e,t){},n.icon_drag_end=function(e,t){},n.add_icon=function(e,t){var a=t.target.clientWidth/t.target.clientHeight,n=400*window.design_editor.design.get_width()/800;window.design_editor.addObject({type:"image",sub_type:"icon",image_details:{resource_id:e._id,image_width:n,image_height:n/a},width:n,height:n/a,loader_image:t.target})},n.add_grid=function(e){window.design_editor.addObject(e.design_file)},n.grid_drag_start=function(e,t){},n.grid_drag=function(e,t){},n.grid_drag_end=function(e,t){},n.add_frame=function(e,t){window.design_editor.addObject({type:"grid",sub_type:"frame",grid_details:{boxes:[{frame:{type:"image",image_details:{src:e.src}},position:{x:0,y:0},width:100,height:100,loader_image_frame:t.target}]}})},n.frame_drag_start=function(e,t){},n.frame_drag=function(e,t){},n.frame_drag_end=function(e,t){},n.add_element=function(e){"icon"==e.sub_type?window.design_editor.addObject({type:"image",sub_type:"icon",image_details:{src:e.src}}):"frame"==e.sub_type?window.design_editor.addObject({type:"grid",sub_type:"frame",grid_details:{boxes:[{frame:{type:"image",image_details:{src:e.src,id_123rf:e.id}},position:{x:0,y:0},width:100,height:100}]}}):e.design_file&&window.design_editor.addObject(e.design_file)},n.handleCategorySelection=function(e){n.setState({category:e,page:0,data:[]},function(){return n.fetchData(e)})},n.IconPanel=function(){return p.a.createElement("div",null,p.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"},onClick:function(){return n.setState({category:"all"})}},"Back"),p.a.createElement("br",null),p.a.createElement(h.a,{style:{width:"100%"},dataLength:n.state.data?n.state.data.length:0,next:n.fetchData,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 170px)"},p.a.createElement(v.a,{on_drag_start:n.icon_drag_start,on_drag:n.icon_drag,on_drag_end:n.icon_drag_end,on_click:n.add_icon,image_height:"Lines"===n.state.category?"252px":"126px",col_size:6,resources:n.state.data})))},n.SearchBar=function(){return p.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},p.a.createElement(y.a,{onSubmit:n.handleSearchSubmit},p.a.createElement(w.a,null,p.a.createElement(E.a,{style:{width:"100%"}},p.a.createElement(x.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search elements",value:n.state.searchKeywords,type:"text",onChange:function(e){return n.handleSearchOnChange(e)}}),n.state.searchActive?p.a.createElement("span",{onClick:n.handleSearchClear,style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):p.a.createElement("span",{onClick:n.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),p.a.createElement(k.a,{style:{display:"none"},type:"submit"}))))},n.state={data:[],page:0,category:"all",elementCategories:[],isFetching:!0,searchActive:!1,searchKeywords:"",bkResources:[]},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.fetchBrandKitLogos(),this.fetchGrids(),this.fetchFrames(),this.fetchIcons()]).then(function(){var t=e.state.elementCategories.sort(function(e,t){return e.order-t.order});e.setState({elementCategories:t})}).then(function(){return e.setState({isFetching:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;if(this.state.isFetching)return p.a.createElement("div",null);switch(this.state.category){case"all":return p.a.createElement(p.a.Fragment,null,p.a.createElement(this.SearchBar,null),this.state.searchActive?p.a.createElement(h.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchSearchResults,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 198px)"},p.a.createElement(v.a,{on_drag_start:this.props.image_drag_start,on_drag:this.props.image_drag,on_drag_end:this.props.image_drag_end,on_click:this.props.add_image,image_height:"126px",col_size:6,resources:this.state.data})):p.a.createElement("div",{className:"thin_scroll",style:{width:"100%",height:"calc(100vh - 149px)"}},p.a.createElement(m.a,{categories:this.state.elementCategories,on_drag_start:this.props.image_drag_start,on_drag:this.props.image_drag,on_drag_end:this.props.image_drag_end,on_click:this.props.add_image,handleCategorySelection:this.handleCategorySelection})));case"frame":return p.a.createElement("div",null,p.a.createElement("div",{style:{height:20}}),p.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"},onClick:function(){return e.setState({category:"all"})}},"Back"),p.a.createElement("br",null),p.a.createElement(h.a,{style:{width:"100%"},dataLength:this.state.data?this.state.data.length:0,next:this.fetchData,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 170px)"},p.a.createElement(v.a,{on_drag_start:this.frame_drag_start,on_drag:this.frame_drag,on_drag_end:this.frame_drag_end,on_click:this.add_frame,image_height:"126px",col_size:6,resources:this.state.data})));case"grid":return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:{height:20}}),p.a.createElement("div",null,p.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"},onClick:function(){return e.setState({category:"all"})}},"Back"),p.a.createElement("br",null),p.a.createElement(h.a,{style:{width:"100%"},dataLength:this.state.data?this.state.data.length:0,next:this.fetchData,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 170px)"},p.a.createElement(v.a,{on_drag_start:this.grid_drag_start,on_drag:this.grid_drag,on_drag_end:this.grid_drag_end,on_click:this.add_grid,image_height:"126px",col_size:6,resources:this.state.data}))));case"brand_kit":return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:{height:20}}),p.a.createElement("div",null,p.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"},onClick:function(){return e.setState({category:"all"})}},"Back"),p.a.createElement("br",null),p.a.createElement(v.a,{on_drag_start:this.props.image_drag_start,on_drag:this.props.image_drag,on_drag_end:this.props.image_drag_end,on_click:this.props.add_image,image_height:"126px",col_size:6,resources:this.state.data})));default:return p.a.createElement(p.a.Fragment,null,p.a.createElement(this.SearchBar,null),this.state.searchActive?p.a.createElement(h.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchSearchResults,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 198px)"},p.a.createElement(v.a,{on_drag_start:this.icon_drag_start,on_drag:this.icon_drag,on_drag_end:this.icon_drag_end,on_click:this.add_icon,image_height:"126px",col_size:6,resources:this.state.data})):p.a.createElement(this.IconPanel,null))}}}]),a}(u.Component);t.a=Object(f.a)(Object(b.connect)(function(e){return{user:e.user}},function(e){return{fetch_teams:function(){return e(Object(O.c)())}}})(N))}).call(this,a(40))},706:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(1409),u=a(39),p=a(230),m=a.n(p),g=(a(1235),function(e){return c.a.createElement("div",{style:{backgroundColor:"#f1f2f3",width:e.width?e.width:"100%",height:e.height?e.height:"100%",zIndex:"2000",position:"absolute",left:0}})}),_=function(t){var a=t.category,n=t.index,r=t.handleCategorySelection,i=t.on_drag_start,o=t.on_drag,s=t.on_drag_end,l=t.on_click;return c.a.createElement("div",{style:{paddingBottom:27,width:"279px"},key:"category_card_"+n},c.a.createElement(d.a,{style:{paddingLeft:12,paddingRight:12}},c.a.createElement("span",{style:{float:"left",fontFamily:"Montserrat",fontSize:14}},a.displayName),c.a.createElement("span",{style:{float:"right",fontFamily:"Montserrat",fontSize:14,cursor:"pointer"},onClick:function(){return r(a.type)}},"All")),c.a.createElement("div",{style:{display:"flex",flexFlow:"row",overflowX:"scroll",paddingLeft:"25px",paddingRight:"25px",paddingTop:"10px",paddingBottom:"10px",width:"100%"}},a.data.map(function(t,n){return c.a.createElement("div",{key:n,className:"loader_strict_dimensions unselectable"},c.a.createElement(m.a,{overflow:!0},c.a.createElement(g,{width:75,height:75}),c.a.createElement(u.a,{onLoad:function(e){e.target.style.display="block",e.target.parentElement.children[0].style.display="none"},style:{display:"none"},className:"design-resources-inner-component",key:"panelImages"+n,onDragStart:function(e){a.on_drag_start?a.on_drag_start(t,e):i(t,e)},onDrag:function(e){a.on_drag?a.on_drag(t,e):o(t,e)},onDragEnd:function(e){a.on_drag_end?a.on_drag_end(t,e):s(t,e)},onClick:function(e){a.on_click?a.on_click(t,e):l(t,e)},src:t.src.indexOf("data:image")>-1||t.src.indexOf("http")>-1||t.src.indexOf("blob:")>-1?t.src:e.config.server_path+t.src,alt:"Image Not Found",crossOrigin:"anonymous"})))})))},h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).GenerateAllResourcesView=function(){for(var e=[],t=0;t<a.props.categories.length;t++)e.push(c.a.createElement(_,{category:a.props.categories[t],on_click:a.props.on_click,on_drag_start:a.props.on_drag_start,on_drag:a.props.on_drag,on_drag_end:a.props.on_drag_end,index:t,handleCategorySelection:a.props.handleCategorySelection}));return e},a.state={},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("elements-panel-container").onscroll=function(e){return Object(p.forceCheck)()}}},{key:"render",value:function(){return c.a.createElement("div",{id:"elements-panel-container",style:{width:"100%",height:"100%",paddingRight:"20px",overflowY:"auto"}},c.a.createElement(this.GenerateAllResourcesView,null),c.a.createElement("div",{style:{marginBottom:75}}))}}]),t}(l.Component);t.a=h}).call(this,a(40))},707:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r});var n=a(515),r=function(){var t=e.config.server_path+"design_resource/get_icons";return Object(n.a)(t,{method:"GET",credentials:"include"})}}).call(this,a(40))},708:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(169),g=a(105),_=a(172),h=a(95),f=a(20),b=a(252),v=a(89),y=a.n(v),w=a(90),E=30,x="happy",k=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleSearchOnChange=function(e){n.setState({searchKeywords:e.target.value})},n.fetchSearchResults=function(){var t=(n.state.searchKeywords.length?n.state.searchKeywords:x).split(" ").join(",")+"&itemsperpage="+E+"&page="+(n.state.page?n.state.page:"1");"graphic"==n.state.filetype?t+="&filetype=2":"photo"==n.state.filetype&&(t+="&filetype=1");var a=e.config.server_path+("123RF_PLUS"==n.props.rf_type_key?"123rfapi/?method=search&source=plus&keyword=":"123rfapi/?method=search&source=123rf&keyword=")+t;return fetch(a).then(function(e){return e.json()}).then(function(e){console.log(n.props.rf_type_key);var t=e[0].images[n.props.rf_type_key].image;"123RF_PLUS"!=n.props.rf_type_key&&(e[0].images.stockunlimited&&e[0].images.stockunlimited.image&&t.concat(e[0].images.stockunlimited.image),e[0].images.free&&e[0].images.free.image&&t.concat(e[0].images.free.image));var a=n.props.rf_type_key;return t=t.map(function(e,t){var n={src:e.link_image,description:e.description};return"123RF_PLUS"==a?n.id_123rf_plus=e.id:n.id_123rf=e.id,n})}).catch(function(e){return Promise.resolve([])})},n.fetchData=function(){n.fetchSearchResults().then(function(e){n.setState({images:n.state.images.concat(e),page:n.state.page+1})}).catch(function(e){return console.error(e)})},n.change_file_type=function(e){e!=n.state.filetype&&n.set_state({filetype:e}).then(function(){n.state.searchActive?n.handleSearchSubmit():n.handleSearchClear()})},n.handleSearchClear=function(){n.setState({images:[],searchActive:!1,searchKeywords:"",page:1},n.fetchData)},n.handleSearchSubmit=function(e){e&&e.preventDefault(),n.setState({images:[],searchActive:!0,page:1},n.fetchData)},n.state={images:[],page:1,searchActive:!1,searchKeywords:"",filetype:"all"},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},p.a.createElement(m.a,{onSubmit:this.handleSearchSubmit},p.a.createElement(g.a,null,p.a.createElement(_.a,{style:{width:"100%"}},p.a.createElement(h.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search...",value:this.state.searchKeywords,type:"text",onChange:function(t){return e.handleSearchOnChange(t)}}),this.state.searchActive?p.a.createElement("span",{onClick:this.handleSearchClear,style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):p.a.createElement("span",{onClick:this.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),p.a.createElement(f.a,{style:{display:"none"},type:"submit"})))),p.a.createElement(b.a,null,p.a.createElement(f.a,{onClick:function(){return e.change_file_type("photo")},className:"photo"==this.state.filetype?"btn btn-orange nohover":"btn btn-orange-inverse nohover",style:{paddingTop:6,paddingBottom:6}},"Photo"),p.a.createElement(f.a,{onClick:function(){return e.change_file_type("graphic")},className:"graphic"==this.state.filetype?"btn btn-orange nohover":"btn btn-orange-inverse nohover",style:{paddingTop:6,paddingBottom:6}},"Graphic")),this.props.search_active?p.a.createElement(y.a,{dataLength:this.state.images?this.state.images.length:0,next:this.fetchData,hasMore:!0,endMessage:p.a.createElement("h4",null,"No more results."),height:"calc(100vh - 198px)"},p.a.createElement(w.a,{annotate:!0,annotation_text:this.props.annotation_text,on_drag_start:this.props.on_drag_start,on_drag:this.props.on_drag,on_drag_end:this.props.on_drag_end,on_click:this.props.on_click,image_height:"126px",col_size:6,resources:this.state.images})):p.a.createElement(y.a,{dataLength:this.state.images?this.state.images.length:0,next:this.fetchData,hasMore:!0,height:"calc(100vh - 198px)",endMessage:p.a.createElement("h4",null,"No more results.")},p.a.createElement(w.a,{annotate:!0,annotation_text:this.props.annotation_text,on_drag_start:this.props.on_drag_start,on_drag:this.props.on_drag,on_drag_end:this.props.on_drag_end,on_click:this.props.on_click,image_height:"126px",col_size:6,resources:this.state.images})))}}]),a}(u.Component);t.a=k}).call(this,a(40))},709:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(169),u=a(105),p=a(172),m=a(95),g=a(20),_=a(89),h=a.n(_),f=a(90),b=30,v=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).handleSearchOnChange=function(e){r.setState({searchKeywords:e.target.value})},r.fetchSearchResults=function(){var t=("background "+r.state.searchKeywords).split(" ").join(",")+"&itemsperpage="+b+"&page="+(r.state.page?r.state.page:"1"),a=e.config.server_path+"123rfapi/?method=search&keyword="+t;return fetch(a).then(function(e){return e.json()}).then(function(e){var t=e[0].images["123RF"].image;e[0].images.stockunlimited&&e[0].images.stockunlimited.image&&t.concat(e[0].images.stockunlimited.image),e[0].images.free&&e[0].images.free.image&&t.concat(e[0].images.free.image),t=t.map(function(e,t){return{src:e.link_image,id_123rf:e.id,description:e.description}}),r.setState({data:r.state.data.concat(t),page:r.state.page+1})}).catch(function(e){return Promise.resolve([])})},r.fetchData=function(){var t={type:"image",sub_type:"background",page_no:r.state.page,size:b};fetch(e.config.server_path+"design_resource/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return e.data.docs}).then(function(e){e.map(function(e){return e.resource_id=e._id}),r.setState({data:r.state.data.concat(e),page:r.state.page+1})})},r.handleSearchClear=function(){r.setState({data:[],searchActive:!1,searchKeywords:"",page:0},r.fetchData)},r.handleSearchSubmit=function(e){e.preventDefault(),r.setState({data:[],searchActive:!0,page:0},r.fetchSearchResults)},r.state={data:[],page:0,searchActive:!1,searchKeywords:""},r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},c.a.createElement(d.a,{onSubmit:this.handleSearchSubmit},c.a.createElement(u.a,null,c.a.createElement(p.a,{style:{width:"100%"}},c.a.createElement(m.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search backgrounds",value:this.state.searchKeywords,type:"text",onChange:function(t){return e.handleSearchOnChange(t)}}),this.state.searchActive?c.a.createElement("span",{onClick:this.handleSearchClear,style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):c.a.createElement("span",{onClick:this.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),c.a.createElement(g.a,{style:{display:"none"},type:"submit"})))),this.state.searchActive?c.a.createElement(h.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchSearchResults,hasMore:!0,endMessage:c.a.createElement("h4",null,"No more results."),height:"calc(100vh - 198px)"},c.a.createElement(f.a,{annotate:!0,on_drag_start:this.props.on_drag_start,on_drag:this.props.on_drag,on_drag_end:this.props.on_drag_end,on_click:this.props.on_click,image_height:"126px",col_size:6,resources:this.state.data})):c.a.createElement(h.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchData,hasMore:!0,height:"calc(100vh - 198px)",endMessage:c.a.createElement("h4",null,"No more results.")},c.a.createElement(f.a,{annotate:!0,on_drag_start:this.props.on_drag_start,on_drag:this.props.on_drag,on_drag_end:this.props.on_drag_end,on_click:this.props.on_click,image_height:"126px",col_size:6,resources:this.state.data})))}}]),a}(l.Component);t.a=v}).call(this,a(40))},710:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(35),p=a(0),m=a.n(p),g=a(169),_=a(105),h=a(172),f=a(95),b=a(20),v=a(104),y=a(89),w=a.n(y),E=a(90),x=20,k={option:function(e,t){return Object(u.a)({},e,{textAlign:"left",backgroundColor:t.isSelected?"#C8CDD4":t.isFocused?"#F1F2F3":"white"})},menu:function(e,t){return Object(u.a)({},e,{width:"275px"})}},O=new window.Image;O.id="drag_image",O.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";var S=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleCategoryChange=function(e,t){var a=n.state.page,r={selectedCategory:e,data:[],page:0};if(t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);n.set_state(r).then(function(){a<=2&&n.fetchData()})},n.handleSearchOnChange=function(e){n.setState({searchKeywords:e.target.value}),""===e.target.value&&n.handleSearchClear()},n.load_template=function(){var e=Object(i.a)(r.a.mark(function e(t,a){var i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i=JSON.parse(JSON.stringify(t.design_file)),o=0;o<i.pages.length;o++)window.refresh_ids_struct(i.pages[o]);return e.next=4,window.design_editor.design.load(i,a.target);case 4:n.state.selectedCategory&&n.state.selectedCategory.value&&(window.design_editor.category_id=n.state.selectedCategory.value),window.design_editor.needs_redraw=!0,window.design_editor.addUndoChange(),window.design_editor.deselectElements(),n.props.rct_update_pages(window.design_editor.design.pages.length),window.design_editor.handleWindowResize();case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),n.template_drag_start=function(e,t){},n.template_drag=function(e,t){},n.template_drag_end=function(e,t){},n.fetchSearchResults=function(){var t=e.config.server_path+"design_templates/_search?",a={from:n.state.page*x,size:x,query:{bool:{must:{multi_match:{query:n.state.searchKeywords,fields:["categories.name","keywords^3","name","design_text"],operator:"or",type:"best_fields"}},filter:[]}}};n.state.selectedCategory.value&&a.query.bool.filter.push({terms:{"categories.name.keyword":[n.state.selectedCategory.label]}}),a.query.bool.filter.push({term:{active:!0}}),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return e.hits.hits.map(function(e){return e._id})}).then(function(t){var a=e.config.server_path+"design/get/",r={id:t,active:!0};return n.state.selectedCategory.value&&(r.category_id=n.state.selectedCategory.value),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})}).then(function(e){return e.json()}).then(function(e){var t=e.data.docs;t&&n.set_state({data:n.state.data.concat(t),page:n.state.page+1}).then(function(){var e=window.document.getElementsByClassName("infinite-scroll-component");if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].dispatchEvent(new window.Event("scroll"))})}).catch(function(e){return console.log(e)})},n.fetchTemplates=function(){var t={page_no:n.state.page,size:x,active:!0};n.state.selectedCategory.value&&(t.category_id=n.state.selectedCategory.value),fetch(e.config.server_path+"design/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){var t=e.data.docs;n.set_state({data:n.state.data.concat(t),page:n.state.page+1}).then(function(){var e=window.document.getElementsByClassName("infinite-scroll-component");if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].dispatchEvent(new window.Event("scroll"))})}).catch(function(e){return console.log(e)})},n.fetchData=function(){n.state.searchActive?n.fetchSearchResults():n.fetchTemplates()},n.handleSearchClear=function(){n.setState({data:[],searchActive:!1,searchKeywords:"",page:0},n.fetchData)},n.handleSearchSubmit=function(e){e.preventDefault(),n.setState({data:[],searchActive:!0,page:0},n.fetchData)},n.state={data:[],page:0,searchActive:!1,searchKeywords:"",selectedCategory:{value:null,label:"All"},categories:[],fetchingDefaultCategory:!1,defaultCategoryAlreadySet:!1},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch(e.config.server_path+"category/get",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"design",filter_empty:!0,active:!0})}).then(function(e){return e.json()}).then(function(a){(a=(a=(a=(a=a.data).filter(function(e){return e.parent})).map(function(e){return{label:e.name,value:e._id}})).sort(function(e,t){return e.label<t.label?-1:1})).unshift({label:"All",value:null});var n=new URLSearchParams(window.location.search).get("category");if(!n&&t.props.defaultCategory&&(n=t.props.defaultCategory),n){var r=a.find(function(e){return e.value===n});r&&t.handleCategoryChange(r,{defaultCategoryAlreadySet:!0})}else fetch(e.config.server_path+"design/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({page_no:t.state.page,size:x,active:!0})}).then(function(e){return e.json()}).then(function(e){if(!t.state.fetchingDefaultCategory){var a=e.data.docs;t.setState({data:t.state.data.concat(a),page:t.state.page+1});var n=window.document.getElementsByClassName("infinite-scroll-component");if(n&&n.length>0)for(var r=0;r<n.length;r++)n[r].dispatchEvent(new window.Event("scroll"))}}).catch(function(e){return Promise.reject(e)});t.setState({categories:a})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.state.defaultCategoryAlreadySet&&e.defaultCategory!==this.props.defaultCategory){var a=this.state.categories.find(function(e){return e.value===t.props.defaultCategory});a&&this.setState({fetchingDefaultCategory:!0},function(){return t.handleCategoryChange(a,{defaultCategoryAlreadySet:!0})})}}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},m.a.createElement(g.a,{onSubmit:this.handleSearchSubmit},m.a.createElement(_.a,null,m.a.createElement(h.a,{style:{width:"100%"}},m.a.createElement(f.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search templates",value:this.state.searchKeywords,type:"text",onChange:function(t){return e.handleSearchOnChange(t)}}),this.state.searchActive?m.a.createElement("span",{onClick:this.handleSearchClear,style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):m.a.createElement("span",{onClick:this.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),m.a.createElement(b.a,{style:{display:"none"},type:"submit"})))),m.a.createElement(v.b,{styles:k,className:"template_category_select",label:"Design Template Category Select",options:this.state.categories,placeholder:"Select Category",value:this.state.selectedCategory,onChange:function(t){e.handleCategoryChange(t)}}),m.a.createElement(w.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchData,hasMore:!0,height:"calc(100vh - 198px)",endMessage:m.a.createElement("h4",null,"No more results.")},m.a.createElement(E.a,{on_drag_start:this.template_drag_start,on_drag_end:this.template_drag_end,on_drag:this.template_drag,on_click:this.load_template,image_height:"126px",col_size:6,resources:this.state.data})))}}]),a}(p.Component);t.a=S}).call(this,a(40))},711:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(169),u=a(105),p=a(172),m=a(95),g=a(20),_=a(115),h=a(90),f=a(712),b=a(124),v=a(83),y=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).fetchSearchResults=function(){if(""!=t.state.searchKeywords){var e=t.state.folders.filter(function(e){return e.folder.name.toLowerCase().startsWith(t.state.searchKeywords.toLowerCase())});t.setState({data:e})}else t.setState({searchActive:!1,data:t.state.folders})},t.searchFieldOnChange=function(e){t.setState({searchActive:!0,searchKeywords:e.target.value},t.fetchSearchResults)},t.SearchBar=function(){return c.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},c.a.createElement(d.a,{onSubmit:t.fetchSearchResults},c.a.createElement(u.a,null,c.a.createElement(p.a,{style:{width:"100%"}},c.a.createElement(m.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search folders",value:t.state.searchKeywords,type:"text",onChange:function(e){return t.searchFieldOnChange(e)}}),t.state.searchActive?c.a.createElement("span",{onClick:function(){return t.setState({searchActive:!1,searchKeywords:""},t.fetchSearchResults)},style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):c.a.createElement("span",{onClick:t.fetchSearchResults,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),c.a.createElement(g.a,{style:{display:"none"},type:"submit"}))))},t.FoldersHomeView=function(){return c.a.createElement("div",null,t.state.data.map(function(e,a){return c.a.createElement("div",{key:a,className:"folder_icon",style:{width:"100%",height:"72px",cursor:"pointer",padding:"10px",textAlign:"left"},onClick:function(){return t.setState({selectedFolder:e.folder._id})}},c.a.createElement("img",{style:{paddingRight:"10px",height:"50px"},src:"https://img.icons8.com/cotton/64/000000/folder-invoices--v1.png"}),c.a.createElement("span",{style:{fontSize:"1.5rem",fontWeight:"500"}},e.folder.name))}))},t.state={selectedFolder:"home",folders:[],data:[],searchActive:!1,searchKeywords:""},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.user&&Object(_.c)().then(function(e){return e.json()}).then(function(e){return e=(e=e.data).filter(function(e){return"photo"===e.folder.type})}).then(function(t){e.setState({folders:t,data:t})}).catch(function(e){console.log("Error fetching folders")})}},{key:"render",value:function(){var t=this;if("home"===this.state.selectedFolder)return c.a.createElement(c.a.Fragment,null,c.a.createElement(this.SearchBar,null),c.a.createElement(this.FoldersHomeView,null));var a=this.state.folders.filter(function(e){return e.folder._id===t.state.selectedFolder})[0].folder;return"photo"===a.type?(a.resources=a.resources.map(function(t){return t.src=e.config.server_path+t.path,t.low_path&&(t.low_src=e.config.server_path+t.low_path),t}),c.a.createElement("div",{style:{height:"calc(100vh - 198px)",overflowY:"auto"}},c.a.createElement("div",{onClick:function(){return t.setState({selectedFolder:"home"})}},c.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"}},"Back"),c.a.createElement("br",null)),c.a.createElement(h.a,{on_drag_start:this.props.image_drag_start,on_drag:this.props.image_drag,on_drag_end:this.props.image_drag_end,on_click:this.props.add_image,image_height:"126px",col_size:6,resources:a.resources}))):c.a.createElement("div",null,c.a.createElement(f.a,{resources:a.resources,view_type:"panel_view",back_button_on_click:function(){return t.setState({selectedFolder:"home"})},on_click:this.props.purchases_on_click}))}}]),a}(l.Component);t.a=Object(b.a)(Object(v.connect)(function(e){return{user:e.user}},function(e){return{}})(y))}).call(this,a(40))},712:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(1409),u=a(39),p=a(1410),m=function(t){function a(){var t,r;Object(n.a)(this,a);for(var s=arguments.length,l=new Array(s),m=0;m<s;m++)l[m]=arguments[m];return(r=Object(i.a)(this,(t=Object(o.a)(a)).call.apply(t,[this].concat(l)))).populate_image_with_src=function(){for(var t=function(t){var a=r.props.resources[t];a.id_123rf?fetch(e.config.server_path+"design_resource/load_123rf_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a.id_123rf})}).then(function(e){return e.json()}).then(function(t){var n=document.getElementById("resource_"+a.id_123rf);if(n){var r=t.data.src.indexOf("data:image")>-1||t.data.src.indexOf("http")>-1||t.data.src.indexOf("blob:")>-1?t.data.src:e.config.server_path+t.data.src;n.src=r}}):a.id_123rf_plus?fetch(e.config.server_path+"design_resource/load_123rf_plus_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a.id_123rf_plus})}).then(function(e){return e.json()}).then(function(t){var n=document.getElementById("resource_"+a.id_123rf_plus);if(n){var r=t.data.src.indexOf("data:image")>-1||t.data.src.indexOf("http")>-1||t.data.src.indexOf("blob:")>-1?t.data.src:e.config.server_path+t.data.src;n.src=r}}):a.id_pixlr?fetch(e.config.server_path+"design_resource/load_pixlr_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a.id_pixlr})}).then(function(e){return e.json()}).then(function(t){var n=document.getElementById("resource_"+a.id_pixlr);if(n){var r=t.data.src.indexOf("data:image")>-1||t.data.src.indexOf("http")>-1||t.data.src.indexOf("blob:")>-1?t.data.src:e.config.server_path+t.data.src;n.src=r}}):a.id_design_resource?fetch(e.config.server_path+"design_resource/load_design_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a.id_design_resource})}).then(function(t){document.getElementById("resource_"+a.id_design_resource).src=e.config.static_file_server_path+t.data.src}):document.getElementById("resource_"+a.path).src=e.config.static_file_server_path+a.path},a=0;a<r.props.resources.length;a++)t(a)},r.generate_folder_view=function(){return c.a.createElement("div",{style:{paddingTop:"30px"}},c.a.createElement("span",{style:{fontSize:"2.8rem",fontWeight:"700"}},r.props.name),c.a.createElement(d.a,{style:{paddingTop:15}},r.props.resources.map(function(e){return c.a.createElement(u.a,{id:"resource_"+(e.id_123rf?e.id_123rf:e.id_123rf_plus?e.id_123rf_plus:e.id_pixlr?e.id_pixlr:e.id_design_resource?e.id_design_resource:e.path),src:"",height:300})})))},r.generate_panel_view=function(){return c.a.createElement("div",null,c.a.createElement("div",{onClick:r.props.back_button_on_click},c.a.createElement("span",{style:{marginLeft:12,marginBottom:4,fontSize:"1.2rem",fontWeight:"600",float:"Left",cursor:"pointer"}},"Back"),c.a.createElement("br",null)),c.a.createElement(d.a,null,r.props.resources.map(function(e){return c.a.createElement(p.a,{xs:6},c.a.createElement(u.a,{onClick:function(){r.props.on_click(e)},id:"resource_"+(e.id_123rf?e.id_123rf:e.id_123rf_plus?e.id_123rf_plus:e.id_pixlr?e.id_pixlr:e.id_design_resource?e.id_design_resource:e.path),src:"",width:150}))})))},r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.populate_image_with_src()}},{key:"render",value:function(){return this.props.resources?this.props.view_type&&"panel_view"==this.props.view_type?c.a.createElement("div",null,this.generate_panel_view()):c.a.createElement("div",null,this.generate_folder_view()):c.a.createElement("div",null)}}]),a}(l.Component);t.a=m}).call(this,a(40))},713:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(8),s=a(0),l=a.n(s),c=a(95),d=a(20),u=a(29),p=a(1409),m=a(1410),g=a(219),_={"Instagram Post":{height:1080,width:1080,dimension_units:"px"},"Instagram Story":{height:1920,width:1080,dimension_units:"px"},"Facebook Post":{height:788,width:940,dimension_units:"px"},"Facebook Story":{height:1920,width:1080,dimension_units:"px"},"Facebook Highlight":{height:1200,width:1800,dimension_units:"px"},"Facebook Event":{height:500,width:262,dimension_units:"px"},"Twitter Post":{height:512,width:1024,dimension_units:"px"},"Youtube Thumbnail":{height:720,width:1280,dimension_units:"px"},"Google Inline Rectangle":{height:250,width:300,dimension_units:"px"},"Google Large Rectangle":{height:280,width:336,dimension_units:"px"},A4:{height:297,width:210,dimension_units:"mm"}};t.a=function(t){var a=t.show_magic_resize_modal,n=t.hide_magic_resize_modal,h=t.triggerSubscriptionWall,f=Object(s.useState)([]),b=Object(o.a)(f,2),v=b[0],y=b[1],w=Object(s.useState)([!1]),E=Object(o.a)(w,2),x=E[0],k=E[1];Object(s.useEffect)(function(){a&&O()},[a]);var O=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.design_editor){e.next=26;break}t=JSON.parse(JSON.stringify(window.design_editor.design.save())),a=[],k(!0),window.design_editor.undo_stack_disabled=!0,(n=new window.DM_Design).load(window.design_editor.design.save()),e.t0=r.a.keys(_);case 9:if((e.t1=e.t0()).done){e.next=24;break}return i=e.t1.value,_[i].width/_[i].height>1?n.base_width=250:n.base_height=250,n.magicResize(_[i].width,_[i].height,_[i].dimension_units),n.pages[0].draw(),e.next=17,n.wait_to_load();case 17:n.pages[0].draw(),a.push({src:n.pages[0].get_html(),design_file:n.save(),name_append:" - "+i,title:i+" ("+_[i].width+" x "+_[i].height+_[i].dimension_units+")"}),delete n.base_width,delete n.base_height,n.load(t),e.next=9;break;case 24:y(a),k(!1);case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(0),console.log(e.t2),k(!1);case 32:case"end":return e.stop()}},e,this,[[0,28]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.design_editor){e.next=20;break}if(t=Number(document.getElementById("magicresize_custom_width").value),a=Number(document.getElementById("magicresize_custom_height").value),!isNaN(t)&&0!=t&&!isNaN(a)&&0!=a){e.next=6;break}return e.abrupt("return");case 6:return k(!0),n=v.concat([]),(i=new window.DM_Design).load(window.design_editor.design.save()),t/a>1?i.base_width=250:i.base_height=250,i.magicResize(t,a,"px"),i.pages[0].draw(),e.next=16,i.wait_to_load();case 16:i.pages[0].draw(),n.push({src:i.pages[0].get_html(),design_file:i.save(),name_append:" - "+t+" x "+a+" px",title:"Custom Dimensions ("+t+" x "+a+"px)"}),y(n),k(!1);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0),k(!1);case 26:case"end":return e.stop()}},e,this,[[0,22]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(u.a,{show:a,onHide:n,bsSize:"large"},l.a.createElement(u.a.Header,{closeButton:!0},l.a.createElement(u.a.Title,{style:{fontFamily:"Montserrat",fontWeight:"bold"}},"Magic Resize ",l.a.createElement(function(){return l.a.createElement("div",{style:{display:"inline-flex",float:"right",fontWeight:"normal",fontSize:14,paddingRight:20}},l.a.createElement("span",{style:{padding:5,margin:"auto"}},"Custom"),l.a.createElement(c.a,{style:{height:30,width:70},type:"text",id:"magicresize_custom_width",placeholder:"width"}),l.a.createElement("span",{style:{padding:5,margin:"auto"}}," x "),l.a.createElement(c.a,{style:{height:30,width:70},type:"text",id:"magicresize_custom_height",placeholder:"height"}),l.a.createElement("span",{style:{padding:5,margin:"auto"}}," px "),l.a.createElement(d.a,{onClick:S,type:"button",style:{backgroundImage:"none",backgroundColor:"#f1f2f3",height:30,width:60,padding:0}},"Apply"))},null))),l.a.createElement(u.a.Body,{style:{minHeight:300,padding:0}},l.a.createElement(p.a,{style:{padding:15}},v.map(function(t){return l.a.createElement(m.a,{xs:4,style:{textAlign:"center"}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.src},onClick:function(){return function(t){h?(n(),h(!0)):fetch(e.config.server_path+"saved_design/clone_saved_design/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({saved_design_id:window.design_editor.design.design_save_id,design_file:t.design_file,name_append:t.name_append})}).then(function(e){return e.json()}).then(function(e){return e.data}).then(function(t){window.open(e.config.website_url+"designmaker/start/designs/"+t._id+"/edit","_blank")})}(t)},style:{cursor:"pointer",height:250,width:250,margin:"auto",backgroundColor:"#f1f2f3",marginTop:10,verticalAlign:"middle",display:"inline-flex"}}),l.a.createElement("p",null,t.title))})),l.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",minHeight:300}},l.a.createElement(g.a,{show_loader:x,style:{}}))),l.a.createElement(u.a.Footer,null,l.a.createElement("div",null)))}}).call(this,a(40))},714:function(e,t,a){"use strict";var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(29),g=a(1409),_=a(1410),h=a(20),f=a(39),b=a(219),v=a(81),y=a.n(v),w=(a(191),a(109)),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).editor=new window.designEditor({pages:[{background_color:"rgba(255,255,255,1)",objects:[]}]},[window.document.createElement("div")],void 0,!0),a.styleOnClick=function(e){a.props.triggerSubscriptionWall?(a.props.hide_suggest_design_modal(),a.props.triggerSubscriptionWall(!0)):(window.design_editor.load(e.file),window.design_editor.addUndoChange(),a.props.hide_suggest_design_modal())},a.set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleClick1=function(){a.setState({displayColorPicker1:!a.state.displayColorPicker1})},a.handleClose1=function(){a.setState({displayColorPicker1:!1})},a.handleClick2=function(){a.setState({displayColorPicker2:!a.state.displayColorPicker2})},a.handleClose2=function(){a.setState({displayColorPicker2:!1})},a.applyChanges=Object(i.a)(r.a.mark(function e(){var t,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a.state.computing){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.set_state({computing:!0});case 5:return e.next=7,a.set_state({data:[]});case 7:if(a.editor.undo_stack_disabled=!0,a.state.fontLock){e.next=29;break}t=window.design_editor.save(),a.editor.load(t),a.editor.draw(),[],n=0;case 14:if(!(n<29)){e.next=29;break}return e.next=17,a.editor.fontSwap(n);case 17:if(a.state.colorLock){e.next=20;break}return e.next=20,a.editor.colorSwap(n,[a.state.seedColor1,a.state.seedColor2]);case 20:return a.editor.set_redraw_all_objects("text"),a.editor.draw(),e.next=24,Promise.all(a.editor.resource_promise_array);case 24:i=a.editor.pages[0].export("low"),a.setState({data:a.state.data.concat([{src:i,file:a.editor.save()}])});case 26:n++,e.next=14;break;case 29:if(a.state.colorLock||!a.state.fontLock){e.next=44;break}return t=window.design_editor.save(),a.editor.load(t),a.editor.draw(),e.next=35,Promise.all(a.editor.resource_promise_array);case 35:n=0;case 36:if(!(n<29)){e.next=44;break}return e.next=39,a.editor.colorSwap(n,[a.state.seedColor1,a.state.seedColor2]);case 39:i=a.editor.pages[0].export("low"),a.setState({data:a.state.data.concat([{src:i,file:a.editor.save()}])});case 41:n++,e.next=36;break;case 44:return e.next=46,a.set_state({computing:!1});case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log(e.t0);case 51:case"end":return e.stop()}},e,this,[[0,48]])})),a.state={data:[],page:0,computing:!1,fontLock:!1,colorColor:!1,seedColor1:"#7cadf7",seedColor2:"#e6a45a",displayColorPicker1:!1,displayColorPicker2:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){if(!e.show_suggest_design_modal&&this.props.show_suggest_design_modal&&window.design_editor){var t=window.design_editor.design.findDominantColors(),a={data:[]};t[0]&&(a.seedColor1=t[0]),t[1]&&(a.seedColor2=t[1]),this.setState(a)}e.show_suggest_design_modal&&!this.props.show_suggest_design_modal&&this.setState({computing:!1})}},{key:"render",value:function(){var e=this,t=y()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px solid #ababab",background:this.state.seedColor1},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}}),a=y()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px solid #ababab",background:this.state.seedColor2},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement(m.a,{show:this.props.show_suggest_design_modal,onHide:this.props.hide_suggest_design_modal,bsSize:"large"},p.a.createElement(m.a.Header,{closeButton:!0},p.a.createElement(m.a.Title,{style:{fontFamily:"Montserrat",fontWeight:"bold"}},"Auto Suggest")),p.a.createElement(m.a.Body,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{xs:3},p.a.createElement(h.a,{className:"btn-block btn-orange",onClick:function(){return e.setState({fontLock:!e.state.fontLock})}},p.a.createElement("span",{className:"pull-left"},"Font"),p.a.createElement("span",{className:this.state.fontLock?"fa fa-lock pull-right":"fa fa-lock-open pull-right"}))),p.a.createElement(_.a,{xs:3,style:{display:"flex",flexFlow:"col"}},p.a.createElement(h.a,{className:"btn-block btn-orange",onClick:function(){return e.setState({colorLock:!e.state.colorLock})}},p.a.createElement("span",{className:"pull-left"},"Colors"),p.a.createElement("span",{className:this.state.colorLock?"fa fa-lock pull-right":"fa fa-lock-open pull-right"})),p.a.createElement("div",null,p.a.createElement("div",{style:t.swatch,onClick:this.handleClick1},p.a.createElement("div",{style:t.color})),this.state.displayColorPicker1?p.a.createElement("div",{style:t.popover},p.a.createElement("div",{style:t.cover,onClick:this.handleClose1}),p.a.createElement(w.a,{user:this.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:this.state.seedColor1,onChange:function(t){e.setState({seedColor1:t.hex})}})):null),p.a.createElement("div",null,p.a.createElement("div",{style:a.swatch,onClick:this.handleClick2},p.a.createElement("div",{style:a.color})),this.state.displayColorPicker2?p.a.createElement("div",{style:a.popover},p.a.createElement("div",{style:a.cover,onClick:this.handleClose2}),p.a.createElement(w.a,{user:this.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:this.state.seedColor2,onChange:function(t){e.setState({seedColor2:t.hex})}})):null)),p.a.createElement(_.a,{className:"text-right",xs:6},p.a.createElement(h.a,{disabled:this.state.computing,onClick:this.applyChanges,className:"btn-orange"},"Apply Changes"))),p.a.createElement(g.a,null,this.state.computing?p.a.createElement(_.a,{xs:12},p.a.createElement("div",{style:{width:"100%",height:300}},p.a.createElement(b.a,{show_loader:!0,style:{}}))):this.state.data.map(function(t){return p.a.createElement(_.a,{xs:4,style:{textAlign:"center"}},p.a.createElement("div",{onClick:function(){return e.styleOnClick(t)},style:{cursor:"pointer",height:250,width:250,margin:"auto",backgroundColor:"#f1f2f3",marginTop:10,verticalAlign:"middle",display:"inline-flex"}},p.a.createElement(f.a,{style:{maxHeight:250,margin:"auto",display:"block",verticalAlign:"middle",maxWidth:"100%",objectFit:"contain"},src:t.src})))}))),p.a.createElement(m.a.Footer,null,p.a.createElement("div",null)))}}]),t}(u.Component);t.a=E},715:function(e,t,a){"use strict";var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).setDesignStatusText=function(e){a.setState({designStatusText:e})},a.state={designStatusText:"All changes saved"},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.setDesignStatusText=this.setDesignStatusText}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.a.createElement("span",{className:"design_save_status_text",style:{float:"left",marginLeft:"10px",marginTop:"3px",paddingTop:"8px",marginRight:"20px"}},this.state.designStatusText," \xa0\xa0")}}]),t}(l.Component);t.a=d},716:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(104),g=function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).set_value=function(e,a,n){var r,i=t.props.design_selection;i&&("background"==i.class_type?r=window.design_editor.active_page.background.labels:i.get_parent("box")&&i.get_parent("box").image?r=i.get_parent("box").image.labels:"image"!==i.type&&"text"!==i.type||(r=i.labels)),r&&(r[e]=a),t.setState({})},t.getOption=function(e){for(var a=0;a<t.state.text_options.length;a++)if(t.state.text_options[a].value===e)return t.state.text_options[a];for(a=0;a<t.state.image_options.length;a++)if(t.state.image_options[a].value===e)return t.state.image_options[a];return""},t.set_state=function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return t.setState(a,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.state={text_options:[],image_options:[]},t}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch(e.config.server_path+"tag/get_all_labels",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){if(1===e.response_code){for(var a=e.data,n=[],r=[],i=0;i<a.length;i++)"image"===a[i].type?r.push({label:a[i].name,value:a[i]._id}):"text"===a[i].type&&n.push({label:a[i].name,value:a[i]._id});t.setState({text_options:n,image_options:r})}})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=p.a.createElement("div",null);if(this.props.label_rules){var a,n=this.props.label_rules,r=this.props.design_selection;r&&("background"==r.class_type?a=window.design_editor.active_page.background.labels:r.get_parent("box")&&r.get_parent("box").image?a=r.get_parent("box").image.labels:"image"!==r.type&&"text"!==r.type||(a=r.labels)),"text"===n&&(t=p.a.createElement("div",{style:{width:"150px"}},p.a.createElement(m.b,{placeholder:"text label...",value:a?this.getOption(a.text):"",options:this.state.text_options,onChange:function(t){e.set_value("text",t.value)}}))),"image"===n&&(t=p.a.createElement("div",{style:{width:"150px"}},p.a.createElement(m.b,{placeholder:"image label...",value:a?this.getOption(a.image):"",options:this.state.image_options,onChange:function(t){e.set_value("image",t.value)}})))}return p.a.createElement("div",{style:{display:"inline-flex",fontSize:"small",fontWeight:"lighter"}},t)}}]),a}(u.Component);t.a=g}).call(this,a(40))},717:function(e,t,a){"use strict";var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(1409),u=a(1410),p=function(e){function t(e){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.a.createElement(d.a,{className:"d-flex align-items-center",style:{padding:5,backgroundColor:"#F1F2F3",zIndex:1010}},c.a.createElement(u.a,{xs:6,style:{display:"inline"}}),this.props._rhs_options_panel(6,!0))}}]),t}(l.Component);t.a=p},718:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(20),g=a(39),_=a(1409),h=a(1410),f=a(101),b=a(314),v=a(203),y=(a(191),a(109)),w=a(81),E=a.n(w),x=a(171),k=a(98),O=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).handleLabelChange=function(e){n.setState({bulk_edit_label_temp:e.target.value})},n.handleSpaceBar=function(e){" "==e.key&&(e.preventDefault(),e.stopPropagation(),n.setState({bulk_edit_label_temp:n.state.bulk_edit_label_temp+" "}))},n.get_current_label=function(){if(n.props.design_selection&&n.props.design_selection.user_labels&&n.props.design_selection.user_labels.image){var e=n.props.design_selection.user_labels.image,t=window.design_editor.design.bulk_edit_data.labels.find(function(t){return t.id==e});if(t)return t.text}return""},n.bulk_edit_on_click=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return""==n.get_current_label()&&""!=n.state.bulk_edit_label_temp&&(n.props.design_selection&&n.props.design_selection.user_labels&&void 0!=n.props.design_selection.user_labels.image&&(t=window.utils.uuidv4(),window.design_editor.design.bulk_edit_data.labels.push({id:t,text:n.state.bulk_edit_label_temp,assigned:[n.props.design_selection.id],selected:!0,type:"image"}),n.props.design_selection.user_labels.image=t,window.design_editor.addUndoChange()),n.setState({})),e.next=3,n.props.switch_nav_tab("");case 3:return e.next=5,n.props.switch_nav_tab("bulk_edit");case 5:case"end":return e.stop()}},e,this)})),n.bulk_edit_toggle=function(e,t){"text"!=t.target.type&&n.setState({bulk_edit_open:e})},n.handleClickIconColorPicker=function(e){var t=e.target.getAttribute("icon_cp_index"),a=n.state.icon_colorpicker_display;a[t]=!a[t],n.setState({icon_colorpicker_display:a})},n.handleCloseIconColorPicker=function(e){var t=e.target.getAttribute("icon_cp_index"),a=n.state.icon_colorpicker_display;a[t]=!1,n.setState({icon_colorpicker_display:a})},n.IconColorPickers=function(){var e=[];if(n.props.design_selection&&"icon"==n.props.design_selection.sub_type)for(var t=n.props.design_selection.image_details.svg_colors,a=function(a){if(5==a)return"continue";i=E()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",backgroundColor:t[a].color?t[a].color:"#000000"},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}}),o=p.a.createElement("div",{key:a,style:{marginLeft:"5px"}},p.a.createElement("div",{icon_cp_index:a,style:i.swatch,onClick:n.handleClickIconColorPicker},p.a.createElement("div",{icon_cp_index:a,style:i.color})),n.state.icon_colorpicker_display[a]?p.a.createElement("div",{style:i.popover},p.a.createElement("div",{icon_cp_index:a,style:i.cover,onClick:n.handleCloseIconColorPicker}),p.a.createElement(y.a,{user:n.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:i.color.backgroundColor,onChange:function(e){n.props.update_inputs_image(e,"svg_color_"+a)}})):null),e.push(o)},r=0;r<t.length;r++){var i,o;a(r)}return e},n.Dropdown_trigger=function(t){var a=t.toggle_dropdown;return p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}))},n.Dropdown_dropper=function(){return p.a.createElement("ul",{className:"toolbar-dropdown"},p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.update_inputs_image(e,"flip_horizontal")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_horizontally.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Horizontal")),p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.update_inputs_image(e,"flip_vertical")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Vertical")))},n.Enhance_Dropdown_trigger=function(t){var a=t.toggle_dropdown;return p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_enhance.svg"}))},n.Enhance_Dropdown_dropper=function(){return p.a.createElement("ul",{className:"toolbar-dropdown"},p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.switch_nav_tab("filters")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_filter.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Filter                               ")),p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:n.props.adjustmentPanelOnclick},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_brightnesscontrast.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Adjustment")),p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:n.props.shadowsPanelOnClick},p.a.createElement("span",{className:"toolbar-dropdown-text"},"Shadows")))},n.state={icon_colorpicker_display:[],bulk_edit_label_temp:"",bulk_edit_open:!1},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({bulk_edit_label_temp:""})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return p.a.createElement(_.a,{className:"d-flex align-items-center",style:{padding:5,backgroundColor:"#F1F2F3",zIndex:1010}},p.a.createElement(h.a,{xs:6,style:{display:"flex",flexFlow:"row",paddingRight:"0",zIndex:"10000"}},this.props.design_selection&&"mockup"==this.props.design_selection.sub_type?p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.edit_mockup},p.a.createElement(m.a,{className:"btn-toolbar",onClick:this.props.mockupEditorPanelOnclick,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/Mockup.svg"}))):"",p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.photo_editor},p.a.createElement("div",null,p.a.createElement(x.a,{Trigger:this.Enhance_Dropdown_trigger,Dropper:this.Enhance_Dropdown_dropper}))),p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.crop},p.a.createElement(m.a,{className:"btn-toolbar",onClick:this.props.enter_crop_mode,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/crop_temp.svg"}))),p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.flip},p.a.createElement("div",null,p.a.createElement(x.a,{Trigger:this.Dropdown_trigger,Dropper:this.Dropdown_dropper}))),p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.bg_removal},p.a.createElement(m.a,{className:"btn-toolbar",onClick:this.props.toggle_background_removal,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:this.props.design_selection&&this.props.design_selection.bgremoval.enabled?e.config.static_file_server_path+"uploads/icons/image_bg_remove_cancel.svg":e.config.static_file_server_path+"uploads/icons/image_bg_remove.svg"}))),""!=e.config.application_env&&p.a.createElement(f.a,{delayShow:400,placement:"bottom",overlay:k.a.animate},p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return t.props.animateOnClick("element")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:null}),"Animate")),p.a.createElement(this.IconColorPickers,null),p.a.createElement(b.a,{pullLeft:!0,className:"btn-toolbar",style:{marginRight:"5px"},title:"Bulk Label",open:this.state.bulk_edit_open,onToggle:this.bulk_edit_toggle},p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},p.a.createElement(_.a,null,p.a.createElement(h.a,{xs:2},p.a.createElement(g.a,{style:{height:30,float:"right"},src:e.config.static_file_server_path+"uploads/icons/Photos.svg"})),p.a.createElement(h.a,{xs:10,style:{paddingLeft:0,paddingRight:0}},""==this.get_current_label()?p.a.createElement("input",{key:"create_new_label",value:this.state.bulk_edit_label_temp,style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",type:"text",onKeyUp:function(e){return t.handleSpaceBar(e)},onChange:function(e){return t.handleLabelChange(e)}}):p.a.createElement("input",{key:"manage_labels",style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Manage Labels",value:this.get_current_label(),type:"text",disabled:!0})))),p.a.createElement(v.a,{className:"disable-hover-bg",style:{display:"flex",justifyContent:"center",paddingTop:"10px",paddingBottom:"10px"},draggable:"false"},p.a.createElement(m.a,{onClick:this.bulk_edit_on_click,className:"btn btn-sm btn-block btn-orange",style:{textAlign:"center"}},""!=this.get_current_label()?"Manage Labels":" OK ")))),this.props._rhs_options_panel())}}]),a}(u.Component);t.a=O}).call(this,a(40))},721:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(1409),g=a(1410),_=a(20),h=a(811),f=a(434),b=a(314),v=a(203),y=a(101),w=a(39),E=a(104),x=(a(191),a(109)),k=a(81),O=a.n(k),S=a(98),C=function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).handleLabelChange=function(e){t.setState({bulk_edit_label_temp:e.target.value})},t.handleSpaceBar=function(e){" "==e.key&&(e.preventDefault(),e.stopPropagation(),t.setState({bulk_edit_label_temp:t.state.bulk_edit_label_temp+" "}))},t.get_current_label=function(){if(t.props.design_selection&&t.props.design_selection.user_labels&&t.props.design_selection.user_labels.text){var e=t.props.design_selection.user_labels.text,a=window.design_editor.design.bulk_edit_data.labels.find(function(t){return t.id==e});if(a)return a.text}return""},t.bulk_edit_on_click=Object(i.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return""==t.get_current_label()&&""!=t.state.bulk_edit_label_temp&&(t.props.design_selection&&t.props.design_selection.user_labels&&void 0!=t.props.design_selection.user_labels.text&&(a=window.utils.uuidv4(),window.design_editor.design.bulk_edit_data.labels.push({id:a,text:t.state.bulk_edit_label_temp,assigned:[t.props.design_selection.id],selected:!0,type:"text"}),t.props.design_selection.user_labels.text=a,window.design_editor.addUndoChange()),t.setState({})),e.next=3,t.props.switch_nav_tab("");case 3:return e.next=5,t.props.switch_nav_tab("bulk_edit");case 5:case"end":return e.stop()}},e,this)})),t.bulk_edit_toggle=function(e,a){"text"!=a.target.type&&t.setState({bulk_edit_open:e})},t.handleClick=function(){t.setState({displayColorPicker:!t.state.displayColorPicker})},t.handleClose=function(){t.setState({displayColorPicker:!1})},t.get_align_button_number=function(){return t.props.design_selection&&t.props.design_selection.text_details.textAlign?"left"==t.props.design_selection.text_details.textAlign?"fa fa-align-left":"center"==t.props.design_selection.text_details.textAlign?"fa fa-align-center":(t.props.design_selection.text_details.textAlign,"fa fa-align-right"):"fa fa-align-left"},t.state={displayColorPicker:!1,text_color:"#000000",bulk_edit_label_temp:"",bulk_edit_open:!1},t}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({bulk_edit_label_temp:""})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this,a=O()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:this.props.design_selection?this.props.design_selection.text_details.fontColor:"#ff0000"},swatch:{padding:"2.5px",borderRadius:"15px",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement(m.a,{style:{backgroundColor:"#F1F2F3",paddingTop:5,paddingBottom:5,zIndex:1010}},p.a.createElement(g.a,{xs:7,style:{display:"flex",flexFlow:"row",zIndex:"10000"}},p.a.createElement("div",{style:{marginRight:"5px"}},p.a.createElement("div",{style:a.swatch,onClick:this.handleClick},p.a.createElement("div",{style:a.color})),this.state.displayColorPicker?p.a.createElement("div",{style:a.popover},p.a.createElement("div",{style:a.cover,onClick:this.handleClose}),p.a.createElement(x.a,{user:this.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:this.props.design_selection?this.props.design_selection.text_details.fontColor:"#000000",onChange:function(e){t.props.update_inputs_text(e,"color")}})):null),p.a.createElement(_.a,{style:{fontFamily:this.props.design_selection&&"text"==this.props.design_selection.type?this.props.design_selection.text_details.font:"",boxShadow:"none",background:"white",minWidth:"100px",height:36,marginRight:"5px"},onClick:function(e){return t.props.switch_nav_tab("fonts")}},this.props.design_selection&&"text"==this.props.design_selection.type?this.props.design_selection.text_details.font:"",p.a.createElement("span",{style:{float:"right",marginTop:7},className:"caret"})),p.a.createElement(E.a,{label:"Single select",options:this.props._font_sizes,defaultValue:this.props._font_sizes[2],styles:this.props._font_styles,value:this.props.design_selection?{label:Math.floor(this.props.design_selection.text_details.fontSize),value:this.props.design_selection.text_details.fontSize}:"",onChange:function(e){t.props.update_inputs_text(e,"fontSize")},isValidNewOption:function(e,a,n){return!isNaN(Number(e))&&0!=Number(e)&&!t.props._font_sizes.find(function(t){return t.value==e})},formatCreateLabel:function(e,t,a){return e}}),p.a.createElement(h.a,{type:"checkbox",style:{marginRight:"3px"},onChange:function(e){t.props.update_inputs_text(e,"bold")},value:this.props.design_selection&&this.props.design_selection.text_details.bold?[1]:[]},p.a.createElement(f.a,{value:1,className:"btn-toolbar"},p.a.createElement("span",{className:"fas fa-bold",style:{verticalAlign:"bottom"}}))),p.a.createElement(h.a,{type:"checkbox",style:{marginRight:"3px"},onChange:function(e){t.props.update_inputs_text(e,"italic")},value:this.props.design_selection&&this.props.design_selection.text_details.italic?[1]:[]},p.a.createElement(f.a,{value:1,className:"btn-toolbar"},p.a.createElement("span",{className:"fas fa-italic",style:{verticalAlign:"bottom"}}))),p.a.createElement(_.a,{className:"btn-toolbar btn-toolbar-square",style:{marginRight:"5px",backgroundImage:"none",border:"none"},onClick:function(e){t.props.update_inputs_text("","textAlign")}},p.a.createElement("span",{className:this.get_align_button_number()})),p.a.createElement(b.a,{pullLeft:!0,className:"btn-toolbar",style:{marginRight:"5px"},title:"Spacing"},p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},p.a.createElement("div",{style:{display:"flex",flexFlow:"row"}},p.a.createElement("p",{style:{margin:"auto",display:"block"}},"Letter Spacing"),p.a.createElement("div",null,p.a.createElement("input",{style:{paddingLeft:"10px",paddingRight:"10px"},className:"disable-hover-bg",type:"range",min:"-30",max:"30",id:"letter_space_slider",onChange:function(e){t.props.update_inputs_text(e.target.value,"letterSpacing")},value:this.props.design_selection&&this.props.design_selection.text_details.letterSpacing?String(this.props.design_selection.text_details.letterSpacing):"0"})),p.a.createElement("p",{style:{margin:"auto",display:"block"}},this.props.design_selection&&this.props.design_selection.text_details.letterSpacing?String(Math.round(this.props.design_selection.text_details.letterSpacing)):"0"))),p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px"},draggable:"false"},p.a.createElement("div",{style:{display:"flex",flexFlow:"row"}},p.a.createElement("p",{style:{margin:"auto",display:"block"}},"Line Height"),p.a.createElement("div",null,p.a.createElement("input",{style:{paddingLeft:"10px",paddingRight:"10px"},className:"disable-hover-bg",type:"range",min:"-30",max:"30",id:"line_height_slider",onChange:function(e){t.props.update_inputs_text(e.target.value,"lineHeight")},value:this.props.design_selection&&this.props.design_selection.text_details.lineHeight?String(this.props.design_selection.text_details.lineHeight):"0"})),p.a.createElement("p",{style:{margin:"auto",display:"block"}},this.props.design_selection&&this.props.design_selection.text_details.lineHeight?String(Math.round(this.props.design_selection.text_details.lineHeight)):"0")))),p.a.createElement(_.a,{className:"btn-toolbar",style:{marginLeft:"5px"},onClick:this.props.textEffectsPanelOnclick},"Effects"),""!=e.config.application_env&&p.a.createElement(y.a,{delayShow:400,placement:"bottom",overlay:S.a.animate},p.a.createElement(_.a,{className:"btn-toolbar",onClick:function(){return t.props.animateOnClick("text")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(w.a,{style:{height:20},src:null}),"Animate")),p.a.createElement(b.a,{pullLeft:!0,className:"btn-toolbar",style:{marginRight:"5px"},title:"Bulk Label",open:this.state.bulk_edit_open,onToggle:this.bulk_edit_toggle},p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},p.a.createElement(m.a,null,p.a.createElement(g.a,{xs:2},p.a.createElement(w.a,{style:{height:30,float:"right"},src:e.config.static_file_server_path+"uploads/icons/Text.svg"})),p.a.createElement(g.a,{xs:10,style:{paddingLeft:0,paddingRight:0}},""==this.get_current_label()?p.a.createElement("input",{key:"create_new_label",value:this.state.bulk_edit_label_temp,style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",type:"text",onKeyUp:function(e){return t.handleSpaceBar(e)},onChange:function(e){return t.handleLabelChange(e)}}):p.a.createElement("input",{key:"manage_labels",style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",value:this.get_current_label(),type:"text",disabled:!0})))),p.a.createElement(v.a,{className:"disable-hover-bg",style:{display:"flex",justifyContent:"center",paddingTop:"10px",paddingBottom:"10px"},draggable:"false"},p.a.createElement(_.a,{onClick:this.bulk_edit_on_click,className:"btn btn-sm btn-block btn-orange",style:{textAlign:"center"}},""!=this.get_current_label()?"Manage Labels":" OK ")))),this.props._rhs_options_panel(5))}}]),a}(u.Component);t.a=C}).call(this,a(40))},722:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(20),g=a(39),_=a(101),h=a(1409),f=a(1410),b=a(314),v=a(203),y=a(81),w=a.n(y),E=a(171),x=a(98),k=a(109),O=(p.a.forwardRef(function(e,t){var a=e.children,n=e.onClick;return p.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,"\u25bc")}),function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).handleLabelChange=function(e){n.setState({bulk_edit_label_temp:e.target.value})},n.handleSpaceBar=function(e){" "==e.key&&(e.preventDefault(),e.stopPropagation(),n.setState({bulk_edit_label_temp:n.state.bulk_edit_label_temp+" "}))},n.get_current_label=function(){if(n.props.design_selection&&"background"==n.props.design_selection.class_type&&window.design_editor.active_page.background.user_labels&&window.design_editor.active_page.background.user_labels.image){var e=window.design_editor.active_page.background.user_labels.image,t=window.design_editor.design.bulk_edit_data.labels.find(function(t){return t.id==e});if(t)return t.text}return""},n.bulk_edit_on_click=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return""==n.get_current_label()&&""!=n.state.bulk_edit_label_temp&&(n.props.design_selection&&"background"==n.props.design_selection.class_type&&(window.design_editor.active_page.background,t=window.utils.uuidv4(),window.design_editor.design.bulk_edit_data.labels.push({id:t,text:n.state.bulk_edit_label_temp,assigned:[n.props.design_selection.id],selected:!0,type:"image"}),n.props.design_selection.user_labels.image=t,window.design_editor.addUndoChange()),n.setState({})),e.next=3,n.props.switch_nav_tab("");case 3:return e.next=5,n.props.switch_nav_tab("bulk_edit");case 5:case"end":return e.stop()}},e,this)})),n.bulk_edit_toggle=function(e,t){"text"!=t.target.type&&n.setState({bulk_edit_open:e})},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.get_color_picker=function(){var t=w()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:n.props.design_editor?n.props.design_editor.active_page.background.image_exists()?"#ffffff":n.props.design_editor.active_page.background.background_color:"#999999"},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return n.props.design_editor&&n.props.design_editor.active_page&&!n.props.design_editor.active_page.background.image_exists()?p.a.createElement("div",{style:{marginRight:"5px"}},p.a.createElement("div",{style:t.swatch,onClick:n.handleClick},p.a.createElement("div",{style:t.color})),n.state.displayColorPicker?p.a.createElement("div",{style:t.popover},p.a.createElement("div",{style:t.cover,onClick:n.handleClose}),p.a.createElement(k.a,{presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:n.props.design_editor?n.props.design_editor.active_page.background.background_color:"#999999",onChange:function(e){n.props.update_inputs_background(e,"color")},user:n.props.user})):null):n.props.design_editor&&n.props.design_editor.active_page&&n.props.design_editor.active_page.background.image_exists()?p.a.createElement(p.a.Fragment,null,"mockup"==n.props.design_editor.active_page.background_sub_type?p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.edit_mockup},p.a.createElement(m.a,{className:"btn-toolbar",onClick:n.props.mockupEditorPanelOnclick,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/Mockup.svg"}))):"",p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.photo_editor},p.a.createElement("div",null,p.a.createElement(E.a,{Trigger:function(t){var a=t.toggle_dropdown;return p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_enhance.svg"}))},Dropper:function(){return p.a.createElement("ul",{className:"toolbar-dropdown"},p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.switch_nav_tab("filters")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_filter.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Filter                               ")),p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:n.props.adjustmentPanelOnclick},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/image_brightnesscontrast.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Adjustment")))}})))):p.a.createElement("div",null)},n.Dropdown_trigger=function(t){var a=t.toggle_dropdown;return p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return a()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}))},n.Dropdown_dropper=function(){return p.a.createElement("ul",{className:"toolbar-dropdown"},p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.update_inputs_background(e,"flip_horizontal")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_horizontally.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Horizontal")),p.a.createElement("li",{className:"toolbar-dropdown-item",onClick:function(e){n.props.update_inputs_background(e,"flip_vertical")}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/flip_vertically.svg"}),p.a.createElement("span",{className:"toolbar-dropdown-text"},"Flip Vertical")))},n.AnimationTimerIcon=function(){return p.a.createElement(m.a,{className:"btn-toolbar",style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement("i",{className:"far fa-clock fa-lg",style:{marginRight:5}}),window.design_editor.active_page.animation_duration+"s")},n.isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},n.animationDurationOnChange=function(e){n.isValidInput(e.target.value,1,30)&&(console.log("Setting input -> ",e.target.value),n.setState({animationDuration:e.target.value}),n.setAnimationDuration(e.target.value))},n.setAnimationDuration=function(e){window.design_editor.active_page.animation_duration=e},n.state={displayColorPicker:!1,animationDuration:5,bulk_edit_label_temp:"",bulk_edit_open:!1},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){window.design_editor&&window.design_editor.active_page&&this.setState({animationDuration:window.design_editor.active_page.animation_duration}),this.setState({bulk_edit_label_temp:""})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return p.a.createElement(h.a,{className:"d-flex align-items-center",style:{padding:5,backgroundColor:"#F1F2F3",zIndex:1010}},p.a.createElement(f.a,{xs:6,style:{display:"flex",flexFlow:"row",zIndex:"10000"}},this.get_color_picker(),window.design_editor.active_page.background.image_exists()&&p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.crop},p.a.createElement(m.a,{className:"btn-toolbar",onClick:this.props.enter_crop_mode,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:e.config.static_file_server_path+"uploads/icons/crop_temp.svg"}))),window.design_editor.active_page.background.image_exists()&&p.a.createElement(p.a.Fragment,null,p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.flip},p.a.createElement("div",null,p.a.createElement(E.a,{Trigger:this.Dropdown_trigger,Dropper:this.Dropdown_dropper}))),p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.bg_removal},p.a.createElement(m.a,{className:"btn-toolbar",onClick:this.props.toggle_background_removal,style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:window.design_editor.active_page.background.bgremoval.enabled?e.config.static_file_server_path+"uploads/icons/image_bg_remove_cancel.svg":e.config.static_file_server_path+"uploads/icons/image_bg_remove.svg"})))),""!=e.config.application_env&&p.a.createElement(_.a,{delayShow:400,placement:"bottom",overlay:x.a.animate},p.a.createElement(m.a,{className:"btn-toolbar",onClick:function(){return t.props.animateOnClick("page")},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},p.a.createElement(g.a,{style:{height:20},src:null}),"Animate")),window.design_editor.design.isAnimated()?p.a.createElement(b.a,{pullLeft:!0,className:"btn-toolbar anim-timer-btn",style:{marginRight:"5px"},title:p.a.createElement(this.AnimationTimerIcon,null)},p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},p.a.createElement("div",{style:{display:"flex",flexFlow:"row"}},p.a.createElement("p",{style:{margin:"auto",display:"block",marginRight:5,width:"20%"}},"Timing"),p.a.createElement("div",{style:{width:"70%",marginRight:5}},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"contrast",min:"0.1",max:"30",value:this.state.animationDuration,onChange:function(e){return t.animationDurationOnChange(e)}})),p.a.createElement("div",{style:{width:"10%"}},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"contrast",onChange:function(e){return t.animationDurationOnChange(e)},value:this.state.animationDuration}))))):null,p.a.createElement(b.a,{pullLeft:!0,className:"btn-toolbar",style:{marginRight:"5px"},title:"Bulk Label",open:this.state.bulk_edit_open,onToggle:this.bulk_edit_toggle},p.a.createElement(v.a,{className:"disable-hover-bg",style:{paddingTop:"10px",paddingBottom:"10px",width:"300px"},draggable:"false"},p.a.createElement(h.a,null,p.a.createElement(f.a,{xs:2},p.a.createElement(g.a,{style:{height:30,float:"right"},src:e.config.static_file_server_path+"uploads/icons/Photos.svg"})),p.a.createElement(f.a,{xs:10,style:{paddingLeft:0,paddingRight:0}},""==this.get_current_label()?p.a.createElement("input",{key:"create_new_label",value:this.state.bulk_edit_label_temp,style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",type:"text",onKeyUp:function(e){return t.handleSpaceBar(e)},onChange:function(e){return t.handleLabelChange(e)}}):p.a.createElement("input",{key:"manage_labels",style:{border:"1px solid grey",width:"100%",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0},placeholder:"Enter a label",value:this.get_current_label(),type:"text",disabled:!0})))),p.a.createElement(v.a,{className:"disable-hover-bg",style:{display:"flex",justifyContent:"center",paddingTop:"10px",paddingBottom:"10px"},draggable:"false"},p.a.createElement(m.a,{onClick:this.bulk_edit_on_click,className:"btn btn-sm btn-block btn-orange",style:{textAlign:"center"}},""!=this.get_current_label()?"Manage Labels":" OK ")))),p.a.createElement(f.a,{xs:6,className:"text-right",style:{display:"inline"}}))}}]),a}(u.Component));t.a=O}).call(this,a(40))},723:function(e,t,a){"use strict";var n=a(9),r=a(6),i=a.n(r),o=a(15),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(0),m=a.n(p),g=a(1409),_=a(1410),h=a(20),f=(a(282),a(69)),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).set_state=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},a.updateFields=function(e){var t={};for(var a in e)void 0!=this.state[a]&&(t[a]=e[a]);this.setState(t)},a.handleFiltersOnChange=function(e){var t=-100;if("vignette"===e.target.name&&(t=0),a.isValidInput(e.target.value,t,100)){a.set_state(Object(n.a)({},e.target.name,e.target.value));var r={};r[[e.target.name]]=Number(e.target.value),a.props.apply_filter_adjustments(r)}},a.hideResetBtn=function(){return 0==a.state.brightness&&0==a.state.contrast&&0==a.state.saturation&&0==a.state.tint&&0==a.state.blur&&0==a.state.x_process&&0==a.state.vignette},a.resetInputs=function(){var e={brightness:0,contrast:0,saturation:0,tint:0,blur:0,x_process:0,vignette:0};a.setState(e),a.props.apply_filter_adjustments(e)},a.sanitizeFilterValues=function(e){return""!=e?parseInt(e,10):0},a.convertDecimalToHexCode=function(e,t){return(e+t).toString(16).padStart(2,"0")},a.getFilterCode=function(){return a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.brightness),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.contrast),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.saturation),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.tint),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.blur),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.x_process),100)+a.convertDecimalToHexCode(a.sanitizeFilterValues(a.state.vignette),0)},a.applyFilterCode=function(){try{console.log("success")}catch(e){f.toastr.error("That filter code is invalid. Please check it was copied and pasted correctly and try again.")}},a.state={brightness:0,contrast:0,saturation:0,tint:0,blur:0,x_process:0,vignette:0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:12,style:{borderBottom:"1px solid #cccccc",display:"table",marginBottom:20,paddingTop:5,paddingBottom:5}},m.a.createElement("span",{style:{textAlign:"left",fontWeight:300,verticalAlign:"middle",display:"table-cell",height:40,fontSize:"1.4rem",cursor:"pointer"}}),this.hideResetBtn()?null:m.a.createElement(h.a,{onClick:this.resetInputs,className:"btn-toolbar",style:{float:"right",fontWeight:700}},"Reset")),m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Brightness"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"brightness",min:"-100",max:"100",value:this.state.brightness,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"brightness",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.brightness}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Contrast"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"contrast",min:"-100",max:"100",value:this.state.contrast,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"contrast",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.contrast}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Saturation"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"saturation",min:"-100",max:"100",value:this.state.saturation,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"saturation",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.saturation}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Tint"),m.a.createElement(_.a,{xs:7,className:"random-cls"},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"tint",min:"-100",max:"100",value:this.state.tint,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"tint",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.tint}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Blur"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"blur",min:"-100",max:"100",value:this.state.blur,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"blur",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.blur}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Vignette"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"vignette",min:"0",max:"100",value:this.state.vignette,onChange:function(t){return e.handleFiltersOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"vignette",onChange:function(t){return e.handleFiltersOnChange(t)},value:this.state.vignette}))))}}]),t}(p.Component);t.a=b},724:function(e,t,a){"use strict";var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(6),c=a.n(l),d=a(15),u=a(0),p=a.n(u),m=a(1409),g=a(1410),_=a(20),h=(a(191),a(109)),f=a(81),b=a.n(f),v=(a(282),a(90)),y=a(197),w=[{src:"uploads/text_effects/glow_soft.png",value:{stroke:!1,strokeSize:5,strokeColor:"#000000",glow:!0,glowColor:"#FF841F",glowIntensity:50,glowOpacity:1,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:2,theta:116,blur:2,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/glow_medium.png",value:{stroke:!1,strokeSize:5,strokeColor:"#000000",glow:!0,glowColor:"#FF841F",glowIntensity:25,glowOpacity:1,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:2,theta:116,blur:2,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/stroke_medium.png",value:{stroke:!0,strokeSize:3,strokeColor:"#000000",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:1,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:2,theta:116,blur:2,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/stroke_thick.png",value:{stroke:!0,strokeSize:5,strokeColor:"#000000",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:1,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:2,theta:116,blur:2,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/shadow_soft.png",value:{stroke:!1,strokeSize:5,strokeColor:"#000000",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:1,shadow:!0,shadows:[{shadowColor:"#aaaaaa",r:.9,theta:30,blur:5,opacity:.7}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/shadow_hard.png",value:{stroke:!1,strokeSize:5,strokeColor:"#000000",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:1,shadow:!0,shadows:[{shadowColor:"#aaaaaa",r:.9,theta:30,blur:0,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/stroke_glow.png",value:{stroke:!0,strokeSize:3.25,strokeColor:"#000000",glow:!0,glowColor:"#FF841F",glowIntensity:30,glowOpacity:1,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:2,theta:116,blur:2,opacity:1}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}},{src:"uploads/text_effects/stroke_shadow.png",value:{stroke:!0,strokeSize:3.25,strokeColor:"#000000",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:1,shadow:!0,shadows:[{shadowColor:"#aaaaaa",r:.9,theta:30,blur:5,opacity:.8}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1}}];window.crop_presets=Object(d.a)(c.a.mark(function e(){var t,a,n,r,i,o,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<w.length)){e.next=19;break}return e.next=4,window.loadStaticImage(w[t].src);case 4:a=e.sent,n=window.document.createElement("canvas"),r=.35*a.width,i=.35*a.height,n.width=r,n.height=i,o=n.getContext("2d"),s=(a.width-r)/2,l=(a.height-i)/2,o.drawImage(a,-s,-l,a.width,a.height),window.open().document.write('<iframe src="'+n.toDataURL()+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>');case 16:t++,e.next=1;break;case 19:case"end":return e.stop()}},e,this)}));var E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).set_state=function(){var e=Object(d.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},a.apply_text_effect_preset=function(e){var t=JSON.parse(JSON.stringify(e.value));t.shadows[0].opacity*=100,t.shadows[0].r*=20,t.shadows[0].blur*=20,t.glowOpacity*=100,t.strokeSize*=20,a.set_state(t),a.props.apply_text_effects(e.value)},a.strokeOnClick=function(){var e={stroke:!a.state.stroke};a.set_state(e),a.props.apply_text_effects(e)},a.shadowOnClick=function(){var e={shadow:!a.state.shadow};a.set_state(e),a.props.apply_text_effects(e)},a.glowOnClick=function(){var e={glow:!a.state.glow};a.set_state(e),a.props.apply_text_effects(e)},a.updateFields=function(e){var t={};for(var a in e)if(void 0!=this.state[a])if("shadows"==a){for(var n=JSON.parse(JSON.stringify(e[a])),r=0;r<n.length;r++)n[r].opacity*=100,n[r].r*=20,n[r].blur*=20;t[a]=n}else t[a]="glowOpacity"==a?100*e[a]:"strokeSize"==a?20*e[a]:e[a];this.setState(t)},a.handleTextEffectsOnChange=function(e){var t=0,n=100;if("shadows0_theta"===e.target.name&&(t=-180,n=180),e.target.name.includes("olor")||a.isValidInput(e.target.value,t,n)){var r=e.target.name,i=e.target.value;if(r.includes("shadows0_")){var o=i;"opacity"==(r=r.split("shadows0_")[1])&&(o/=100),"r"==r&&(o/=20),"blur"==r&&(o/=20),(s={}).shadows=a.state.shadows,s.shadows[0][[r]]=i,(l=JSON.parse(JSON.stringify(s))).shadows[0].r/=20,l.shadows[0].blur/=20,l.shadows[0].opacity/=100,a.set_state(s),a.props.apply_text_effects(l)}else{var s,l;o=i;"glowOpacity"==r&&(o/=100),"strokeSize"==r&&(o/=20),(s={})[[r]]=i,(l={})[[r]]=o,a.set_state(s),a.props.apply_text_effects(l)}}},a.hideResetBtn=function(){return 0==a.state.brightness&&0==a.state.contrast&&0==a.state.saturation&&0==a.state.tint&&0==a.state.blur&&0==a.state.x_process&&0==a.state.vignette},a.resetInputs=function(){var e={stroke:!1,strokeSize:40,strokeColor:"#0000ff",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:100,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:40,theta:116,blur:40,opacity:100}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1};a.setState(e);for(var t=JSON.parse(JSON.stringify(e)),n=0;n<t.shadows.length;n++)t.shadows[n].opacity/=100,t.shadows[n].r/=20,t.shadows[n].blur/=20;t.glowOpacity/=100,t.strokeSize/=20,a.props.apply_text_effects(t)},a.handleClickStrokeColorPicker=function(){a.setState({displayStrokeColorPicker:!a.state.displayStrokeColorPicker})},a.handleCloseStrokeColorPicker=function(){a.setState({displayStrokeColorPicker:!1})},a.stroke_dropper=function(){var e=b()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:a.state.strokeColor},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement("div",null,p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Size"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"strokeSize",min:"0",max:"100",value:a.state.strokeSize,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"strokeSize",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.strokeSize}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Color"),p.a.createElement(g.a,{xs:9,className:"adjustment-controls-text",style:{float:"right",paddingTop:0}},p.a.createElement("div",null,p.a.createElement("div",{style:e.swatch,onClick:a.handleClickStrokeColorPicker},p.a.createElement("div",{style:e.color})),a.state.displayStrokeColorPicker?p.a.createElement("div",{style:e.popover},p.a.createElement("div",{style:e.cover,onClick:a.handleCloseStrokeColorPicker}),p.a.createElement(h.a,{user:a.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:e.color.background,onChange:function(e){a.handleTextEffectsOnChange({target:{value:e.hex,name:"strokeColor"}})}})):null))))},a.handleClickShadowColorPicker=function(){a.setState({displayShadowColorPicker:!a.state.displayShadowColorPicker})},a.handleCloseShadowColorPicker=function(){a.setState({displayShadowColorPicker:!1})},a.shadow_dropper=function(){var e=b()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:a.state.shadows[0].shadowColor},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement("div",null,p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Offset"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadows0_r",min:"0",max:"100",value:a.state.shadows[0].r,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadows0_r",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadows[0].r}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Direction"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadows0_theta",min:"-180",max:"180",value:a.state.shadows[0].theta,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadows0_theta",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadows[0].theta}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Blur"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadows0_blur",min:"0",max:"100",value:a.state.shadows[0].blur,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadows0_blur",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadows[0].blur}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Opacity"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadows0_opacity",min:"0",max:"100",value:a.state.shadows[0].opacity,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadows0_opacity",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadows[0].opacity}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Color"),p.a.createElement(g.a,{xs:9,className:"adjustment-controls-text",style:{float:"right",paddingTop:0}},p.a.createElement("div",null,p.a.createElement("div",{style:e.swatch,onClick:a.handleClickShadowColorPicker},p.a.createElement("div",{style:e.color})),a.state.displayShadowColorPicker?p.a.createElement("div",{style:e.popover},p.a.createElement("div",{style:e.cover,onClick:a.handleCloseShadowColorPicker}),p.a.createElement(h.a,{user:a.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:e.color.background,onChange:function(e){a.handleTextEffectsOnChange({target:{value:e.hex,name:"shadows0_shadowColor"}})}})):null))))},a.handleClickGlowColorPicker=function(){a.setState({displayGlowColorPicker:!a.state.displayGlowColorPicker})},a.handleCloseGlowColorPicker=function(){a.setState({displayGlowColorPicker:!1})},a.glow_dropper=function(){var e=b()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:a.state.glowColor},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement("div",null,p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Intensity"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"glowIntensity",min:"0",max:"100",value:a.state.glowIntensity,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"glowIntensity",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.glowIntensity}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Opacity"),p.a.createElement(g.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"glowOpacity",min:"0",max:"100",value:a.state.glowOpacity,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(g.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"glowOpacity",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.glowOpacity}))),p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Color"),p.a.createElement(g.a,{xs:9,className:"adjustment-controls-text",style:{float:"right",paddingTop:0}},p.a.createElement("div",null,p.a.createElement("div",{style:e.swatch,onClick:a.handleClickGlowColorPicker},p.a.createElement("div",{style:e.color})),a.state.displayGlowColorPicker?p.a.createElement("div",{style:e.popover},p.a.createElement("div",{style:e.cover,onClick:a.handleCloseGlowColorPicker}),p.a.createElement(h.a,{user:a.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:e.color.background,onChange:function(e){a.handleTextEffectsOnChange({target:{value:e.hex,name:"glowColor"}})}})):null))))},a.state={stroke:!1,strokeSize:40,strokeColor:"#0000ff",glow:!1,glowColor:"#aaaaaa",glowIntensity:50,glowOpacity:100,shadow:!1,shadows:[{shadowColor:"#aaaaaa",r:40,theta:116,blur:40,opacity:100}],displayStrokeColorPicker:!1,displayShadowColorPicker:!1,displayGlowColorPicker:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(m.a,{style:{marginBottom:10}},p.a.createElement(g.a,{xs:12,style:{borderBottom:"1px solid #cccccc",display:"table",marginBottom:20,paddingTop:5,paddingBottom:5}},p.a.createElement("span",{style:{textAlign:"left",fontWeight:300,verticalAlign:"middle",display:"table-cell",height:40,fontSize:"1.4rem",cursor:"pointer"}}),this.hideResetBtn()?null:p.a.createElement(_.a,{onClick:this.resetInputs,className:"btn-toolbar",style:{float:"right",fontWeight:700}},"Reset"))),p.a.createElement(m.a,null,p.a.createElement(y.a,{Dropper:this.stroke_dropper,show_dropper:this.state.stroke,trigger_on_click:this.strokeOnClick,title:"Stroke"}),p.a.createElement(y.a,{Dropper:this.shadow_dropper,show_dropper:this.state.shadow,trigger_on_click:this.shadowOnClick,title:"Shadow"}),p.a.createElement(y.a,{Dropper:this.glow_dropper,show_dropper:this.state.glow,trigger_on_click:this.glowOnClick,title:"Glow"})),p.a.createElement(m.a,null,p.a.createElement(v.a,{on_click:this.apply_text_effect_preset,image_height:"126px",col_size:6,resources:w})))}}]),t}(u.Component);t.a=E},726:function(e,t,a){"use strict";var n=a(9),r=a(6),i=a.n(r),o=a(15),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(0),m=a.n(p),g=a(1409),_=a(1410),h=a(437),f=a(20),b=(a(282),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).set_state=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.isValidInput=function(e,t,a){return!0},a.updateFields=function(e){var t={};for(var a in e)void 0!=this.state[a]&&(t[a]=e[a]);this.setState(t)},a.handleRangeOnChange=function(e){var t=-100;"vignette"===e.target.name&&(t=0),a.isValidInput(e.target.value,t,100)&&a.set_state(Object(n.a)({},e.target.name,e.target.value))},a.handleCheckboxOnChange=function(){a.set_state({enabled:!a.state.enabled})},a.applyBgRemoval=function(e){if(a.isValidInput(a.state.crf,-100,100)&&a.isValidInput(a.state.matting,-100,100)){var t={crf:a.state.crf,matting:a.state.matting,enabled:a.state.enabled};a.props.apply_background_removal(t)}},a.state={enabled:!0,crf:0,matting:0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:12,style:{display:"table",marginBottom:10,paddingTop:5}}),m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Enabled"),m.a.createElement(_.a,{xs:7,style:{paddingLeft:"40px",marginTop:"-15px"}},m.a.createElement(h.a,{style:{zoom:2},name:"enabled",checked:this.state.enabled,onClick:this.handleCheckboxOnChange,inline:!0})),m.a.createElement(_.a,{xs:2})),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"CRF"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"crf",min:"-100",max:"100",value:this.state.crf,onChange:function(t){return e.handleRangeOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"crf",onChange:function(t){return e.handleRangeOnChange(t)},value:this.state.crf}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:3,className:"adjustment-controls-text"},"Matting"),m.a.createElement(_.a,{xs:7},m.a.createElement("input",{type:"range",className:"adjustment-slider",name:"matting",min:"-100",max:"100",value:this.state.matting,onChange:function(t){return e.handleRangeOnChange(t)}})),m.a.createElement(_.a,{className:"filter-adjustment-col",xs:2},m.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"matting",onChange:function(t){return e.handleRangeOnChange(t)},value:this.state.matting}))),m.a.createElement(g.a,{style:{marginBottom:10}},m.a.createElement(_.a,{xs:12,className:""},m.a.createElement(f.a,{onClick:this.applyBgRemoval,className:"btn btn-orange"},"Apply Changes"))))}}]),t}(p.Component));t.a=b},727:function(e,t,a){"use strict";var n=a(9),r=a(6),i=a.n(r),o=a(15),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(0),m=a.n(p),g=a(409),_=(a(282),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).set_state=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},a.updateFields=function(e){var t={};for(var a in e)void 0!=this.state[a]&&(t[a]=e[a]);return this.set_state(t)},a.handleFiltersOnChange=function(e){var t=-100;if("vignette"===e.target.name&&(t=0),a.isValidInput(e.target.value,t,100)){a.set_state(Object(n.a)({},e.target.name,e.target.value));var r={};r[[e.target.name]]=Number(e.target.value),a.props.apply_mockup_editor(r)}},a.state={mockup:!1,saved_mockup:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,this.state.mockup?m.a.createElement(g.a,{mockup:this.state.mockup,saved_mockup:this.state.saved_mockup,device_type:"tablet",fetch_all_saved_mockups:function(){},user:this.props.user,is_dm:!0,apply_mockup_editor:this.props.apply_mockup_editor}):"")}}]),t}(p.Component));t.a=_},728:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(35),p=a(0),m=a.n(p),g=a(169),_=a(105),h=a(172),f=a(95),b=a(20),v=a(104),y=a(89),w=a.n(y),E=a(90),x=20,k={option:function(e,t){return Object(u.a)({},e,{textAlign:"left",backgroundColor:t.isSelected?"#C8CDD4":t.isFocused?"#F1F2F3":"white"})},menu:function(e,t){return Object(u.a)({},e,{width:"275px"})}},O=new window.Image;O.id="drag_image",O.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";var S=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleCategoryChange=function(){var e=Object(i.a)(r.a.mark(function e(t,a){var i,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.state.page,o={selectedCategory:t,data:[],page:1},a)for(s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);return e.next=5,n.set_state(o);case 5:i<=2&&n.fetchData();case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),n.handleSearchOnChange=function(e){n.setState({searchKeywords:e.target.value}),""===e.target.value&&n.handleSearchClear()},n.fetchSearchResults=function(){var t=e.config.server_path+"mockups/_search?",a={from:0,size:100,query:{multi_match:{query:n.state.searchKeywords,fields:["name","categories.name","keywords"],operator:"or",type:"best_fields"}}};fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return e.hits.hits.map(function(e){return e._id})}).then(function(t){var a=e.config.server_path+"mockup/get/",r={id:t};return n.state.selectedCategory.value&&(r.category_id=n.state.selectedCategory.value),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})}).then(function(e){return e.json()}).then(function(e){var t=e.data.map(function(e){return Object(u.a)({},e,{thumbnail:e.placeholders[0]||e.tracing_image_src})});t&&n.setState({data:n.state.data.concat(t),page:n.state.page+1})}).catch(function(e){return console.log(e)})},n.fetchTemplates=function(){console.log(n.state.selectedCategory);var t={page_no:n.state.page,size:x,active:!0,priority_sort:!0};n.state.selectedCategory.value&&(t.category_id=n.state.selectedCategory.value),fetch(e.config.server_path+"mockup/get_mockups/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){var t=e.data.map(function(e){return Object(u.a)({},e,{thumbnail:e.placeholders[0]||e.tracing_image_src})});n.setState({data:n.state.data.concat(t),page:n.state.page+1})}).catch(function(e){return console.log(e)})},n.fetchData=function(){n.state.searchActive?n.fetchSearchResults():n.fetchTemplates()},n.handleSearchClear=function(){n.setState({data:[],searchActive:!1,searchKeywords:"",page:1},n.fetchData)},n.handleSearchSubmit=function(e){e.preventDefault(),n.setState({data:[],searchActive:!0,page:1},n.fetchData)},n.state={data:[],page:1,searchActive:!1,searchKeywords:"",selectedCategory:{value:null,label:"All"},categories:[],fetchingDefaultCategory:!1,defaultCategoryAlreadySet:!1},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=this;window.abcd=this,fetch(e.config.server_path+"category/get",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"mockup"})}).then(function(e){return e.json()}).then(function(a){(a=(a=(a=a.data).map(function(e){return{label:e.name,value:e._id}})).sort(function(e,t){return e.label<t.label?-1:1})).unshift({label:"All",value:null}),fetch(e.config.server_path+"mockup/get_mockups/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({page_no:t.state.page,size:x,active:!0,priority_sort:!0})}).then(function(e){return e.json()}).then(function(e){if(!t.state.fetchingDefaultCategory){var a=e.data.map(function(e){return Object(u.a)({},e,{thumbnail:e.placeholders[0]||e.tracing_image_src})});t.setState({data:t.state.data.concat(a),page:t.state.page+1})}}).catch(function(e){return Promise.reject(e)}),t.setState({categories:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"nav_content_search_container",style:{padding:12,paddingTop:20}},m.a.createElement(g.a,{onSubmit:this.handleSearchSubmit},m.a.createElement(_.a,null,m.a.createElement(h.a,{style:{width:"100%"}},m.a.createElement(f.a,{style:{fontSize:14,fontFamily:"Montserrat",height:42,borderRadius:4},placeholder:"Search templates",value:this.state.searchKeywords,type:"text",onChange:function(t){return e.handleSearchOnChange(t)}}),this.state.searchActive?m.a.createElement("span",{onClick:this.handleSearchClear,style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):m.a.createElement("span",{onClick:this.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"})),m.a.createElement(b.a,{style:{display:"none"},type:"submit"})))),m.a.createElement(v.b,{styles:k,className:"template_category_select",label:"Design Template Category Select",options:this.state.categories,placeholder:"Select Category",value:this.state.selectedCategory,onChange:function(t){e.handleCategoryChange(t)}}),m.a.createElement(w.a,{dataLength:this.state.data?this.state.data.length:0,next:this.fetchData,hasMore:!0,height:"calc(100vh - 198px)",endMessage:m.a.createElement("h4",null,"No more results.")},m.a.createElement(E.a,{on_drag_start:this.props.on_drag_start,on_drag:this.props.on_drag,on_drag_end:this.props.on_drag_end,on_click:this.props.on_click,image_height:"126px",col_size:6,resources:this.state.data.map(function(e){return{src:e.thumbnail,mockup_id:e._id,inputs:{hue_values:[],user_images:[]}}})})))}}]),a}(p.Component);t.a=S}).call(this,a(40))},729:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(79),i=a(8),o=a(6),s=a.n(o),l=a(15),c=a(0),d=a.n(c),u=a(20),p=a(1409),m=a(1410),g=a(104),_=a(89),h=a.n(_),f=a(117).a.feline_fetch,b=[{name:"",fonts:[{name:"Playfair Display",src:"uploads/design_resources/font/PlayfairDisplay-Regular.ttf",size:31},{name:"Source Sans Pro",src:"uploads/design_resources/font/bf77276d8fb66288edbd259e2fbdbaf5.ttf",size:15},{name:"Montserrat",src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",size:12}]},{name:"",fonts:[{name:"Julius Sans One",src:"uploads/design_resources/font/JuliusSansOne-Regular.ttf",size:31},{name:"Archivo Narrow",src:"uploads/design_resources/font/fed19b87b64a3930a179ab662845f59d.ttf",size:15},{name:"Source Sans Pro",src:"uploads/design_resources/font/bf77276d8fb66288edbd259e2fbdbaf5.ttf",size:12}]},{name:"",fonts:[{name:"Oswald Semi Bold",src:"uploads/design_resources/font/9dc0acea656335f723c0844c643f9ec5.ttf",size:31},{name:"EB Garamond",src:"uploads/design_resources/font/a7aad0ccd96691dd706c0320db3e5342.ttf",size:15},{name:"EB Garamond",src:"uploads/design_resources/font/a7aad0ccd96691dd706c0320db3e5342.ttf",size:12}]},{name:"",fonts:[{name:"Cinzel",src:"uploads/design_resources/font/Cinzel-Regular.ttf",size:31},{name:"Fauna One",src:"uploads/design_resources/font/be8c6b52a05c058bd6734d9d46c2feb3.ttf",size:15},{name:"Quicksand",src:"uploads/design_resources/font/Quicksand-Regular.ttf",size:12}]},{name:"",fonts:[{name:"Bebas Neue",src:"uploads/design_resources/font/ed9eb90dfb4d271e224c9d2726a60ba0.ttf",size:31},{name:"Montserrat SemiBold",src:"uploads/design_resources/font/1a7e8cab51a3ae7c2f3563765b7c47a4.ttf",size:15},{name:"Montserrat",src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",size:12}]},{name:"",fonts:[{name:"Squada One",src:"uploads/design_resources/font/SquadaOne-Regular.ttf",size:31},{name:"Caveat",src:"uploads/design_resources/font/869575405bd503eabf2e0de0cc0fac94.ttf",size:15},{name:"Assistant",src:"uploads/design_resources/font/Assistant-Regular.ttf",size:12}]},{name:"",fonts:[{name:"Sacramento",src:"uploads/design_resources/font/934decd37a90a66b70795e8b3c3f7c45.ttf",size:31},{name:"Alice",src:"uploads/design_resources/font/81975e86e84a0784fa039095baac6330.ttf",size:15},{name:"EB Garamond",src:"uploads/design_resources/font/a7aad0ccd96691dd706c0320db3e5342.ttf",size:12}]},{name:"",fonts:[{name:"Yeseva One",src:"uploads/design_resources/font/964fb8d2dfcae363b33e7e6ba38ec17c.ttf",size:31},{name:"Josefin Sans Medium",src:"uploads/design_resources/font/1d8f6df455c741b1c3dc9aad17e98477.ttf",size:15},{name:"Josefin Sans Light",src:"uploads/design_resources/font/b96babd7110c274cc54bcf99a284668e.ttf",size:12}]},{name:"",fonts:[{name:"Ubuntu",src:"uploads/design_resources/font/Ubuntu-Regular.ttf",size:31},{name:"Open Sans",src:"uploads/design_resources/font/0bc6f9b91a8ca74d9f7e56fbc16158bf.ttf",size:15},{name:"Open Sans Light",src:"uploads/design_resources/font/4030d58e0e29679cdb9f7ec06e66ed1a.ttf",size:12}]},{name:"",fonts:[{name:"Abril Fatface",src:"uploads/design_resources/font/ef2b1810d671c12d33e17d553b22da38.ttf",size:31},{name:"Poppins",src:"uploads/design_resources/font/32a2139e6c134a55f64f0245a17d0b1b.ttf",size:15},{name:"Poppins Light",src:"uploads/design_resources/font/8e69761388468bdca1363e8b69204b5e.ttf",size:12}]},{name:"",fonts:[{name:"Cinzel",src:"uploads/design_resources/font/Cinzel-Regular.ttf",size:31},{name:"Quattrocento Sans",src:"uploads/design_resources/font/434160ff763d9652a59973e459acd7a0.ttf",size:15},{name:"Quattrocento Sans",src:"uploads/design_resources/font/434160ff763d9652a59973e459acd7a0.ttf",size:12}]},{name:"",fonts:[{name:"Raleway",src:"uploads/design_resources/font/7d8fbb687924c6ea45ed612aafa88e6e.ttf",size:31},{name:"Roboto Condensed",src:"uploads/design_resources/font/8a0d8832c87d799ec314090acab33c98.ttf",size:15},{name:"Roboto Condensed",src:"uploads/design_resources/font/8a0d8832c87d799ec314090acab33c98.ttf",size:12}]},{name:"",fonts:[{name:"Nixie One",src:"uploads/design_resources/font/5a0996a70f166ca0f8fa5b52e87a8618.ttf",size:31},{name:"Ledger",src:"uploads/design_resources/font/04a68d0ee6b98cf91d630a386e1800f2.ttf",size:15},{name:"Ledger",src:"uploads/design_resources/font/04a68d0ee6b98cf91d630a386e1800f2.ttf",size:12}]},{name:"",fonts:[{name:"Amatic SC",src:"uploads/design_resources/font/6c34fc586708c2328b2e391fc26cfc6a.ttf",size:31},{name:"Andika",src:"uploads/design_resources/font/7bf33d4a76b21a541090d13829e85ae4.ttf",size:15},{name:"Quattrocento Sans",src:"uploads/design_resources/font/434160ff763d9652a59973e459acd7a0.ttf",size:12}]},{name:"",fonts:[{name:"Philosopher Bold",src:"uploads/design_resources/font/e00f2607f79ce3b3350b46ba6460c727.ttf",size:31},{name:"Prompt",src:"uploads/design_resources/font/eab154c46d90bf0d2cf4a29441c3ae03.ttf",size:15},{name:"Prompt",src:"uploads/design_resources/font/eab154c46d90bf0d2cf4a29441c3ae03.ttf",size:12}]},{name:"",fonts:[{name:"Fjalla One",src:"uploads/design_resources/font/FjallaOne-Regular.ttf",size:31},{name:"Roboto",src:"uploads/design_resources/font/46da41fcef0bb98a32dfe507600d0e49.ttf",size:15},{name:"Lato",src:"uploads/design_resources/font/d5b7525c42208d0e9fc567d2ef58609c.ttf",size:12}]},{name:"",fonts:[{name:"DM Serif Display",src:"uploads/design_resources/font/2454a88e52bdaba275fb03a34daf87b5.ttf",size:31},{name:"Poppins",src:"uploads/design_resources/font/32a2139e6c134a55f64f0245a17d0b1b.ttf",size:15},{name:"Roboto",src:"uploads/design_resources/font/46da41fcef0bb98a32dfe507600d0e49.ttf",size:12}]},{name:"",fonts:[{name:"Calistoga",src:"uploads/design_resources/font/43062729d51d90b29a627b4c4f4ba117.ttf",size:31},{name:"Open Sans",src:"uploads/design_resources/font/0bc6f9b91a8ca74d9f7e56fbc16158bf.ttf",size:15},{name:"Open Sans Condensed Light",src:"uploads/design_resources/font/9592806c5f8b689b04e8abc6e794e5e6.ttf",size:12}]},{name:"",fonts:[{name:"Istok Web",src:"uploads/design_resources/font/043b68428bdfb50bcdf1f4e1b3c4567b.ttf",size:31},{name:"Lora",src:"uploads/design_resources/font/Lora-Regular.ttf",size:15},{name:"Lora",src:"uploads/design_resources/font/Lora-Regular.ttf",size:12}]},{name:"",fonts:[{name:"Merriweather Black",src:"uploads/design_resources/font/5cd603b23f3913d557c5c78ebbbcb0fc.ttf",size:31},{name:"Merriweather Sans",src:"uploads/design_resources/font/e5a9721591db3d714bc72790b0a81c7d.ttf",size:15},{name:"Merriweather Sans",src:"uploads/design_resources/font/e5a9721591db3d714bc72790b0a81c7d.ttf",size:12}]},{name:"",fonts:[{name:"Montserrat",src:"uploads/design_resources/font/e166357211e5a69fa42cfad738627789.ttf",size:31},{name:"Raleway",src:"uploads/design_resources/font/7d8fbb687924c6ea45ed612aafa88e6e.ttf",size:15},{name:"Cardo",src:"uploads/design_resources/font/36021b288bcc19b46b77700e647e8318.ttf",size:12}]}],v=function(){var t=Object(l.a)(s.a.mark(function t(a){var n,r,i,o,l,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.name,r=a.src,i=a.url,t.prev=1,i||r){t.next=4;break}throw"no font src provided";case 4:return o="url("+(i||e.config.server_path+r)+")",l=new FontFace(n,o),t.next=8,l.load();case 8:c=t.sent,document.fonts.add(c),document.body.style.fontFamily='"'+n+'", Arial',t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("error loading font --\x3e ",t.t0);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),y=function(e){var t=e.font_set;try{return d.a.createElement("div",{style:{width:"100%",paddingBottom:6},onClick:function(){t.fonts.map(function(e){e.file&&e.file[0]&&(e.src=e.file[0])}),window.design_editor.design.fontSwapWithFontTriplets(t.fonts.map(function(e){return{font:e.name,font_src:e.src}}))}},d.a.createElement("div",{style:{cursor:"pointer",textAlign:"left",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0}},t.name),d.a.createElement("div",{style:{textAlign:"left",width:"100%",backgroundColor:"white",borderRadius:5,padding:10}},t.fonts.map(function(e){return d.a.createElement("div",{style:{cursor:"pointer",fontFamily:e.name,fontSize:e.fontSize,padding:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}," ",e.name)})))}catch(a){return console.log("error in font  panel --\x3e",a),"something went wrong"}},w=function(e){var t=e.font_sets;try{var a=Object(c.useState)([]),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(c.useEffect)(function(){!function(){var e=b;e.map(function(e){e.fonts.map(function(e){return v({name:e.name,src:e.src})})}),o(e)}()},[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{padding:12,width:"100%"}},d.a.createElement(u.a,{className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9,fontWeight:500,fontSize:14},onClick:function(){return window.open("https://designs.ai/en/user/brand-kit")}},"Add new font set")),d.a.createElement("div",{id:"bk_font_box",style:{padding:12,paddingTop:0}},t&&t.length?t.map(function(e){return d.a.createElement(y,{font_set:e})}):d.a.createElement("div",{style:{cursor:"pointer",textAlign:"left",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0}},"You have no font sets")),d.a.createElement("div",{style:{paddingTop:12,marginLeft:"-1px",width:300,backgroundColor:"white"}}),d.a.createElement("div",{style:{padding:12,height:"calc(100vh - 210px - "+(document.getElementById("bk_font_box")?document.getElementById("bk_font_box").offsetHeight:0)+"px)",overflowY:"auto",width:"100%"}},r&&r.length&&r.map(function(e){return d.a.createElement(y,{font_set:e})})))}catch(s){return console.log("error in font panel --\x3e",s),"something went wrong"}},E=function(e){var t=e.palette,a=e.last_palette_signature,n=e.set_last_palette_signature,r=e.last_palette_shuffle_index,i=e.set_last_palette_shuffle_index;try{return d.a.createElement("div",{style:{width:"100%"},onClick:function(){var e,o,s=JSON.stringify(t.colors);a==s?(e=r>=t.colors.length-1?0:r+1,o=t.colors.slice(e,t.colors.length).concat(t.colors.slice(0,e))):(e=0,o=t.colors.slice(0,t.colors.length)),window.design_editor.design.colorSwap(1,o),window.design_editor.addUndoChange(),n(s),i(e)}},d.a.createElement("div",{style:{textAlign:"left",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0,cursor:"pointer"}},"default"==t.name?"":t.name),t.colors.map(function(e){return d.a.createElement("div",{style:{cursor:"pointer",display:"inline-block",width:Math.floor(100/t.colors.length)+"%",backgroundColor:e,height:30}})}))}catch(o){return console.log("error in palette",o),"something went wrong"}},x=function(e){var t=e.color_palettes,a=e.color_categories;try{var o=Object(c.useState)(null),p=Object(i.a)(o,2),m=p[0],_=p[1],b=Object(c.useState)([]),v=Object(i.a)(b,2),y=v[0],w=v[1],x=Object(c.useState)(!0),k=Object(i.a)(x,2),O=k[0],S=k[1],C=Object(c.useState)(1),j=Object(i.a)(C,2),N=j[0],T=j[1],P=Object(c.useState)(60),z=Object(i.a)(P,2),F=z[0],D=(z[1],Object(c.useState)("")),A=Object(i.a)(D,2),I=A[0],R=A[1],B=Object(c.useState)(0),M=Object(i.a)(B,2),L=M[0],W=M[1],H=function(){var e=Object(l.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=!1),!O){e.next=6;break}return e.next=4,f({url:"design_resource/get_color_palettes",body:{category:m._id,limit:F,page:t?1:N}});case 4:(a=e.sent).length?t?(T(1),w(Object(r.a)(a))):w([].concat(Object(r.a)(y),Object(r.a)(a))):S(!1);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){m&&m._id&&(S(!0),T(1),w([]),H(!0))},[m]),Object(c.useEffect)(function(){a&&a.length&&_(a[0])},[a]),d.a.createElement("div",null,d.a.createElement("div",{style:{padding:12,width:"100%"}},d.a.createElement(u.a,{className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9,fontWeight:500,fontSize:14},onClick:function(){return window.open("https://designs.ai/en/user/brand-kit")}},"Add new brand palette")),d.a.createElement("div",{id:"palette_box",style:{padding:12,paddingTop:0}},t&&t.length?t.map(function(e){return d.a.createElement(E,{palette:e,last_palette_signature:I,set_last_palette_signature:R,last_palette_shuffle_index:L,set_last_palette_shuffle_index:W})}):d.a.createElement("div",{style:{cursor:"pointer",textAlign:"left",fontSize:11,fontWeight:500,color:"#888888",padding:5,paddingLeft:0}},"You have no color palettes")),d.a.createElement("div",{style:{paddingTop:12,marginLeft:"-1px",width:300,backgroundColor:"white"}}),d.a.createElement("div",{style:{padding:12}},d.a.createElement(g.b,{style:{height:"38px",width:"100%"},styles:{option:function(e,t){return Object(n.a)({},e,{textAlign:"left",backgroundColor:t.isSelected?"#C8CDD4":t.isFocused?"#F1F2F3":"white"})}},value:{label:m?m.name:null,value:m},options:a.map(function(e){return{value:e,label:e.name}}),onChange:function(e){_(e.value)}})),d.a.createElement("div",{style:{padding:12,paddingTop:0}},d.a.createElement(h.a,{dataLength:y?y.length:0,next:H,hasMore:O,height:"calc(100vh - 210px - "+(document.getElementById("palette_box")?document.getElementById("palette_box").offsetHeight:0)+"px)",endMessage:d.a.createElement("h4",null,"No more results.")},y&&y.length?y.map(function(e){return d.a.createElement(E,{palette:e,last_palette_signature:I,set_last_palette_signature:R,last_palette_shuffle_index:L,set_last_palette_shuffle_index:W})}):d.a.createElement("div",null))))}catch(U){return console.log("error in Color panel --\x3e",U),"something went wrong"}},k=function(){try{return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{padding:12,width:"100%"}},d.a.createElement(u.a,{className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9,fontWeight:500,fontSize:14},onClick:function(){return window.open("https://designs.ai/en/user/brand-kit")}},"Add new logo")))}catch(e){return console.log("error in Logo panel --\x3e",e),"something went wrong"}},O=function(e){var t=e.active_tab,a=e.color_categories,n=e.font_sets,r=e.color_palettes;try{if(!t)return"";switch(t){case 1:return d.a.createElement(x,{color_categories:a,color_palettes:r});case 2:return d.a.createElement(w,{font_sets:n});case 3:return d.a.createElement(k,null)}}catch(i){return console.log("something went wrong tab switch --\x3e",i),"something went wrong"}};t.a=function(e){e.user;var t=e.color_palettes,a=e.font_sets;try{var n=Object(c.useState)(1),r=Object(i.a)(n,2),o=r[0],g=r[1],_=Object(c.useState)(!1),h=Object(i.a)(_,2),b=h[0],v=h[1],y=Object(c.useState)([]),w=Object(i.a)(y,2),E=w[0],x=w[1],k=function(){var e=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({url:"design_resource/get_display_color_palettes",body:{}});case 3:t=e.sent,x(Object.keys(t.category_data).map(function(e){return t.category_data[e]})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){b||(k(),v(!0))},[]),d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,null,d.a.createElement(m.a,{xs:4,style:{padding:0}},d.a.createElement(u.a,{className:"btn-lg btn-block btn photo-tab-btn"+(1===o?" selected":""),style:{fontSize:"14px"},onClick:function(){return g(1)}},"Colors")),d.a.createElement(m.a,{xs:4,style:{padding:0}},d.a.createElement(u.a,{className:"btn-lg btn-block btn photo-tab-btn"+(2===o?" selected":""),style:{fontSize:"14px"},onClick:function(){return g(2)}},"Fonts")),d.a.createElement(m.a,{xs:4,style:{padding:0}},d.a.createElement(u.a,{className:"btn-lg btn-block btn photo-tab-btn"+(3===o?" selected":""),style:{fontSize:"14px"},onClick:function(){return g(3)}},"Logos"))),d.a.createElement(O,{color_categories:E,active_tab:o,font_sets:a,color_palettes:t}))}catch(S){return console.log("error inb/k panel ---\x3e ",S),"something went wrong here"}}}).call(this,a(40))},730:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(8),s=a(0),l=a.n(s),c=a(69),d=a(271),u=a.n(d),p=a(435),m=a.n(p),g=a(541),_=a.n(g),h=a(104),f=(a(1262),a(20)),b=a(731),v=a(346);t.a=function(t){var a=Object(s.useState)([]),n=Object(o.a)(a,2),d=n[0],p=n[1],g=Object(s.useState)(0),y=Object(o.a)(g,2),w=y[0],E=y[1],x=Object(s.useState)("loading"),k=Object(o.a)(x,2),O=k[0],S=k[1],C=Object(s.useState)(null),j=Object(o.a)(C,2),N=(j[0],j[1]),T=Object(s.useState)("jpg"),P=Object(o.a)(T,2),z=P[0],F=P[1],D=Object(s.useState)([{value:"jpg",label:"JPG"},{value:"png",label:"PNG"},{value:"pdf",label:"PDF"}]),A=Object(o.a)(D,2),I=A[0],R=A[1];Object(s.useEffect)(function(){window.onmessage=function(e){return B(e)}},[]),Object(s.useEffect)(function(){!0===t.show&&J().then(function(e){S(e?"download":"cart")}).catch(function(){c.toastr.error("Something went wrong :/")})},[t.show]),Object(s.useEffect)(function(){console.log("animation status ---\x3e ",window.design_editor.design.isAnimated()),t.show&&window.design_editor.design.isAnimated()?R([{value:"jpg",label:"JPG"},{value:"png",label:"PNG"},{value:"pdf",label:"PDF"},{value:"mp4",label:"MP4"}]):R([{value:"jpg",label:"JPG"},{value:"png",label:"PNG"},{value:"pdf",label:"PDF"}])},[t.show]);var B=function(e){"orderPaymentSuccess"==e.data?(t.hideUnifiedCheckoutModal(),M()):"orderPaymentFailure"==e.data&&(t.hideUnifiedCheckoutModal(),c.toastr.error("Something went wrong :/"))},M=function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.document.getElementById("overlay_button_download").click(),e.next=3,window.design_editor.design.handlePurchaseRedraw(d);case 3:S("download");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),L=function(t){var a={id:t.map(function(e){return e.id})};return[fetch(e.config.server_path+"design_resource/get/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){var t=(e=e.data.docs).filter(function(e){return!0!==e.free}).map(function(e){return{id:e._id,resource_type:"design_resource",src:e.src}});return Promise.resolve(t)}).catch(function(e){return console.error(e),c.toastr.error("Oops something went wrong :/"),Promise.reject("Failed to fetch design resources")})]},W=function(a){for(var n=[],r=function(r){n.push(fetch(e.config.server_path+"design_resource/load_123rf_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_id:t.designId,id:a[r].id})}).then(function(e){return e.json()}).then(function(e){return Promise.resolve({id:a[r].id,src:e.data.src,resource_type:"123rf_image"})}).catch(function(e){return Promise.resolve({id:a[r].id,src:null,resource_type:"123rf_image"})}))},i=0;i<a.length;i++)r(i);return n},H=function(a){for(var n=[],r=function(r){n.push(fetch(e.config.server_path+"design_resource/load_123rf_plus_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_id:t.designId,id:a[r].id})}).then(function(e){return e.json()}).then(function(e){return Promise.resolve({id:a[r].id,src:e.data.src,resource_type:"123rf_plus_image"})}).catch(function(e){return Promise.resolve({id:a[r].id,src:null,resource_type:"123rf_plus_image"})}))},i=0;i<a.length;i++)r(i);return n},U=function(a){for(var n=[],r=function(r){n.push(fetch(e.config.server_path+"design_resource/load_pixlr_resource/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_id:t.designId,id:a[r].id})}).then(function(e){return e.json()}).then(function(e){return Promise.resolve({id:a[r].id,src:e.data.src,resource_type:"pixlr_image"})}).catch(function(e){return Promise.resolve({id:a[r].id,src:null,resource_type:"pixlr_image"})}))},i=0;i<a.length;i++)r(i);return n},J=function(){var a=Object(i.a)(r.a.mark(function a(){var n,i,o,s,l,d,u,m,g,_,h;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=window.design_editor.design.getAllResources(),a.next=4,fetch(e.config.server_path+"design_resource/get_premium_resources",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({design_id:t.designId,resources:n})});case 4:return i=a.sent,a.next=7,i.json();case 7:return i=a.sent,o=i.data.filter(function(e){return"design_resource"===e.type}),s=i.data.filter(function(e){return"123rf"===e.type}),l=i.data.filter(function(e){return"123rf_plus"===e.type}),d=i.data.filter(function(e){return"pixlr"===e.type}),u=(u=(u=(u=(u=[]).concat(L(o))).concat(W(s))).concat(H(l))).concat(U(d)),m=G(),g=[],a.next=21,Promise.all(u);case 21:for(_=a.sent,h=0;h<_.length;h++)Array.isArray(_[h])?g=g.concat(_[h]):g.push(_[h]);return p(g),a.next=26,m;case 26:return a.abrupt("return",0===g.length);case 29:a.prev=29,a.t0=a.catch(0),console.error(a.t0),c.toastr.error("Something went wrong :/");case 33:case"end":return a.stop()}},a,this,[[0,29]])}));return function(){return a.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)();case 3:1===(t=e.sent).response_code&&E(t.data["123rf"].remaining),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),c.toastr.error("Error fetching credits"),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w>d.length)){e.next=6;break}return e.next=3,V("credits");case 3:M(),e.next=11;break;case 6:return t.hide(),e.next=9,V("stripe");case 9:(a=e.sent)&&a.checkoutUrl?window.location.href=a.checkoutUrl:c.toastr.error("Something went wrong :/");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(r.a.mark(function e(a){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S("loading"),e.next=4,Object(v.b)({paymentMode:a,data:d,designId:t.designId});case 4:return n=e.sent,N(n),S("cart"),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),S("cart"),c.toastr.error("Oops something went wrong :/");case 15:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return"loading"===O?l.a.createElement("div",{className:"purchase-modal-container-inner"},l.a.createElement(_.a,{style:{height:"50px",width:"50px",marginLeft:"calc(50% - 25px)"},src:e.config.server_path+"public/images/loader.gif"})):"cart"===O?l.a.createElement("div",{className:"purchase-modal-container-inner"},d.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"download-popover-header"},l.a.createElement("i",{className:"fas fa-download fa-lg"}),l.a.createElement("span",{style:{fontWeight:600,fontSize:"1.4rem",paddingLeft:10}},"Download")),l.a.createElement(u.a,{className:"text-center",style:{padding:"10px 0px"}},d.map(function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{xs:4,style:{paddingLeft:0}},l.a.createElement(_.a,{style:{height:60,border:"solid 1px #fafafa"},src:Object(b.a)(e)})),l.a.createElement(m.a,{xs:8,style:{height:60,display:"table"}},l.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},l.a.createElement("span",{style:{float:"right",fontWeight:400,fontSize:"1.4rem"}},"$ 1.00 or 1 credit"))))})),l.a.createElement(u.a,{style:{borderTop:"1px solid #CCCCCC",padding:"10px 0px"}},l.a.createElement("span",{style:{fontWeight:400,fontSize:"1.4rem"}},d.length," X Premium Images"),l.a.createElement("span",{style:{float:"right",fontWeight:600,fontSize:"1.4rem"}}," $",d.length,".00 or ",d.length," credits")),l.a.createElement(u.a,null,l.a.createElement("span",{style:{fontWeight:400,fontSize:"1.4rem"}},"Credits available"),l.a.createElement("span",{style:{float:"right",fontWeight:600,fontSize:"1.4rem"}},w)),l.a.createElement(u.a,{style:{padding:"10px 0px"}},l.a.createElement(f.a,{className:"btn-orange",style:{width:"100%",marginBottom:5},onClick:K}," ",w>d.length?"Download with no watermarks ("+d.length+" credit"+(1===d.length?"":"s")+")":"Buy now and download"),l.a.createElement(f.a,{className:"btn-grey",style:{width:"100%"},onClick:function(e){return S("download")}},"Download with watermarks"))):null):l.a.createElement("div",{className:"purchase-modal-container-inner"},l.a.createElement("div",{className:"download-popover-header"},l.a.createElement("i",{className:"fas fa-download fa-lg"}),l.a.createElement("span",{style:{fontWeight:600,fontSize:"1.4rem",paddingLeft:10}},"Download")),l.a.createElement(u.a,{className:"text-center",style:{padding:"10px 0px"}},l.a.createElement(m.a,{xs:12,style:{paddingLeft:0}},l.a.createElement(h.b,{options:I,value:I.find(function(e){return e.value==z}),onChange:function(e){F(e.value)}}))),l.a.createElement(u.a,{style:{padding:"10px 0px"}},l.a.createElement(f.a,{className:"btn-orange",style:{width:"100%"},onClick:function(){window.document.getElementById("overlay_button_download").click(),t.export_design(z)}},"Download")))}}).call(this,a(40))},731:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t){return t.src&&(t.src.indexOf("data:image")>-1||t.src.indexOf("http")>-1||t.src.indexOf("blob:")>-1)?t.src:e.config.static_file_server_path+t.src}}).call(this,a(40))},732:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){var t=e.designId;return e.data.map(function(e){var a={};return a.design=t,a.type=e.resource_type,"design_resource"===e.resource_type?a.design_resource=e.id:"123rf_image"===e.resource_type?a.rf_image=e.id:"123rf_plus_image"===e.resource_type?a.rf_plus_image=e.id:"pixlr_image"===e.resource_type&&(a.pixlr_image=e.id),a})}},733:function(e,t,a){"use strict";var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(29),u=function(e){return c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.iframe?e.iframe:""}})},p=function(e){function t(e){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return this.props.src?c.a.createElement(d.a,{bsSize:"large",show:this.props.show,onHide:function(){console.log("hiding bc"),e.props.onHide()}},c.a.createElement(d.a.Header,{closeButton:!0},c.a.createElement(d.a.Title,null,"Checkout")),c.a.createElement(d.a.Body,null,c.a.createElement("div",null,c.a.createElement(u,{iframe:'<iframe height="800" width="868" title="Checkout with designs.ai" src='+this.props.src+" </iframe>"})))):null}}]),t}(l.Component);t.a=p},734:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(9),o=a(15),s=a(8),l=a(30),c=a(31),d=a(33),u=a(32),p=a(34),m=a(35),g=a(0),_=a.n(g),h=a(39),f=a(20),b=a(1409),v=a(1410),y=a(29),w=a(172),E=a(95),x=a(807),k=(a(1301),a(69)),O=a(248),S=a(115),C=a(543),j=a(134),N=a(124),T=a(83),P=(a(1303),a(113)),z=a(90),F=a(739),D=function(e){return 0===Object.keys(e).filter(function(t){return null!=e[t]&&void 0!==e[t]&&String(e[t]).trim().length>0}).length},A=function(e,t,a,n,r,i,o){var s;return s=null===i||void 0===i?'<button class="bulk_edit_image_upload_btn" onclick="imageUploadOnClick('+a+","+n+')">Select Image</button>':'<span onclick="imageUploadEditOnClick('+a+","+n+')" class="fas fa-check bulk_edit_image_upload_check"/>',t.style.padding=0,t.style.textAlign="center",t.innerHTML=s,t},I=function(t){function a(t){var n,r=this;return Object(l.a)(this,a),(n=Object(d.a)(this,Object(u.a)(a).call(this,t))).getColHeaders=function(){var e=n.props.labels.filter(function(e){return"text"===e.type}).map(function(e){return{data:e.text,renderer:"text"}}),t=n.props.labels.filter(function(e){return"image"===e.type}).map(function(e){return{data:e.text,renderer:A,readOnly:!0}}),a=e.concat(t),r=a.map(function(e){return e.data});return[a,r]},n.imageUploadOnClick=function(e,t){n.setState({activeTab:"image",activeRow:e,activeCol:t})},n.imageUploadEditOnClick=function(t,a){var r=n.hotTableComponent.current.hotInstance.getDataAtCell(t,a);n.setState({activeTab:"image",activeRow:t,activeCol:a,selectedImageUrl:e.config.static_file_server_path+r})},n.handleImageUpload=function(e){n.setState({selectedImage:e.target.files[0],selectedImageUrl:URL.createObjectURL(e.target.files[0])},function(){n.state.selectedImage&&Object(C.b)({image:n.state.selectedImage,folderId:n.props.user.my_photos_folder}).then(function(e){return e.json()}).then(function(e){var t=e.data.resources[e.data.resources.length-1].path;n.hotTableComponent.current.hotInstance.setDataAtCell(n.state.activeRow,n.state.activeCol,t),n.setState({activeTab:"home",activeRow:null,activeCol:null,selectedImageUrl:null,selectedImage:null})}).catch(function(e){console.error(e),k.toastr.error("Something went wrong")})})},n.imageFromFolderOnClick=function(e){n.hotTableComponent.current.hotInstance.setDataAtCell(n.state.activeRow,n.state.activeCol,e.src),n.setState({activeTab:"home",activeRow:null,activeCol:null,selectedImageUrl:null,selectedImage:null,activeFolder:null})},n.ImageSelectionHomeContainer=function(){return _.a.createElement(_.a.Fragment,null,_.a.createElement(h.a,{style:{maxWidth:200,maxHeight:200,margin:"auto",display:"block"},src:n.state.selectedImageUrl}),_.a.createElement(f.a,{style:{marginTop:15,marginBottom:30},className:"btn btn-sm btn-orange btn-block",onClick:function(){window.document.getElementById("bulk_upload_image_input").click()}},_.a.createElement("span",{className:"fa fa-upload"}),"Upload New Image",_.a.createElement("input",{accept:"image/*",id:"bulk_upload_image_input",style:{display:"none"},type:"file",name:"file",onChange:n.handleImageUpload})),_.a.createElement("hr",null),_.a.createElement(b.a,{style:{fontSize:14,paddingBottom:20,paddingRight:10}},_.a.createElement(b.a,{style:{paddingBottom:5}},_.a.createElement("b",null,"Choose image from folders")),_.a.createElement(j.a,{id:"past_design_slider",height:120},n.state.folders.map(function(e,t){return _.a.createElement(v.a,{key:t,xs:2,className:"grey_bg_on_hover"},_.a.createElement(P.a,{key:"bulk_edit_folders_slider"+t,on_click:function(){return n.setState({activeFolder:e.folder._id})},idx:t,image_src:"https://img.icons8.com/cotton/64/000000/folder-invoices--v1.png",image_style:{height:40},name:e.folder.name.length<25?e.folder.name:e.folder.name.substring(0,22)+"...",disable_overlay:!0,container_style:{marginLeft:15}}),_.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis"}},e.folder.name.length<25?e.folder.name:e.folder.name.substring(0,22)+"..."))}))))},n.ImageSelectionFolderContainer=function(){return _.a.createElement("div",{style:{height:"100%",overflowY:"auto"}},_.a.createElement(z.a,{on_drag_start:function(){},on_drag:function(){},on_drag_end:function(){},on_click:n.imageFromFolderOnClick,image_height:"120px",col_size:6,resources:n.state.folders.find(function(e){return e.folder._id===n.state.activeFolder}).folder.resources.map(function(e){return{src:e.path,low_src:e.low_path}})}))},n.ImageSelectionContainer=function(){return _.a.createElement("div",{style:{height:500,width:"100%",display:"block"}},n.state.activeFolder?_.a.createElement(r.ImageSelectionFolderContainer,null):_.a.createElement(r.ImageSelectionHomeContainer,null))},n.PanelView=function(){var e=n.getColHeaders(),t=Object(s.a)(e,2),a=t[0],i=t[1];return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{style:{display:"home"===n.state.activeTab?"block":"none"}},_.a.createElement(x.a,{ref:n.hotTableComponent,id:n.id,data:n.data,colHeaders:i,columns:a,rowHeaders:!0,width:"100%",height:"500",contextMenu:["row_above","row_below","remove_row"],bindRowsWithHeaders:"strict",minSpareRows:3,maxRows:100,maxCols:n.props.labels.length,startRows:20,stretchH:"all",licenseKey:"non-commercial-and-evaluation"})),"home"===n.state.activeTab?_.a.createElement("center",null,_.a.createElement(f.a,{onClick:function(){return n.props.onHide(n.data)},className:"btn btn-orange"},"Save")):null,"image"===n.state.activeTab&&_.a.createElement(r.ImageSelectionContainer,null))},n.backButtonOnClick=function(){n.state.activeFolder?n.setState({activeFolder:null}):n.setState({activeTab:"home",activeRow:null,activeCol:null,selectedImageUrl:null,selectedImage:null})},n.Header=function(){return"home"===n.state.activeTab?_.a.createElement("span",null,"Add data"):_.a.createElement("div",{style:{cursor:"pointer"},onClick:n.backButtonOnClick},_.a.createElement("span",{style:{color:"grey",fontWeight:"bold",marginRight:10},className:"fa fa-arrow-left"}),n.state.activeFolder?"Click on image to select":null)},n.data=[[]],n.state={activeTab:"home",selectedImage:null,activeRow:null,activeCol:null,selectedImageUrl:null,folders:[],activeFolder:null},n.id="hot",n.hotTableComponent=_.a.createRef(),n}return Object(p.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){window.imageUploadOnClick=this.imageUploadOnClick,window.imageUploadEditOnClick=this.imageUploadEditOnClick}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;this.props.show!==e.show&&!0===this.props.show&&Object(S.c)().then(function(e){return e.json()}).then(function(e){return n.setState({folders:e.data.filter(function(e){return"photo"===e.folder.type})})}).catch(function(e){console.error(e),k.toastr.error("Something went wrong.")})}},{key:"render",value:function(){var e=this;return _.a.createElement(y.a,{show:this.props.show,onHide:function(){return e.props.onHide(e.data)}},_.a.createElement(y.a.Header,{closeButton:!0},_.a.createElement(y.a.Title,null,_.a.createElement(this.Header,null))),_.a.createElement(y.a.Body,null,_.a.createElement(this.PanelView,null)))}}]),a}(_.a.Component),R=function(t){function a(t){var n;return Object(l.a)(this,a),(n=Object(d.a)(this,Object(u.a)(a).call(this,t))).fetchFolders=function(){Object(S.c)().then(function(e){return e.json()}).then(function(e){var t=e.data.filter(function(e){return"owned"===e.ownership&&"design"===e.folder.type});n.props.user&&n.props.user.my_designs_folder&&(t=t.filter(function(e){return e.folder._id!==n.props.user.my_designs_folder})),n.setState({folders:t})}).catch(function(e){console.error(e),k.toastr.error("Something went wrong.")})},n.generateAllDesigns=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(r.a.mark(function e(){var t,a,o,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.data,a=new window.DM_Design,o=window.design_editor.design.save(),s=r.a.mark(function e(s){var l,c,d,u,p,g,_;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.props.labels.reduce(function(e,a){return Object(m.a)({},e,Object(i.a)({},a.text,t[s][a.text]))},{}),!D(l)){e.next=4;break}return s===t.length-1&&n.setState({generationComplete:!0}),e.abrupt("return","continue");case 4:for(c={text:[],images:[]},d=0;d<n.props.labels.length;d++)"text"===n.props.labels[d].type?c.text.push({label_id:n.props.labels[d].id,text:l[n.props.labels[d].text]}):"image"===n.props.labels[d].type&&c.images.push({label_id:n.props.labels[d].id,src:l[n.props.labels[d].text],image_fit:"cover"});return a.load(o),a.base_width=169,a.handleWindowResize(),a.draw(),e.next=12,a.wait_to_load();case 12:return a.draw(),e.next=15,a.proceduralGeneration(c,!0);case 15:u=a.save(),p=a.pages[0].export("low"),g=a.pages[0].get_html(),_=a.pages[0].get_html(!0),0===s&&n.setState({isLoading:!1}),n.setState({designs:n.state.designs.concat([{design_file:u,thumbnail:p,inner_html:g,snapshot_html:_,snapshot_width:Math.floor(a.get_width()*a.pixelsPerCm),snapshot_height:Math.floor(a.get_height()*a.pixelsPerCm)}])}),s===t.length-1&&n.setState({generationComplete:!0});case 22:case"end":return e.stop()}},e,this)}),l=0;case 5:if(!(l<t.length)){e.next=13;break}return e.delegateYield(s(l),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:l++,e.next=5;break;case 13:n.state.isLoading&&n.setState({isLoading:!1});case 14:case"end":return e.stop()}},e,this)})(),"t0",2);case 2:e.next=8;break;case 4:e.prev=4,e.t1=e.catch(0),console.error(e.t1),k.toastr.error("Something went wrong");case 8:case"end":return e.stop()}},e,this,[[0,4]])})),n.handleFolderSelectionChange=function(e){n.setState({selectedFolder:e})},n.handleBulkSaveToFolder=function(){Object(C.a)({original_save_id:window.design_editor.design.design_save_id,designs:n.state.designs.map(function(e){return{design_file:e.design_file}}),folderId:n.state.selectedFolder._id}).then(function(e){return e.json()}).then(function(t){try{if(1==t.response_code)for(var a=0;a<t.data.length;a++){var r={type:"jpg",html_data:n.state.designs[a].snapshot_html,rendering_parameters:{width:n.state.designs[a].snapshot_width,height:n.state.designs[a].snapshot_height,update_type:"saved_design",update_thumbnail:!0,model_id:t.data[a]._id}};fetch(e.config.server_path+"render/initiate",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}}catch(i){console.log(i)}n.props.onHide(),k.toastr.success("Saved to folder!")}).catch(function(e){console.error(e),k.toastr.error("Something went wrong")})},n.state={designs:[],isLoading:!0,folders:[],selectedFolder:null,generationComplete:!1},n}return Object(p.a)(a,t),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.props.show!==e.show&&!0===this.props.show&&(this.setState({designs:[],isLoading:!0}),this.fetchFolders(),this.generateAllDesigns())}},{key:"render",value:function(){var e=this;return _.a.createElement(y.a,{show:this.props.show,onHide:this.props.onHide},_.a.createElement(y.a.Header,{style:{padding:14}},_.a.createElement(y.a.Title,{style:{display:"flex",justifyContent:"flex-start"}},_.a.createElement("div",{style:{marginRight:4}},_.a.createElement(F.a,{folders:this.state.folders,setSelectedFolder:function(t){return e.setState({selectedFolder:t})},fetchFolders:this.fetchFolders,selectedFolder:this.state.selectedFolder})),_.a.createElement(f.a,{className:"btn-orange",disabled:null===this.state.selectedFolder||!this.state.generationComplete,onClick:this.handleBulkSaveToFolder},"Save"))),_.a.createElement(y.a.Body,null,_.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",width:"100%",overflowY:"auto",height:600}},_.a.createElement(O.a,{style:{width:"30%",height:"30%",position:"absolute",left:"35%",top:"35%"},show_loader:this.state.isLoading}),this.state.designs.map(function(e){return _.a.createElement("div",{style:{marginRight:"10px",marginLeft:"10px"},dangerouslySetInnerHTML:{__html:e.inner_html}})}),0!==this.state.designs.length||this.state.isLoading?null:_.a.createElement("span",null,"Fill in data first to preview designs"))))}}]),a}(_.a.Component),B=function(t){var a=t.id,n=t.text,r=t.deleteOnClick,i=t.isSelected,o=t.type,l=(t.selectionType,t.update_text),c=Object(g.useState)(!1),d=Object(s.a)(c,2),u=d[0],p=d[1],m=Object(g.useState)(!1),f=Object(s.a)(m,2),y=f[0],x=f[1];Object(g.useEffect)(function(){x(n),p(!1)},[n]);var k=function(){l&&(l(a,y),p(!1))};return _.a.createElement("div",{key:a,style:{paddingLeft:12,paddingRight:12,display:"inline-flex",alignItems:"center",width:"100%"}},_.a.createElement(b.a,{onClick:function(){var e,t=window.design_editor.active_page;"text"==o?e=t.findTextByLabelId(a,!0):"image"==o&&(e=(e=t.findImageByLabelId(a,!0))&&e.o?e.o:null),e&&window.design_editor.setSelection({object:e})},style:{cursor:"pointer",height:40,display:"flex",width:"100%",alignItems:"center",backgroundColor:i?"#FF841F":"white",fontSize:16,marginRight:5}},_.a.createElement(v.a,{xs:2},_.a.createElement(h.a,{src:e.config.static_file_server_path+("text"==o?i?"uploads/icons/Text_white.svg":"uploads/icons/Text.svg":i?"uploads/icons/Photos_white.svg":"uploads/icons/Photos.svg"),style:{height:30}})),_.a.createElement(v.a,{xs:7,style:{fontSize:"14px",height:30,paddingTop:5,paddingLeft:0,paddingRight:0}},u?_.a.createElement(w.a,{style:{width:"100%"}},_.a.createElement(E.a,{style:{color:"#595959",fontSize:14,fontFamily:"Montserrat",height:30,borderRadius:0,bottom:"5px"},placeholder:"Untitled Label",value:y,type:"text",onChange:function(e){return x(e.target.value)},onBlur:function(e){return k()},onKeyUp:function(e){"Enter"==e.key&&k()}})):_.a.createElement("div",{style:{color:i?"#ffffff":"#595959",padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},n)),_.a.createElement(v.a,{xs:3,style:{padding:0}},_.a.createElement("i",{onClick:function(){p(!0)},style:{color:i?"#ffffff":"#595959",marginLeft:5,fontSize:16},className:"fas fa-edit"}),_.a.createElement("i",{onClick:function(){var e,t=window.design_editor.active_page;"text"==o?e=t.findTextByLabelId(a,!0):"image"==o&&(e=(e=t.findImageByLabelId(a,!0))&&e.o?e.o:null),e&&e.user_labels&&(e.user_labels[o]=""),r(a),window.design_editor.addUndoChange()},style:{color:i?"#ffffff":"#595959",marginLeft:5,fontSize:16},className:"fas fa-trash"}))))},M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).set_state=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.closeDataModal=function(e){a.set_state({bulkEditData:e,showDataModal:!1}).then(function(){a.save_bulk_edit_data_to_design()})},a.LabelsContainer=function(){var e=a.state.labels;return _.a.createElement("div",{style:{marginTop:20}},_.a.createElement("div",{style:{marginTop:20,fontSize:"14px",paddingLeft:12,paddingBottom:20,fontWeight:500,textAlign:"left"}},"Select an object to start tagging.",_.a.createElement("br",null),"Labels that you tagged will appear here"),_.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"calc(100vh - 450px)"}},e.map(function(e){return _.a.createElement(B,{id:e.id,text:e.text,deleteOnClick:a.deleteLabelOnClick,isSelected:a.get_value()==e.id,type:e.type,selectionType:a.props.label_rules,update_text:a.update_label_name})})))},a.hideGenerateDesignsModal=function(){a.setState({showGenerateDesignsModal:!1})},a.AddLabelBtn=function(){return _.a.createElement("div",{onClick:a.addLabelOnClick,style:{float:"right",padding:12,cursor:"pointer"}},_.a.createElement("span",{style:{marginRight:5}},"Add Label"),_.a.createElement("i",{className:"fas fa-plus-circle"}))},a.save_bulk_edit_data_to_design=function(){window.design_editor&&(window.design_editor.design.bulk_edit_data.labels=JSON.parse(JSON.stringify(a.state.labels)))},a.addLabelOnClick=function(){var e=Math.random().toString(36).substr(2,16);a.set_state({labels:a.state.labels.concat([{id:e,text:"",assigned:[],selected:!1,type:a.state.activeTab}])}).then(function(){a.save_bulk_edit_data_to_design()})},a.renameLabelOnClick=function(e){a.set_state({edit_name_label_id:e})},a.update_label_name=function(e,t){var n=window.design_editor.design.bulk_edit_data.labels.find(function(t){return t.id==e});n&&(n.text=t,a.set_state({labels:window.design_editor.design.bulk_edit_data.labels}),window.design_editor.addUndoChange())},a.deleteLabelOnClick=function(e){a.set_state({labels:a.state.labels.filter(function(t){return t.id!==e})}).then(function(){a.save_bulk_edit_data_to_design()})},a.editLabel=function(e,t){a.set_state({labels:a.state.labels.map(function(a){return a.id===e&&(a.text=t.target.value),a})}).then(function(){a.save_bulk_edit_data_to_design()})},a.unAssignLabelOnClick=function(e){var t=a.set_value(a.props.label_rules,""),n=t.object_id;t.old_value;a.setState({labels:a.state.labels.map(function(t){return t.id===e&&window._.pull(t.assigned,n),t})}),a.props.labelOnSelect()},a.assignLabelOnClick=function(e){var t=a.set_value(a.props.label_rules,e),n=t.object_id,r=t.old_value;a.setState({labels:a.state.labels.map(function(t){return t.id===e?t.assigned.push(n):r&&t.id==r&&window._.pull(t.assigned,n),t})}),a.props.labelOnSelect()},a.set_value=function(e,t,n){var r,i=a.state.design_selection,o="";i&&("background"==i.class_type?(r=window.design_editor.active_page.background.user_labels,o=window.design_editor.active_page.background.id):i.get_parent("box")&&i.get_parent("box").image?(r=i.get_parent("box").image.user_labels,o=i.get_parent("box").image.id):"image"!=i.type&&"text"!=i.type||(r=i.user_labels,o=i.id));var s="";return r&&(e==a.props.label_rules&&r[e]!=t&&(s=r[e]),r[e]=t),a.setState({}),{old_value:s,object_id:o}},a.get_value=function(){var e,t=a.state.design_selection;if(t&&("background"==t.class_type?e=window.design_editor.active_page.background.user_labels:t.get_parent("box")&&t.get_parent("box").image?e=t.get_parent("box").image.user_labels:"image"!=t.type&&"text"!=t.type||(e=t.user_labels)),e&&a.props.label_rules&&e[a.props.label_rules])return e[a.props.label_rules]},a.is_selected=function(){var e,t=a.state.design_selection;return t&&("background"==t.class_type?e=window.design_editor.active_page.background.user_labels:t.get_parent("box")&&t.get_parent("box").image?e=t.get_parent("box").image.user_labels:"image"!=t.type&&"text"!=t.type||(e=t.user_labels)),!!e},a.checkLabelNamesValid=function(){var e=a.state.labels.map(function(e){return e.text});return 0===e.filter(function(t,a){return e.indexOf(t)!==a}).length},a.state={activeTab:"text",labels:[],showDataModal:!1,showGenerateDesignsModal:!1,bulkEditData:[],edit_name_label_id:"",design_selection:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("MOUNTED",window.design_editor.design.bulk_edit_data.labels),this.setState({labels:window.design_editor.design.bulk_edit_data.labels})}},{key:"componentDidUpdate",value:function(e,t,a){if(e.label_rules!==this.props.label_rules&&null!=this.props.design_selection){var n="text"===this.props.label_rules?"text":"image";this.setState({activeTab:n})}null!=this.props.design_selection&&this.props.design_selection!=this.state.design_selection&&(console.log("setting design selection"),this.setState({design_selection:this.props.design_selection}))}},{key:"render",value:function(){var e=this;return _.a.createElement(_.a.Fragment,null,_.a.createElement(I,{bulkEditData:this.state.bulkEditData,show:this.state.showDataModal,onHide:this.closeDataModal,labels:this.state.labels,user:this.props.user}),_.a.createElement(R,{show:this.state.showGenerateDesignsModal,onHide:this.hideGenerateDesignsModal,data:this.state.bulkEditData,labels:this.state.labels,user:this.props.user}),_.a.createElement(this.LabelsContainer,null),_.a.createElement("br",null),_.a.createElement("div",{style:{paddingLeft:12,paddingRight:12,paddingBottom:12,width:"100%"}},_.a.createElement(f.a,{onClick:function(){window.design_editor.deselectElements(),e.checkLabelNamesValid()?e.setState({showDataModal:!0}):k.toastr.error("Labels must have unique names")},className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9},disabled:0===this.state.labels.length},"FILL IN DATA")),_.a.createElement("div",{style:{paddingLeft:12,paddingRight:12,paddingBottom:12,width:"100%"}},_.a.createElement(f.a,{onClick:function(){e.checkLabelNamesValid()?e.setState({showGenerateDesignsModal:!0}):k.toastr.error("Labels must have unique names")},className:"btn btn-sm btn-block btn-orange",style:{paddingTop:9,paddingBottom:9}},"GENERATE")))}}]),t}(g.Component);t.a=Object(N.a)(Object(T.connect)(function(e){return{user:e.user}},function(e){return{}})(M))}).call(this,a(40))},739:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(8),s=a(0),l=a.n(s),c=a(20),d=a(171),u=a(69),p=function(e){return e.length<25?e:e.substring(0,22)+"..."},m=function(e){var t=e.toggle_dropdown,a=e.trigger_props;return l.a.createElement(c.a,{className:"select-folder-btn",onClick:function(){return t()},style:{marginRight:"5px",outline:"none",cursor:"pointer"}},l.a.createElement("span",{className:"select-folder-text-container"},a.selectedFolder?p(a.selectedFolder.name):"Select a folder"))},g=function(t){var a=t.folder_name,n=e.config.server_path+"folder/create";return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({folder_name:a,folder_type:"design"})}).then(function(e){return e.json()}).catch(function(e){console.error(e),u.toastr.error("Something went wrong :/")})},_=function(e){var t=e.dropper_props,a=e.toggle_dropdown,n=Object(s.useState)("folders"),d=Object(o.a)(n,2),u=d[0],m=d[1],_=Object(s.useState)(""),h=Object(o.a)(_,2),f=h[0],b=h[1];switch(u){case"folders":return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("ul",{className:"select-folder-dropdown thin_scroll"},t.folders.map(function(e,n){return l.a.createElement("li",{key:"select-folder-dropdown-li-"+n,className:"select-folder-dropdown-item",onClick:function(n){t.setSelectedFolder(e.folder),a()}},l.a.createElement("span",{className:"toolbar-dropdown-text"},p(e.folder.name)))}))),l.a.createElement("hr",{className:"folder-dropdown-separator"}),l.a.createElement("div",null,l.a.createElement(c.a,{className:"folder-dropdown-add-folder",onClick:function(){return m("add_folder")}},l.a.createElement("span",{className:"fa fa-plus"}),l.a.createElement("span",{className:"folder-dropdown-add-folder-text"},"New folder"))));case"add_folder":return l.a.createElement("div",{className:"folder-dropdown-add-folder-home"},l.a.createElement("div",{style:{width:"100%",paddingTop:8,paddingLeft:8}},l.a.createElement("i",{className:"fas fa-chevron-left",style:{cursor:"pointer"},onClick:function(){m("folders"),b("")}})),l.a.createElement("div",{style:{width:"100%",padding:8}},l.a.createElement("input",{className:"add-folder-input-field",placeholder:"Enter a folder name",value:f,onChange:function(e){return b(e.target.value)}})),l.a.createElement("div",{style:{padding:8}},l.a.createElement(c.a,{onClick:Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m("folders"),b(""),a(),e.next=6,g({folder_name:f});case 6:t.fetchFolders(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),className:"folder-dropdown-add-folder create-folder-btn",disabled:""===f},"Create")));default:return l.a.createElement("div",null)}};t.a=function(e){var t=e.folders,a=e.selectedFolder,n=e.fetchFolders,r=e.setSelectedFolder;return l.a.createElement("div",null,l.a.createElement(d.a,{Trigger:m,Dropper:_,dropper_props:{setSelectedFolder:r,folders:t,fetchFolders:n},trigger_props:{selectedFolder:a},dropper_container_style:{left:0,top:40}}))}}).call(this,a(40))},740:function(e,t,a){"use strict";(function(e){var n=a(8),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(0),d=a.n(c),u=a(39),p=a(1410),m=a(1409),g=(a(282),function(t){function a(t){var i,l=this;return Object(r.a)(this,a),(i=Object(o.a)(this,Object(s.a)(a).call(this,t))).isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},i.applyElementAnimation=function(e){if(!i.props.design_selection)return!1;i.props.design_selection.get_parent("grid")?(i.props.design_selection.get_parent("grid").animation="None"!==e.displayName?e.displayName:null,i.props.design_selection.get_parent("page").animate()):(i.props.design_selection.animation="None"!==e.displayName?e.displayName:null,i.props.design_selection&&i.props.design_selection.get_parent("page")&&i.props.design_selection.get_parent("page").animate())},i.setAnimationDuration=function(e){window.design_editor.active_page&&(window.design_editor.active_page.animation_duration=e)},i.applyPageAnimation=function(e,t){t.animation=e.displayName,t.animate()},i.applyAnimation=function(e){i.setState({activeAnimation:e.displayName}),"page"===i.state.activeTab?i.applyPageAnimation(e,window.design_editor.active_page):i.applyElementAnimation(e),window.design_editor.addUndoChange()},i.animationCard=function(t){var a=t.isActive,r=t.idxx,o=t.animation_name,s=Object(c.useState)(!1),l=Object(n.a)(s,2),p=l[0],m=l[1];return d.a.createElement("div",{className:a?"glowing-border":"filter-div",style:{height:80,width:80,backgroundColor:"white"},onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)}},p&&"None"!=o?d.a.createElement("video",{id:"video-card"+r,style:{height:80,width:80},onMouseOver:function(){return document.getElementById("video-card"+r).play()},onMouseOut:function(){return function(e){document.getElementById("video-card"+e).pause(),document.getElementById("video-card"+e).currentTime=0}(r)}},d.a.createElement("source",{style:{height:80,width:80},src:e.config.static_file_server_path+"uploads/animation_resources/previews-mp4/"+i.state.activeTab+"-"+o.toLowerCase().split(" ").reduce(function(e,t){return e+t},"")+".mp4",type:"video/mp4"})):d.a.createElement(u.a,{style:{height:80,width:80},src:e.config.static_file_server_path+"uploads/animation_resources/static-png/"+i.state.activeTab+"-"+o.toLowerCase().split(" ").reduce(function(e,t){return e+t},"")+".png"}))},i.isAnimationActive=function(e){return!!i.props.design_selection&&("page"!==i.state.activeTab?i.props.design_selection.get_parent("grid")?i.props.design_selection.get_parent("grid").animation&&i.props.design_selection.get_parent("grid").animation===e:i.props.design_selection.animation&&i.props.design_selection.animation===e:window.design_editor.active_page?window.design_editor.active_page.animation&&window.design_editor.active_page.animation===e:void 0)},i.generateAnimationCard=function(e,t){return d.a.createElement(p.a,{key:"animation_key"+e,style:{padding:"0",marginBottom:"5px"},xs:4},d.a.createElement("div",{style:{cursor:"pointer"},onClick:function(e){i.applyAnimation(t)}},d.a.createElement(l.animationCard,{isActive:i.isAnimationActive(t.displayName),idxx:e,animation_name:t.displayName}),d.a.createElement("p",{style:{fontSize:"1.2rem",fontWeight:400,marginTop:2,color:"black",marginLeft:-15}},t.displayName)))},i.isElementSelected=function(){return!(!i.props.design_selection||"background"==i.props.design_selection.class_type)},i.AnimationDurationSlider=function(){return d.a.createElement(m.a,{style:{marginBottom:10}},d.a.createElement(p.a,{xs:3,className:"adjustment-controls-text"},"Duration"),d.a.createElement(p.a,{xs:7},d.a.createElement("input",{type:"range",className:"adjustment-slider",name:"contrast",min:"0.1",max:"30",value:i.state.animationDuration,onChange:function(e){return i.animationDurationOnChange(e)}})),d.a.createElement(p.a,{className:"filter-adjustment-col",xs:2},d.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"contrast",onChange:function(e){return i.animationDurationOnChange(e)},value:i.state.animationDuration})))},i.AnimationTabView=function(){for(var e=[],t=0;t<window.animationsJSON.length;t++)!0===window.animationsJSON[t].pageLevelOnly&&"element"===i.state.activeTab||e.push(i.generateAnimationCard(t,window.animationsJSON[t]));return e},i.ElementSelectedHeader=function(){return d.a.createElement(m.a,null,d.a.createElement(p.a,{xs:6,style:{padding:0}},d.a.createElement("div",{className:"anim-type-btn"+("page"===i.state.activeTab?" anim-type-btn-selected":""),style:{fontSize:"14px"},onClick:function(){i.setState({activeTab:"page"})}},"Page")),d.a.createElement(p.a,{xs:6,style:{padding:0}},d.a.createElement("div",{className:"anim-type-btn"+("element"===i.state.activeTab?" anim-type-btn-selected":""),style:{fontSize:"14px"},onClick:function(){return i.setState({activeTab:"element"})}},"Element")))},i.PageSelectedHeader=function(){return d.a.createElement(m.a,null,d.a.createElement(p.a,{xs:12,style:{padding:0}},d.a.createElement("div",{className:"anim-type-btn-selected",style:{fontSize:"14px",height:30,float:"left"}},"Page")))},i.state={activeAnimation:null,activeTab:"page"},i}return Object(l.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.isElementSelected()||this.setState({activeTab:"page"})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("div",{style:{paddingRight:15,paddingBottom:15}},this.isElementSelected()?d.a.createElement(this.ElementSelectedHeader,null):d.a.createElement(this.PageSelectedHeader,null)),d.a.createElement("div",null,d.a.createElement(this.AnimationTabView,null)))}}]),a}(c.Component));t.a=g}).call(this,a(40))},741:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(29),u=(a(1305),function(e){function t(e){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e,t=window.design_editor.design.base_width,a=window.design_editor.design.get_width()/window.design_editor.design.get_height();e=a>window.innerWidth/window.innerHeight?.7*window.innerWidth:.7*a*window.innerHeight,window.design_editor.design.base_width=e,window.design_editor.design.handleWindowResize(),window.design_editor.draw(),this.pages=window.design_editor.design.generateAnimatedContentExportStruct(),window.design_editor.design.base_width=t,window.design_editor.handleWindowResize(),window.design_editor.draw(),this.remapIds(),this.animatePage(0)}},{key:"componentDidUpdate",value:function(e,t,a){e.design,this.props.design}},{key:"remapIds",value:function(){for(var e=0;e<this.pages.length;e++)for(var t=0;t<this.pages[e].elements.length;t++){var a=this.pages[e].elements[t].domNodeId,n=window.utils.uuidv4();this.pages[e].elements[t].domNodeId=n;var r=new RegExp(a,"g");this.pages[e].dom=this.pages[e].dom.replace(r,n)}}},{key:"animatePage",value:function(e){if(!(e>=this.pages.length)){var t=this,a=1e3*t.pages[e].duration,n=document.getElementById("dm_anim_player_div");if(null!==n){n.innerHTML="",n.innerHTML=this.pages[e].dom;var r=t.pages[e].elements.filter(function(e){return""!==e.animationClass&&"none"!==e.animationClass});if(r.length>0){var i=a-1e3-100*r.length;this.animateObjectsInPage(e),e!==this.pages.length-1&&setTimeout(function(){t.triggerExitAnimations(e)},i)}setTimeout(function(){t.animatePage(e+1)},a)}}}},{key:"triggerExitAnimations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages[e].elements.filter(function(e){return""!==e.animationClass&&"none"!==e.animationClass}).sort(function(e,t){return e.layerIndex-t.layerIndex});this.runExitAnimation(t,0)}},{key:"animateObjectsInPage",value:function(e){var t=this.pages[e].elements.filter(function(e){return""!==e.animationClass&&"none"!==e.animationClass}).sort(function(e,t){return e.layerIndex-t.layerIndex});t.forEach(function(e){var t=document.getElementById(e.domNodeId);null!==t&&(t.style.display="none")}),this.runAnimation(t,0)}},{key:"runAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t>=e.length)){var a=this,n=e[t],r=document.getElementById(n.domNodeId);null!==r&&(r.style.display="block",this.animateObject(r,n.animationClass,n.easeSetting,n.animationDuration,n.extra_rotation_angle,n.extraOpacity),t+=1,setTimeout(function(){a.runAnimation(e,t)},100))}}},{key:"runExitAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t>=e.length)){var a=this,n=e[t],r=document.getElementById(n.domNodeId);null!==r&&(this.animateObject(r,n.animationClass,n.easeSetting,n.animationDuration,n.extra_rotation_angle,n.extraOpacity,"reverse").then(function(){null!==r&&(r.style.display="none")}),t+=1,setTimeout(function(){a.runExitAnimation(e,t)},100))}}},{key:"animateObject",value:function(e,t,a,n,r,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"normal";return new Promise(function(s,l){e.style.setProperty("--m",r),e.style.setProperty("--n",i),e.style.animation=t+", extra-rotation, extra-opacity",a&&""!==a&&(e.style.animationTimingFunction=a),e.style.animationDuration="reverse"===o?"1s":n,e.style.animationDirection=o,e.addEventListener("animationend",function(t){t.stopPropagation(),e.style.removeProperty("animation"),e.style.removeProperty("animationTimingFunction"),e.style.removeProperty("animationDuration"),e.style.removeProperty("animationDirection"),s("Animation ended")},{once:!0})})}},{key:"render",value:function(){return c.a.createElement("div",{id:"dm_anim_player_div"})}}]),t}(l.Component)),p=function(e){function t(e){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,{show:this.props.show,onHide:this.props.hide,dialogClassName:"animations-player-modal"},c.a.createElement(d.a.Body,null,c.a.createElement(u,{design:this.props.design})))}}]),t}(l.Component)},742:function(e,t,a){"use strict";var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(81),g=a.n(m),_=a(1409),h=a(1410),f=(a(191),a(109)),b=a(197),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).updateFields=function(e){if(e){var t=JSON.parse(JSON.stringify(e));t.opacity*=100,t.r*=20,t.blur*=20,t.size*=10,a.setState({shadow:t,shadowSelected:!0})}},a.handleTextEffectsOnChange=function(e){var t=0,n=100;if("shadow_theta"===e.target.name&&(t=-180,n=180),e.target.name.includes("olor")||a.isValidInput(e.target.value,t,n)){var r=e.target.name,i=e.target.value;"opacity"===(r=r.split("shadow_")[1])&&100,"r"===r&&20,"blur"===r&&20,"size"===r&&10;var o={};o.shadow=a.state.shadow,o.shadow[r]=i;var s=JSON.parse(JSON.stringify(o));s.shadow.r/=20,s.shadow.blur/=20,s.shadow.opacity/=100,s.shadow.size/=10,a.set_state(o),a.applyShadow(s)}},a.applyShadow=function(e){a.props.design_selection&&(a.props.design_selection.get_parent("grid")?a.props.design_selection.get_parent("grid").shadow=e.shadow:a.props.design_selection.shadow=e.shadow,window.design_editor.needs_redraw=!0)},a.set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return a.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.isValidInput=function(e,t,a){if(""===e)return!0;var n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=a},a.handleClickShadowColorPicker=function(){a.setState({displayShadowColorPicker:!a.state.displayShadowColorPicker})},a.handleCloseShadowColorPicker=function(){a.setState({displayShadowColorPicker:!1})},a.shadowOnClick=function(){var e={shadowSelected:!a.state.shadowSelected};a.set_state(e).then(function(){if(a.state.shadowSelected){var e={};e.shadow=a.state.shadow;var t=JSON.parse(JSON.stringify(e));t.shadow.r/=20,t.shadow.blur/=20,t.shadow.opacity/=100,t.shadow.size/=10,a.applyShadow(t)}else a.applyShadow({shadow:null})})},a.ShadowDropper=function(){var e=g()({default:{color:{width:"30px",height:"30px",borderRadius:"15px",border:"1px",background:a.state.shadow.shadowColor},swatch:{padding:"2.5px",borderRadius:"15px",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}}});return p.a.createElement("div",null,p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Offset"),p.a.createElement(h.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadow_r",min:"0",max:"100",value:a.state.shadow.r,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(h.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadow_r",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadow.r}))),p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Direction"),p.a.createElement(h.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadow_theta",min:"-180",max:"180",value:a.state.shadow.theta,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(h.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadow_theta",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadow.theta}))),p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Blur"),p.a.createElement(h.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadow_blur",min:"0",max:"100",value:a.state.shadow.blur,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(h.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadow_blur",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadow.blur}))),p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Opacity"),p.a.createElement(h.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadow_opacity",min:"0",max:"100",value:a.state.shadow.opacity,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(h.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadow_opacity",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadow.opacity}))),p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Size"),p.a.createElement(h.a,{xs:7},p.a.createElement("input",{type:"range",className:"adjustment-slider",name:"shadow_size",min:"0",max:"100",value:a.state.shadow.size,onChange:function(e){return a.handleTextEffectsOnChange(e)}})),p.a.createElement(h.a,{className:"filter-adjustment-col",xs:2},p.a.createElement("input",{type:"text",className:"adjustment-input-text",name:"shadow_size",onChange:function(e){return a.handleTextEffectsOnChange(e)},value:a.state.shadow.size}))),p.a.createElement(_.a,{style:{marginBottom:10}},p.a.createElement(h.a,{xs:3,className:"adjustment-controls-text",style:{fontSize:"1.5rem"}},"Color"),p.a.createElement(h.a,{xs:9,className:"adjustment-controls-text",style:{float:"right",paddingTop:0}},p.a.createElement("div",null,p.a.createElement("div",{style:e.swatch,onClick:a.handleClickShadowColorPicker},p.a.createElement("div",{style:e.color})),a.state.displayShadowColorPicker?p.a.createElement("div",{style:e.popover},p.a.createElement("div",{style:e.cover,onClick:a.handleCloseShadowColorPicker}),p.a.createElement(f.a,{user:a.props.user,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"],disableAlpha:!0,color:e.color.background,onChange:function(e){a.handleTextEffectsOnChange({target:{value:e.hex,name:"shadow_shadowColor"}})}})):null))))},a.state={shadowSelected:!1,shadow:{shadowColor:"#aaaaaa",r:40,theta:116,blur:40,opacity:100,size:40},displayShadowColorPicker:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.design_selection&&(this.props.design_selection.get_parent("grid")?this.updateFields(this.props.design_selection.get_parent("grid").shadow):this.updateFields(this.props.design_selection.shadow))}},{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(_.a,null,p.a.createElement(b.a,{Dropper:this.ShadowDropper,show_dropper:this.state.shadowSelected,trigger_on_click:this.shadowOnClick,title:"Shadow"})))}}]),t}(u.Component);t.a=v},743:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(1449),g=a(549),_=a(20),h=a(1409),f=a(1410),b=a(39),v=a(161),y=a(124),w=a(83),E=function(t){var a=t.order;return p.a.createElement(m.a,null,p.a.createElement(m.a.Heading,{style:{backgroundColor:"#f1f2f3",backgroundImage:"none",paddingTop:14,paddingBottom:14}},p.a.createElement("span",null,p.a.createElement(g.a,{style:{padding:8,fontWeight:500,backgroundColor:"#f1f2f3",color:"black",border:"1px  grey"}},p.a.createElement("span",{style:{fontSize:14}},"Order ID - ",a._id))),p.a.createElement("span",{className:"pull-right"},p.a.createElement(_.a,{target:"blank",style:{marginTop:"-5px"},href:e.config.server_path+a.skus[0].output_file,bsStyle:"blue-adapt",bsSize:"small"},p.a.createElement("span",{className:"fa fa-download"}),"\xa0 Download Now")," ")),p.a.createElement(m.a.Body,null,p.a.createElement(h.a,{style:{paddingTop:5,paddingBottom:5}},p.a.createElement(f.a,{xs:4,align:"center"},p.a.createElement(b.a,{style:{maxHeight:150,maxWidth:"100%",objectFit:"contain"},src:e.config.server_path+a.skus[0].output_file})),p.a.createElement(f.a,{xs:8,align:"center"},p.a.createElement(h.a,{style:{padding:"5px"}},p.a.createElement(f.a,{xs:2},p.a.createElement("b",null,"Mockup")),p.a.createElement(f.a,{xs:4},p.a.createElement("p",null,"Order placed on"),p.a.createElement("p",null,new Date(a.createdAt).toDateString())),p.a.createElement(f.a,{xs:6,align:"right"},p.a.createElement("p",{style:{color:"#2572CE"}}," Payment successful \xa0 ",p.a.createElement("span",{className:"fa fa-check"})," "),"fulfilled"==a.status?p.a.createElement("p",{style:{color:"#2572CE"}}," Order Fulfilled \xa0 ",p.a.createElement("span",{className:"fa fa-check"})," "):p.a.createElement("p",{style:{color:"red"}}," Order Pending \xa0 ",p.a.createElement("span",{className:"fa fa-times"})," ")))))),p.a.createElement(m.a.Footer,{style:{backgroundColor:"#f1f2f3",backgroundImage:"none"}},p.a.createElement(h.a,{style:{fontWeight:"bold"}},p.a.createElement(f.a,{xs:6,className:"text-left"},"Order Total"),p.a.createElement(f.a,{xs:6,className:"text-right"},"$",a.amount," USD"))))},x=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).fetch_order_history=Object(i.a)(r.a.mark(function t(){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"user/fetch_order_history/",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return i=t.sent,t.next=7,i.json();case 7:i=(i=t.sent).data.filter(function(e){return e.skus&&e.skus.length&&"mockup"==e.skus[0].type}),console.log("order history --\x3e ",i),n.setState({order_history:i}),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(0);case 15:case"end":return t.stop()}},t,this,[[0,13]])})),n.download_file=function(e){var t=window.document.createElement("a");t.href=e,t.download="mockup.png",t.click()},n.state={order_history:[]},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetch_order_history()}},{key:"render",value:function(){return this.props.user?p.a.createElement("div",null,p.a.createElement(h.a,{style:{borderTop:"1px solid #e6e6e6",paddingTop:75}},p.a.createElement(f.a,{xs:2,style:{borderRight:"1px solid #e6e6e6",height:"calc(100vh - 75px)",backgroundColor:"#f8f8f8"}}),p.a.createElement(f.a,{xs:8,style:{height:"calc(100vh - 75px)",overflowY:"scroll"}},p.a.createElement(h.a,{style:{height:"5vh",padding:"20px",fontSize:"x-large",textAlign:"center"}},p.a.createElement("b",null,"Your Orders")),p.a.createElement(h.a,{style:{padding:"20px"}},this.state.order_history.map(function(e){return p.a.createElement(f.a,{xs:12},p.a.createElement(E,{order:e}))}))),p.a.createElement(f.a,{xs:2,style:{borderLeft:"1px solid #e6e6e6",backgroundColor:"#f8f8f8",height:"calc(100vh - 75px)"}}))):p.a.createElement(v.a,{to:"/mockupmaker"})}}]),a}(u.Component);t.a=Object(y.a)(Object(w.connect)(function(e){return{user:e.user}},function(e){return{}})(x))}).call(this,a(40))},744:function(e,t,a){"use strict";var n=a(35),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(0),d=a.n(c),u=a(83),p=a(1449),m=a(273),g=a(110),_=a(1409),h=a(20),f=a(312),b=a(122),v=a(272),y=(a(1312),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={active_page:a.props.active_page,show_category_dropdown:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"fixed",top:0,left:0,zIndex:"1000"},onClick:function(){return e.setState({show_category_dropdown:!1})}}),d.a.createElement(p.a,{className:"thin_scroll",style:{height:"40vh",overflowY:"auto",position:"absolute",marginTop:10,marginRight:10,marginLeft:"-10px",zIndex:"1500"}},d.a.createElement(m.a,null,this.props.template_categories&&this.props.template_categories.map(function(t,a){return d.a.createElement(g.a,{key:a,style:{fontFamily:"Montserrat",fontWeight:"400",fontSize:14},onClick:function(){return e.props.design_template_on_click(t.example,t)}},t.name)})))),a={nav_text:{fontFamily:"Montserrat",color:"#756A60",marginLeft:27,fontSize:16},nav_active:{color:"#FF841F",borderBottom:"solid 2px"}};return d.a.createElement("div",{style:{width:"inherit",height:"-webkit-fill-available",position:"fixed",backgroundColor:"white"}},d.a.createElement(_.a,{style:{marginLeft:30,marginTop:"10px",paddingTop:38}},d.a.createElement(h.a,{onClick:function(){return e.setState({show_category_dropdown:!0})},style:{fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:28,paddingRight:28,fontFamily:"Montserrat",fontWeight:500},className:"btn-orange"},d.a.createElement("span",{className:"fa fa-sm fa-plus"})," Generate New"),this.state.show_category_dropdown&&t,d.a.createElement("br",null),d.a.createElement("div",null),d.a.createElement(f.a,{style:{marginTop:33,paddingRight:11},stacked:!0,activeKey:this.state.active_page},d.a.createElement(v.LinkContainer,{to:"/designmaker/start"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"designs"})},className:"designs"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"designs"==this.state.active_page?"text-orange":"",style:a.nav_text},"Dashboard"),d.a.createElement("div",{style:{display:"designs"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"}))),d.a.createElement(v.LinkContainer,{to:"/designmaker/start/templates"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"templates"})},className:"templates"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"templates"==this.state.active_page?"text-orange":"",style:a.nav_text},"Templates"),d.a.createElement("div",{style:{display:"templates"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"}))),d.a.createElement(v.LinkContainer,{to:"/designmaker/start/wizard"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"wizard"})},className:"wizard"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"wizard"==this.state.active_page?"text-orange":"",style:a.nav_text},"Wizard"),d.a.createElement("div",{style:{display:"wizard"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"}))),this.props.user&&d.a.createElement(d.a.Fragment,null,d.a.createElement(v.LinkContainer,{to:"/designmaker/start/shared-designs"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"shared-designs"})},className:"shared-designs"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"shared-designs"==this.state.active_page?"text-orange":"",style:a.nav_text},"Shared with me"),d.a.createElement("div",{style:{display:"shared-designs"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"}))),d.a.createElement(v.LinkContainer,{to:"/designmaker/start/folders"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"folders"})},className:"folders"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"folders"==this.state.active_page?"text-orange":"",style:a.nav_text},"Folders"),d.a.createElement("div",{style:{display:"folders"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"}))),d.a.createElement(v.LinkContainer,{to:"/designmaker/start/design-orders"},d.a.createElement(b.a,{onClick:function(){return e.setState({active_page:"orders"})},className:"orders"==this.state.active_page?"dashboard_nav dashboard_active_nav":"dashboard_nav"},d.a.createElement("span",{className:"orders"==this.state.active_page?"text-orange":"",style:a.nav_text},"Purchases"),d.a.createElement("div",{style:{display:"orders"==this.state.active_page?"block":"none"},className:"dashboard_active_nav_indicator"})))))))}}]),t}(c.Component));t.a=Object(u.connect)(function(e,t){return Object(n.a)({user:e.user},t)},function(e){return{logout:function(){return e({type:"none"})}}})(y)},745:function(e,t,a){"use strict";(function(e){var n=a(8),r=a(9),i=a(6),o=a.n(i),s=a(15),l=a(79),c=a(35),d=a(30),u=a(31),p=a(33),m=a(32),g=a(34),_=a(0),h=a.n(_),f=a(104),b=a(29),v=a(169),y=a(20),w=a(273),E=a(110),x=a(1409),k=a(105),O=a(1410),S=a(157),C=a(95),j=a(548),N=(a(191),a(83)),T=a(89),P=a.n(T),z=a(306),F=a.n(z),D=a(410),A=a(229),I=a(221),R=a(109),B=(a(1329),{slidesToShow:1,slidesToScroll:5,variableWidth:!0,infinite:!1,nextArrow:h.a.createElement(function(e){e.className,e.style;var t=e.onClick;return h.a.createElement("div",{className:"slick-arrow slick-next",onClick:t},h.a.createElement("i",{style:{width:"20px",height:"20px",color:"#333333"},className:"fas fa-lg fa-angle-right"}))},null),prevArrow:h.a.createElement(function(e){e.className,e.style;var t=e.onClick;return h.a.createElement("div",{className:"slick-arrow slick-prev",onClick:t},h.a.createElement("i",{style:{width:"20px",height:"20px",color:"#333333"},className:"fas fa-lg fa-angle-left"}))},null)}),M={color:"#A5759E",fontSize:14,cursor:"pointer"},L=function(t){function a(t){var i,u=this;return Object(d.a)(this,a),(i=Object(p.a)(this,Object(m.a)(a).call(this,t))).fetch_teams=function(){i.props.fetch_teams().then(function(t){var a=t.own_teams[0],n=t.own_teams[0].brand_kits[0];n=Object(c.a)({all_fonts:[].concat(Object(l.a)(n.selected_fonts.map(function(e){return Object(c.a)({},e,{type:"design_resource"})})),Object(l.a)(a.font_uploads.map(function(e){return Object(c.a)({},e,{type:"user_upload"})})))},n),i.setState({selected_team:a,selected_brand_kit:n,own_teams:t.own_teams,member_teams:t.member_teams}),n.all_fonts.map(function(t){new FontFace(t.name,"url("+e.config.server_path+t.src+")").load().then(function(e){document.fonts.add(e),document.body.style.fontFamily='"'+t.name+'", Arial'}).catch(function(e){console.log(e)})});var r=a.font_uploads.map(function(e){return{value:e.name,label:e.name,font_src:e.src}});i.setState({font_options:r})}).catch(function(e){return Promise.reject(e)})},i.fetch_color_palettes=function(){var e=Object(s.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t?i.setState({active_color_category:t}):t=i.state.active_color_category,e.next=3,i.props.fetch_color_palettes(t,i.state.limit,i.state.page);case 3:(a=e.sent).length?i.setState({color_palettes:[].concat(Object(l.a)(i.state.color_palettes),Object(l.a)(a))}):i.setState({has_more_cp:!1});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),i.hide_confirmation_modal=function(){return i.setState({show_confirmation_modal:!1,deletion_element:null,deletion_index:null})},i.hide_font_selection_modal=function(){return i.setState({show_font_selection_modal:!1})},i.delete_element_with_confirmation=function(e){var t=e.deletion_element,a=e.deletion_index;i.setState({show_confirmation_modal:!0,deletion_element:t,deletion_index:a})},i.show_swatches_modal=function(){return i.setState({active_color_category:null,color_palettes:[],show_modal_swatches:!0})},i.ConfirmationModal=function(e){var t=e.show_confirmation_modal,a=e.hide_confirmation_modal,n=e.deletion_element,r=e.deletion_index;return h.a.createElement(b.a,{show:t,onHide:a},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Delete ",n)),h.a.createElement(v.a,{horizontal:!0},h.a.createElement(b.a.Body,null,h.a.createElement("span",{style:{fontFamily:"Montserrat"}}," Are you sure want to delete this ",n," ?")),h.a.createElement(b.a.Footer,null,h.a.createElement(y.a,{className:"btn-orange-inverse",onClick:function(){a()}},"No"),h.a.createElement(y.a,{className:"btn-orange-inverse",onClick:function(){a(),console.log(n,r),i.delete_bk_element()}},"Yes"))))},i.FontSelectionModal=function(e){var t=e.show_font_selection_modal,a=e.hide_font_selection_modal,n=e.update_brand_data,r=e.fetch_teams,c=function(){var e=Object(s.a)(o.a.mark(function e(t){var s,c,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.value,t.name,s=t._id,(c=JSON.parse(JSON.stringify(i.state.selected_brand_kit))).selected_fonts=[s].concat(Object(l.a)(c.selected_fonts.map(function(e){return e._id}))),e.next=5,n(c);case 5:return d=e.sent,console.log(d),e.next=9,r();case 9:a();case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return h.a.createElement(b.a,{show:t,onHide:a},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Choose Fonts")),h.a.createElement(v.a,{horizontal:!0},h.a.createElement(b.a.Body,null,h.a.createElement(D.a,{external_height:"250px",update_inputs_text:c}))))},i.FontsPanel=function(){if(i.props.user&&i.state.selected_team){var e={heading:{fontFamily:i.state.selected_brand_kit.fonts.heading.name,fontSize:i.state.selected_brand_kit.fonts.heading.size+"px"},sub_heading:{fontFamily:i.state.selected_brand_kit.fonts.sub_heading.name,fontSize:i.state.selected_brand_kit.fonts.sub_heading.size+"px"},paragraph:{fontFamily:i.state.selected_brand_kit.fonts.paragraph.name,fontSize:i.state.selected_brand_kit.fonts.paragraph.size+"px"}};return h.a.createElement("table",null,h.a.createElement("tbody",null,h.a.createElement("tr",{style:Object(c.a)({},e.heading,{verticalAlign:"top"})},h.a.createElement("td",null,h.a.createElement("div",null," Headings are ",i.state.selected_team.brand_kits[0].fonts.heading.name,", size ",i.state.selected_team.brand_kits[0].fonts.heading.size)),h.a.createElement("td",null,h.a.createElement("div",{onClick:function(e){return i.open_modal_font_style("heading")},className:"btn btn-orange btn-circle"},h.a.createElement("span",{className:"fas fa-edit"})))),h.a.createElement("hr",null),h.a.createElement("tr",{style:Object(c.a)({},e.sub_heading,{verticalAlign:"top"})},h.a.createElement("td",null,h.a.createElement("div",null," Sub headings are ",i.state.selected_team.brand_kits[0].fonts.sub_heading.name,", size ",i.state.selected_team.brand_kits[0].fonts.sub_heading.size)),h.a.createElement("td",null,h.a.createElement("div",{onClick:function(e){return i.open_modal_font_style("sub_heading")},className:"btn btn-orange btn-circle"},h.a.createElement("span",{className:"fas fa-edit"})))),h.a.createElement("hr",null),h.a.createElement("tr",{style:Object(c.a)({},e.paragraph,{verticalAlign:"top"})},h.a.createElement("td",null,h.a.createElement("div",null," Normal text are ",i.state.selected_team.brand_kits[0].fonts.paragraph.name,", size ",i.state.selected_team.brand_kits[0].fonts.sub_heading.size,". This is a sample paragraph. Text looks like this. The quick brown fox jumps over a lazy dog.")),h.a.createElement("td",null,h.a.createElement("div",{onClick:function(e){return i.open_modal_font_style("paragraph")},className:"btn btn-orange btn-circle"},h.a.createElement("span",{className:"fas fa-edit"}))))))}return h.a.createElement(h.a.Fragment,null,h.a.createElement("h1",null,h.a.createElement("br",null),h.a.createElement("br",null)),h.a.createElement("h2",null,h.a.createElement("br",null),h.a.createElement("br",null)),h.a.createElement("p",null,h.a.createElement("br",null),h.a.createElement("br",null)))},i.CustomFontsPanel=function(){return h.a.createElement(w.a,null,h.a.createElement(y.a,{style:{borderRadius:0},className:"btn-block btn-orange"},h.a.createElement("span",{className:"fas fa-plus fa-lg"})," \xa0  ",h.a.createElement("b",null,"Upload New Font")),i.state.selected_team&&i.state.selected_team.font_uploads.map(function(e){return h.a.createElement(E.a,null,h.a.createElement("span",{style:{fontFamily:e.name}},e.name)," ")}))},i.FontPanel=function(){return i.props.user&&i.state.selected_team&&i.state.selected_brand_kit.all_fonts.length&&i.state.selected_brand_kit.all_fonts[0]?h.a.createElement(x.a,{style:{marginTop:10,marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:5,paddingRight:5}},h.a.createElement(F.a,Object.assign(Object(r.a)({className:"brandkit-horizontal-scroll-component"},"className","slick_shadow"),B),i.state.selected_brand_kit&&i.state.selected_brand_kit.all_fonts.map(function(e,t){return h.a.createElement(u.FontBox,{className:"template_slide_container_bk",font:e,index:t})})))):"No fonts selected"},i.FontBox=function(e){var t=e.font,a=e.index,n={padding:7,fontFamily:t.name,fontSize:28,whiteSpace:"nowrap",height:150,width:150,maxWidth:150,display:"table-cell",verticalAlign:"middle",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"};return h.a.createElement("div",{className:"template_slide_container_bk",key:"horizonal-scroll-tempates"+a,style:{height:150,width:150,border:"1px solid #C8CDD4",borderRadius:6,marginBottom:10,marginRight:10}},h.a.createElement("div",{style:n},t.name),h.a.createElement("div",{className:"btn btn-circle btn-orange btn-xs",onClick:function(){return i.delete_element_with_confirmation({deletion_element:"font_"+t.type,deletion_index:a})},style:{display:"block",float:"right",position:"absolute",top:-5,right:-10,borderRadius:"50%"}},h.a.createElement("span",{style:{padding:1},className:"fas fa-times"})," "))},i.update_color=function(e,t){i.setState({current_color:e}),console.log(e)},i.update_all_colors=function(){var e=JSON.parse(JSON.stringify(i.state.selected_brand_kit));e.color_palette&&e.color_palette.length?e.color_palette[0].colors.push(i.state.current_color.hex):e.color_palette=[{colors:[i.state.current_color.hex]}],i.props.update_brand_data(e).then(function(e){console.log(e),i.fetch_teams()}).catch(function(e){return console.log(e)}),console.log("final bk -><><><><><-",e),i.setState({show_color_picker:null})},i.set_colors=function(e){var t=JSON.parse(JSON.stringify(i.state.selected_brand_kit));t.color_palette=[].concat(Object(l.a)(t.color_palette),[e]),i.props.update_brand_data(t).then(function(e){console.log(e),i.fetch_teams()}).catch(function(e){return console.log(e)}),console.log("final bk -><><><><><-",t),i.setState({show_modal_swatches:null})},i.delete_bk_element=Object(s.a)(o.a.mark(function e(){var t,a,n,r,s,l,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=JSON.parse(JSON.stringify(i.state.selected_brand_kit)),a=i.state,n=a.deletion_element,r=a.deletion_index,"logo"!=n){e.next=7;break}t.logos.splice(r,1),e.next=22;break;case 7:if("color_palette"!=n){e.next=11;break}t.color_palette.splice(r,1),e.next=22;break;case 11:if("font_design_resource"!=n){e.next=16;break}s=t.all_fonts[r],t.selected_fonts=t.selected_fonts.filter(function(e){return e._id!=s._id}),e.next=22;break;case 16:if("font_user_upload"!=n){e.next=22;break}return s=t.all_fonts[r],l=JSON.parse(JSON.stringify(i.state.selected_team)),console.log("updating team data"),l.font_uploads=l.font_uploads.filter(function(e){return e._id!=s._id}),e.abrupt("return",i.update_font_uploads({team_id:l._id,font_uploads:l.font_uploads}));case 22:return e.next=24,i.props.update_brand_data(t);case 24:c=e.sent,console.log(c),i.fetch_teams(),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}},e,this,[[0,29]])})),i.update_font_uploads=function(){var t=Object(s.a)(o.a.mark(function t(a){var n,r,s,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.team_id,r=a.font_uploads,t.prev=1,console.log(n,r),s=e.config.server_path+"user/update_font_uploads",t.next=6,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({team_id:n,font_uploads:r})});case 6:return l=t.sent,t.next=9,l.json();case 9:l=t.sent,i.fetch_teams(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[1,13]])}));return function(e){return t.apply(this,arguments)}}(),i.delete_element=function(e,t){console.log(e,t);var a=JSON.parse(JSON.stringify(i.state.selected_brand_kit));"logo"==e?a.logos.splice(t,1):"color"==e&&a.color_palette[0].colors.splice(t,1),i.props.update_brand_data(a).then(function(e){console.log(e),i.fetch_teams()}).catch(function(e){return console.log(e)}),console.log("final bk -><><><><><-",a)},i.hideColorPicker=function(){i.setState({show_color_picker:!1})},i.showColorPicker=function(e){var t=e.target;i.setState({show_color_picker:!0,target:t})},i.hide_new_color_palette_modal=function(){return i.setState({show_new_color_palette_modal:!1})},i.color_picker=function(e){var t=e.on_change,a=Object(_.useState)("#fff"),r=Object(n.a)(a,2),o=r[0],s=r[1],l={popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"-1"}};return h.a.createElement("div",null,i.state.show_color_picker?h.a.createElement("div",{style:l.popover},h.a.createElement("div",{style:l.cover,onClick:function(){i.hideColorPicker(),t(o)}}),h.a.createElement(R.a,{user:i.props.user,color:o,onChange:function(e){return s(e.hex)},target:i.state.target,presetColors:["#ffffff","#f3ec3a","#f9bd17","#f99b1d","#f15523","#ef3124","#DE0081","#a71e48","#7c3597","#463191","#000000","#3d5dac","#1296ce","#63b145","#19BC81","#d0dd36"]})):null)},i.UploadContainer=function(e){return h.a.createElement("div",{key:e.index,style:{marginBottom:10,marginRight:10,display:"inline-block",backgroundColor:e.color,position:"relative"},className:"img-thumbnail"},h.a.createElement("img",{style:{height:100,width:100},src:e.src?e.src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}),h.a.createElement("div",{className:"btn btn-circle btn-orange btn-xs",onClick:function(){return"color"==e.type?e.delete_color(e.index):i.delete_element(e.type,e.index)},style:{display:"block",float:"right",position:"absolute",top:-10,right:-10,borderRadius:"50%"}},h.a.createElement("span",{style:{padding:1},className:"fas fa-times"})," "))},i.AddButton=function(e){return h.a.createElement("div",{id:"add_button",style:{verticalAlign:"middle",display:"inline-block"},onClick:e.onClick,className:"img-thumbnail"},h.a.createElement("span",{style:{padding:16},className:"fas fa-light fa-plus fa-5x centered_icon"}))},i.LogoPanel=function(){return i.props.user&&i.state.selected_team?h.a.createElement(h.a.Fragment,null,h.a.createElement(x.a,{style:{marginTop:10,marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:5,paddingRight:5}},h.a.createElement(F.a,Object.assign(Object(r.a)({className:"brandkit-horizontal-scroll-component"},"className","slick_shadow"),B),i.state.selected_team.brand_kits[0].logos.map(function(t,a){return h.a.createElement(u.LogoBox,{className:"template_slide_container_bk",src:e.config.server_path+t.src,type:"logo",index:a})}))))):h.a.createElement(h.a.Fragment,null)},i.LogoBox=function(e){return h.a.createElement("div",{key:e.index,style:{marginBottom:10,marginRight:10,display:"inline-block",position:"relative",padding:0,borderRadius:6},className:"img-thumbnail checkered_bg"},h.a.createElement("img",{style:{height:150,width:150,borderRadius:6,objectFit:"contain"},src:e.src?e.src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}),h.a.createElement("div",{className:"btn btn-circle btn-orange btn-xs",onClick:function(){return i.delete_element_with_confirmation({deletion_element:"logo",deletion_index:e.index})},style:{display:"block",float:"right",position:"absolute",top:-5,right:-10,borderRadius:"50%"}},h.a.createElement("span",{style:{padding:1},className:"fas fa-times"})," "))},i.NewColorPaletteModal=function(e){var t=e.UploadContainer,a=e.show_new_color_palette_modal,r=e.hide_new_color_palette_modal,i=e.showColorPicker,c=e.set_colors,d=e.show_swatches_modal,p=Object(_.useState)([]),m=Object(n.a)(p,2),g=m[0],f=m[1],w=Object(_.useState)(""),E=Object(n.a)(w,2),N=E[0],T=E[1],P=Object(_.useState)(!1),z=Object(n.a)(P,2),F=z[0],D=z[1],A=Object(_.useState)(),I=Object(n.a)(A,2),R=I[0],B=I[1],M=function(e){console.log("color received",e),g.push(e)},L=function(e){console.log(e),f(Object(l.a)(g.filter(function(t){return g.indexOf(t)!=e})))},W=function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(5!=g.length||!N){e.next=11;break}return D(!1),B(),e.next=5,c({name:N,colors:g});case 5:r(),T(""),f([]),D(!1),e.next=13;break;case 11:D(!0),B("You must add 5 colors and set a name");case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return h.a.createElement(b.a,{show:a,onHide:r,bsSize:"large"},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Add New Color Palette")),h.a.createElement(v.a,{horizontal:!0},h.a.createElement(b.a.Body,null,h.a.createElement(x.a,{className:"text-center"},h.a.createElement(y.a,{className:"btn-orange",style:{fontFamily:"Montserrat"},onClick:function(){r(),d()}}," Choose from existing palettes")),h.a.createElement("hr",null),h.a.createElement(k.a,{controlId:"formHorizontalName"},h.a.createElement(O.a,{style:{fontFamily:"Montserrat"},componentClass:S.a,sm:3},"Name"),h.a.createElement(O.a,{sm:6},h.a.createElement(C.a,{style:{fontFamily:"Montserrat"},required:!0,value:N,type:"text",onChange:function(e){return T(e.target.value)},name:"name",placeholder:"Name"}))),h.a.createElement(x.a,{className:"text-center"},g.map(function(e,a){return h.a.createElement(t,{color:e,index:a,delete_color:L,type:"color"})}),g.length<5&&h.a.createElement(function(e){return h.a.createElement("div",{style:{display:"inline-block"}},h.a.createElement("div",{id:"add_button",style:{verticalAlign:"middle",display:"inline-block"},onClick:e.onClick,className:"img-thumbnail"},h.a.createElement("span",{style:{padding:16},className:"fas fa-light fa-plus fa-5x centered_icon"})),h.a.createElement(u.color_picker,{on_change:M}))},{onClick:function(e){var t=e.target;return i({target:t})}}),h.a.createElement("br",null),h.a.createElement(x.a,null),F&&h.a.createElement(j.a,{style:{fontFamily:"Montserrat"},bsStyle:"danger"},h.a.createElement("strong",null,R)))),h.a.createElement(b.a.Footer,null,h.a.createElement(y.a,{className:"btn-orange",style:{fontFamily:"Montserrat"},onClick:W}," Create color palette "))))},i.ColorPanel=function(){return i.props.user&&i.state.selected_team&&i.state.selected_brand_kit.color_palette.length&&i.state.selected_brand_kit.color_palette[0]?h.a.createElement(x.a,{style:{marginTop:10,marginBottom:10}},h.a.createElement("div",{style:{paddingLeft:5,paddingRight:5}},h.a.createElement(F.a,Object.assign(Object(r.a)({className:"brandkit-horizontal-scroll-component"},"className","slick_shadow"),B),i.state.selected_brand_kit.color_palette.map(function(e,t){return h.a.createElement(u.ColorPanelBox,{className:"template_slide_container_bk",colors:e.colors,index:t})})))):"No color palettes added"},i.ColorPanelBox=function(e){var t=e.colors,a=e.index,n=function(e,a){return{height:30,width:150,backgroundColor:e,borderRadius:[0,t.length-1].includes(a)?0==a?"6px 6px 0px 0px":"0px 0px 6px 6px":0}};return h.a.createElement("div",{className:"template_slide_container_bk",key:"horizonal-scroll-tempates"+a,style:{height:150,width:150,borderRadius:9,marginBottom:10,marginRight:10}},t.map(function(e,t){return h.a.createElement("div",{style:n(e,t)})}),h.a.createElement("div",{className:"btn btn-circle btn-orange btn-xs",onClick:function(){return i.delete_element_with_confirmation({deletion_element:"color_palette",deletion_index:a})},style:{display:"block",float:"right",position:"absolute",top:-5,right:-10,borderRadius:"50%"}},h.a.createElement("span",{style:{padding:1},className:"fas fa-times"})," "))},i.upload_font=function(e){e.preventDefault(),console.log(i.state.name,i.state.file),i.props.upload_brand_file(i.state.name,i.state.upload_type,i.state.file).then(function(e){console.log(e),i.fetch_teams()}).catch(function(e){return console.log(e)}),i.setState({show_modal_upload_file:!1,upload_type:null,name:null,file:null})},i.customize_font=function(e){e.preventDefault(),console.log(i.state.size);var t=JSON.parse(JSON.stringify(i.state.selected_brand_kit));t.fonts[i.state.font_type]={size:i.state.size,src:i.state.selected_font_src,name:i.state.selected_font_name},i.props.update_brand_data(t).then(function(e){console.log(e),i.fetch_teams()}).catch(function(e){return console.log(e)}),console.log("final bk -><><><><><-",t),i.setState({font_type:null,show_modal_font_style:null,size:null,selected_font_name:null,selected_font_src:null})},i.update_uploads=function(e){i.setState(Object(r.a)({},e.target.name,e.target.files[0]))},i.update_inputs=function(e){i.setState(Object(r.a)({},e.target.name,e.target.value))},i.open_modal_font_style=function(e){i.setState({font_type:e,show_modal_font_style:!0,size:i.state.selected_brand_kit.fonts[e].size,selected_font_name:i.state.selected_brand_kit.fonts[e].name,selected_font_src:i.state.selected_brand_kit.fonts[e].src})},i.apply_font=function(e){console.log(e,e.value),i.setState({selected_font_name:e.value,selected_font_src:e.font_src})},i.state={own_teams:[],member_teams:[],selected_team:null,selected_brand_kit:null,show_modal_upload_file:!1,show_modal_swatches:!1,upload_type:null,show_modal_font_style:!1,show_color_picker:!1,font_type:null,current_color:{hex:"#ffffff"},page:1,limit:60,active_color_category:null,color_palettes:[],has_more_cp:!0,show_new_color_palette_modal:!1,show_confirmation_modal:!1,deletion_element:null,deletion_index:null,show_font_selection_modal:!1},i}return Object(g.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("history",this.props),this.fetch_teams(),this.props.fetch_display_color_palettes().then(function(t){var a=t.color_palettes,n=t.category_data;e.setState({display_color_palettes:a,color_palette_categories:n})})}},{key:"render",value:function(){var e=this,t={control:function(e){return Object(c.a)({},e,{backgroundColor:"white"})},option:function(e,t){var a=t.data;t.isDisabled,t.isFocused,t.isSelected;return Object(c.a)({},e,{fontFamily:a.label})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(c.a)({},e,{opacity:a,transition:"opacity 300ms"})}},a=(h.a.createElement("div",{className:"centeredOverlay"}," ",h.a.createElement("span",{className:""})," ",h.a.createElement("span",null,h.a.createElement("h3",{style:{color:"#ffffff"}},"Login/Sign upto create your own brand kit."))),h.a.createElement(b.a,{show:this.state.show_modal_upload_file,onHide:function(){return e.setState({show_modal_upload_file:!1,upload_type:null})}},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Add New ","font"==this.state.upload_type?"Custom Font":"Logo")),h.a.createElement(v.a,{horizontal:!0,onSubmit:this.upload_font},h.a.createElement(b.a.Body,null,"font"==this.state.upload_type?h.a.createElement(h.a.Fragment,null,h.a.createElement(x.a,{className:"text-center"},h.a.createElement(y.a,{className:"btn-orange",style:{fontFamily:"Montserrat"},onClick:function(){return e.setState({show_font_selection_modal:!0,show_modal_upload_file:!1,upload_type:null})}}," Choose from existing palettes")),h.a.createElement("hr",null)):h.a.createElement(h.a.Fragment,null),h.a.createElement(k.a,{controlId:"formHorizontalName"},h.a.createElement(O.a,{style:{fontFamily:"Montserrat"},componentClass:S.a,sm:3},"Name"),h.a.createElement(O.a,{sm:9},h.a.createElement(C.a,{style:{fontFamily:"Montserrat"},required:!0,value:this.state.name?this.state.name:"",type:"text",onChange:function(t){return e.update_inputs(t)},name:"name",placeholder:"Name"}))),h.a.createElement(k.a,{controlId:"formHorizontalImage"},h.a.createElement(O.a,{componentClass:S.a,sm:3,style:{fontFamily:"Montserrat"}},"Upload File"),h.a.createElement(O.a,{sm:9},h.a.createElement(C.a,{required:!0,type:"file",style:{marginTop:"0.7rem",fontFamily:"Montserrat"},onChange:function(t){return e.update_uploads(t)},name:"file"})))),h.a.createElement(b.a.Footer,null,h.a.createElement(y.a,{type:"submit",className:"btn-orange",style:{fontFamily:"Montserrat"}},"Upload ","font"==this.state.upload_type?"Custom Font":"Logo"))))),n=h.a.createElement(b.a,{show:this.state.show_modal_font_style,onHide:function(){return e.setState({show_modal_font_style:!1,font_type:null})}},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Customize ","sub_heading"==this.state.font_type?"sub heading":this.state.font_type," font")),h.a.createElement(v.a,{horizontal:!0,onSubmit:this.customize_font},h.a.createElement(b.a.Body,null,h.a.createElement(k.a,{controlId:"formHorizontalName"},h.a.createElement(O.a,{componentClass:S.a,style:{fontFamily:"Montserrat"},sm:3},"Font Size (in px)"),h.a.createElement(O.a,{sm:9},h.a.createElement(C.a,{required:!0,value:this.state.size?this.state.size:null,style:{fontFamily:"Montserrat"},onChange:function(t){return e.update_inputs(t)},type:"number",name:"size",placeholder:"Font Size"}))),h.a.createElement(k.a,{controlId:"formHorizontalFont"},h.a.createElement(O.a,{componentClass:S.a,sm:3,style:{fontFamily:"Montserrat"}},"Select Font"),h.a.createElement(O.a,{sm:9},h.a.createElement(f.b,{label:"Single select",value:this.state.selected_font_name?{value:this.state.selected_font_name,label:this.state.selected_font_name,font_src:this.state.selected_font_src}:null,options:[{label:"Cutom Fonts",options:this.state.font_options}],styles:t,placeholder:"Choose Font",onChange:function(t){return e.apply_font(t)}})))),h.a.createElement(b.a.Footer,null,h.a.createElement(y.a,{style:{fontFamily:"Montserrat"},type:"submit",className:"btn-orange"},"Change ","sub_heading"==this.state.font_type?"sub heading":this.state.font_type," style")))),r=h.a.createElement(b.a,{show:this.state.show_modal_swatches,onHide:function(){return e.setState({show_modal_swatches:!1})}},h.a.createElement(b.a.Header,{closeButton:!0},h.a.createElement(b.a.Title,{style:{fontFamily:"Montserrat",fontWeight:800}},"Choose color palette ",this.state.active_color_category?"- "+this.state.color_palette_categories[this.state.active_color_category].name:"")),h.a.createElement(b.a.Body,{style:{maxHeight:"60vh",overflowY:"auto"}},this.state.active_color_category?h.a.createElement(h.a.Fragment,null,h.a.createElement(x.a,null,h.a.createElement("span",{style:{fontFamily:"Montserrat",fontSize:14,cursor:"pointer"},className:"btn-secondary btn-xs",onClick:function(){return e.setState({color_palettes:[],active_color_category:null})}},h.a.createElement("span",{className:"fa fa-arraow-left"})," \xa0Back")),h.a.createElement("br",null),h.a.createElement(P.a,{dataLength:this.state.color_palettes.length,next:this.fetch_color_palettes,hasMore:this.state.has_more_cp,endMessage:h.a.createElement("h4",null,"No more results."),height:500},h.a.createElement(x.a,{style:{height:"100%"}},this.state.color_palettes&&this.state.color_palettes.map(function(t){return h.a.createElement(O.a,{style:{padding:2,height:47},xs:6,className:"swatch_container",onClick:function(){return e.set_colors(t)}},t.colors.map(function(e){return h.a.createElement(O.a,{className:"color_container",style:{padding:0,marginLeft:4,marginBottom:10},xs:2},h.a.createElement("div",{style:{padding:1,height:35,backgroundColor:e}}))}))})))):h.a.createElement(w.a,null,this.state.display_color_palettes&&Object.keys(this.state.display_color_palettes).map(function(t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(E.a,{style:{fontFamily:"Montserrat",fontSize:14,backgroundColor:"#F1F2F3",paddingLeft:4,paddingRight:4,paddingTop:6,paddingBottom:6}},e.state.color_palette_categories[t].name," ",h.a.createElement("span",{style:{fontFamily:"Montserrat",fontSize:14,cursor:"pointer"},onClick:function(){return e.fetch_color_palettes(t)},className:"btn-secondary btn-xs pull-right"},"See All")),h.a.createElement(E.a,{style:{marginBottom:10,paddingLeft:4,paddingRight:4,paddingTop:6,paddingBottom:6}},h.a.createElement(x.a,null,e.state.display_color_palettes[t]&&e.state.display_color_palettes[t].length&&e.state.display_color_palettes[t].map(function(t){return h.a.createElement(O.a,{style:{padding:2,height:47},xs:6,className:"swatch_container",onClick:function(){return e.set_colors(t)}},t.colors.map(function(e){return h.a.createElement(O.a,{className:"color_container",style:{padding:0,marginLeft:4,marginBottom:10},xs:2},h.a.createElement("div",{style:{padding:1,height:35,backgroundColor:e}}))}))}))))}))));return h.a.createElement("div",{style:{marginLeft:"-40px"}},a,n,r,h.a.createElement(this.NewColorPaletteModal,{showColorPicker:this.showColorPicker,show_new_color_palette_modal:this.state.show_new_color_palette_modal,hide_new_color_palette_modal:this.hide_new_color_palette_modal,UploadContainer:this.UploadContainer,set_colors:this.set_colors,show_swatches_modal:this.show_swatches_modal}),h.a.createElement(this.FontSelectionModal,{show_font_selection_modal:this.state.show_font_selection_modal,hide_font_selection_modal:this.hide_font_selection_modal,update_brand_data:this.props.update_brand_data,fetch_teams:this.fetch_teams}),h.a.createElement(this.ConfirmationModal,{show_confirmation_modal:this.state.show_confirmation_modal,hide_confirmation_modal:this.hide_confirmation_modal,deletion_element:this.state.deletion_element,deletion_index:this.state.deletion_index}),h.a.createElement(x.a,{style:{backgroundColor:"white",height:"calc(100vh - 75px)",overflowY:"scroll"}},h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(x.a,null,h.a.createElement(O.a,{style:{paddingLeft:25,paddingBottom:25,paddingRight:25}},h.a.createElement(x.a,null,h.a.createElement("h4",null,h.a.createElement("span",{style:{fontWeight:"bold",fontSize:24}},"Logos "),h.a.createElement("span",{className:"pull-right",style:M,onClick:function(t){return e.setState({show_modal_upload_file:!0,upload_type:"logo"})}}," + Add New"))),h.a.createElement(x.a,{style:{paddingLeft:35}},h.a.createElement(this.LogoPanel,null)))),h.a.createElement(x.a,null,h.a.createElement(O.a,{style:{paddingLeft:25,paddingBottom:25,paddingRight:25}},h.a.createElement(x.a,null,h.a.createElement("h4",null,h.a.createElement("span",{style:{fontWeight:"bold",fontSize:24}},"Color Palettes "),h.a.createElement("span",{className:"pull-right",style:M,onClick:function(){return e.setState({show_new_color_palette_modal:!0})}}," + Add new"))),h.a.createElement(x.a,{style:{paddingLeft:35}},h.a.createElement(this.ColorPanel,null)))),h.a.createElement(x.a,null,h.a.createElement(O.a,{style:{paddingLeft:25,paddingBottom:25,paddingRight:25}},h.a.createElement(x.a,null,h.a.createElement("h4",null,h.a.createElement("span",{style:{fontWeight:"bold",fontSize:24}},"Typography"),h.a.createElement("span",{className:"pull-right",style:M,onClick:function(t){return e.setState({show_modal_upload_file:!0,upload_type:"font"})}},"  + Add new"))),h.a.createElement(x.a,{style:{paddingLeft:35}},h.a.createElement(this.FontPanel,null))))))}}]),a}(_.Component);t.a=Object(N.connect)(function(e,t){return Object(c.a)({user:e.user},t)},function(e){return{fetch_user_details:e(Object(A.a)()),fetch_teams:function(){return e(Object(I.c)())},fetch_color_palettes:function(t,a,n){return e(Object(I.a)(t,a,n))},update_brand_data:function(t){return e(Object(I.d)(t))},fetch_display_color_palettes:function(){return e(Object(I.b)())},upload_brand_file:function(t,a,n){return e(Object(I.e)(t,a,n))}}})(L)}).call(this,a(40))},746:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(6),d=a.n(c),u=a(15),p=a(8),m=a(0),g=a.n(m),_=a(1449),h=a(549),f=a(1409),b=a(1410),v=a(39),y=a(20),w=a(161),E=a(124),x=a(83),k=function(t){var a=t.order,n=Object(m.useState)(a.skus),r=Object(p.a)(n,2),i=r[0],o=r[1],s=Object(m.useState)(!1),l=Object(p.a)(s,2),c=l[0],y=l[1],E=Object(m.useState)(null),x=Object(p.a)(E,2),k=x[0],O=x[1],S=function(){var t=Object(u.a)(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(i.map(function(){var t=Object(u.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("123rf_image"!==a.type){t.next=9;break}return t.next=3,fetch(e.config.server_path+"design_resource/load_123rf_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.rf_image,design_id:a.design,quality:"m"})});case 3:return n=t.sent,t.next=6,n.json();case 6:n=t.sent,t.next=34;break;case 9:if("123rf_plus_image"!==a.type){t.next=18;break}return t.next=12,fetch(e.config.server_path+"design_resource/load_123rf_plus_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.rf_plus_image,design_id:a.design,quality:"m"})});case 12:return n=t.sent,t.next=15,n.json();case 15:n=t.sent,t.next=34;break;case 18:if("design_resource"!==a.type){t.next=27;break}return t.next=21,fetch(e.config.server_path+"design_resource/load_design_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.design_resource,design_id:a.design,quality:"m"})});case 21:return n=t.sent,t.next=24,n.json();case 24:n=t.sent,t.next=34;break;case 27:if("pixlr_image"!==a.type){t.next=34;break}return t.next=30,fetch(e.config.server_path+"design_resource/load_pixlr_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.pixlr_image,design_id:a.design,quality:"m"})});case 30:return n=t.sent,t.next=33,n.json();case 33:n=t.sent;case 34:return a.image_src=n.data.src,t.abrupt("return",a);case 36:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 3:a=t.sent,o(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return Object(m.useEffect)(function(){S()},[a]),c?g.a.createElement(w.a,{push:!0,to:k}):g.a.createElement(_.a,null,g.a.createElement(_.a.Heading,{style:{backgroundColor:"#f1f2f3",backgroundImage:"none",paddingTop:14,paddingBottom:14}},g.a.createElement("span",null,g.a.createElement(h.a,{style:{padding:8,fontWeight:500,backgroundColor:"#f1f2f3",color:"black"}},g.a.createElement("span",{style:{fontSize:14}},"Order ID - ",a._id))),g.a.createElement("span",{className:"pull-right"},g.a.createElement(h.a,{style:{padding:8,fontWeight:500,backgroundColor:"#f1f2f3",color:"black"}},g.a.createElement("span",{style:{fontSize:14}},"Placed on ",new Date(a.createdAt).toDateString()))," ")),g.a.createElement(_.a.Body,null,i.map(function(t){return g.a.createElement(f.a,{style:{paddingTop:5,paddingBottom:5}},g.a.createElement(b.a,{xs:4,align:"center"},g.a.createElement(v.a,{onClick:function(){return e="/designmaker/start/designs/"+t.design+"/edit",O(e),void y(!0);var e},style:{maxHeight:150,maxWidth:"100%",objectFit:"contain"},src:(a=t.image_src,a?a.indexOf("data:image")>-1||a.indexOf("http")>-1||a.indexOf("blob:")>-1?a.indexOf("blob:")>-1||a.indexOf("data:image")>-1?a:e.config.server_path.replace("api/","")+"api/image_proxy?src="+window.encodeURIComponent(a):e.config.server_path+a:"")})),g.a.createElement(b.a,{xs:8},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:6,align:"left"},g.a.createElement("b",null,"Premium Image"),g.a.createElement("br",null),g.a.createElement("span",{className:"single"===t.license?"fa fa-user":"fa fa-users"})," \xa0 ",t.license," license purchased"),g.a.createElement(b.a,{xs:6,align:"right"},g.a.createElement("b",null,"Item Price - $",t.price," USD")))));var a})),g.a.createElement(_.a.Footer,{style:{backgroundColor:"#f1f2f3",backgroundImage:"none"}},g.a.createElement(f.a,{style:{fontWeight:"bold"}},g.a.createElement(b.a,{xs:6,className:"text-left"},"Order Total"),g.a.createElement(b.a,{xs:6,className:"text-right"},"$",a.amount," USD"))))},O=function(t){function a(t){var i;return Object(r.a)(this,a),(i=Object(o.a)(this,Object(s.a)(a).call(this,t))).fetch_order_history=Object(u.a)(d.a.mark(function t(){var a,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"user/fetch_order_history/",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return r=t.sent,t.next=7,r.json();case 7:r=(r=t.sent).data.filter(function(e){return e.skus&&e.skus.length&&"mockup"!==e.skus[0].type&&"fulfilled"==e.status}),i.setState({order_history:r}),r.map(function(){var t=Object(u.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(a.skus.map(function(){var t=Object(u.a)(d.a.mark(function t(a){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"123rf_image"!==a.type){t.next=11;break}return t.next=4,fetch(e.config.server_path+"design_resource/load_123rf_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.rf_image,design_id:a.design,quality:"m"})});case 4:return r=t.sent,t.next=7,r.json();case 7:1===(r=t.sent).response_code&&i.setState(Object(n.a)({},a.rf_image,r.data.src)),t.next=39;break;case 11:if("123rf_plus_image"!==a.type){t.next=21;break}return t.next=14,fetch(e.config.server_path+"design_resource/load_123rf_plus_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.rf_plus_image,design_id:a.design,quality:"m"})});case 14:return r=t.sent,t.next=17,r.json();case 17:1===(r=t.sent).response_code&&i.setState(Object(n.a)({},a.rf_plus_image,r.data.src)),t.next=39;break;case 21:if("design_resource"!==a.type){t.next=31;break}return t.next=24,fetch(e.config.server_path+"design_resource/load_design_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.design_resource,design_id:a.design,quality:"m"})});case 24:return r=t.sent,t.next=27,r.json();case 27:1===(r=t.sent).response_code&&i.setState(Object(n.a)({},a.design_resource,r.data.src)),t.next=39;break;case 31:if("pixlr_image"!==a.type){t.next=39;break}return t.next=34,fetch(e.config.server_path+"design_resource/load_pixlr_resource",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.pixlr_image,design_id:a.design,quality:"m"})});case 34:return r=t.sent,t.next=37,r.json();case 37:1===(r=t.sent).response_code&&i.setState(Object(n.a)({},a.pixlr_image,r.data.src));case 39:return t.abrupt("return",1);case 42:return t.prev=42,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 45:case"end":return t.stop()}},t,this,[[0,42]])}));return function(e){return t.apply(this,arguments)}}()));case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("error fetching order history --\x3e ",t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])})),i.download_file=function(e){var t=window.document.createElement("a");t.href=e,t.download="mockup.png",t.click()},i.list_order_history=function(){for(var t=[],a=0;a<i.state.order_history.length;a++)for(var n=function(n){var r=i.state.order_history[a].skus[n];if("mockup"===r.type){var s=g.a.createElement(b.a,{xs:12},g.a.createElement(_.a,{style:{padding:"5px",border:"none"}},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:12,align:"center"},g.a.createElement(v.a,{style:{width:"50%"},src:e.config.server_path+r.output_file}))),g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:3}),g.a.createElement(b.a,{xs:3},g.a.createElement("p",null,"Placed on ",new Date(i.state.order_history[a].createdAt).toDateString(),g.a.createElement("br",null),i.state.order_history[a].amount," USD")),g.a.createElement(b.a,{xs:3,align:"right"},g.a.createElement(y.a,{target:"blank",onClick:function(){i.download_file(e.config.server_path+r.output_file)},className:"btn btn-sm btn-orange"},"Download Now")),g.a.createElement(b.a,null))));t.push(s)}else if("123rf_image"===r.type){var l=g.a.createElement(b.a,{xs:12},g.a.createElement(_.a,{style:{padding:"5px",border:"none"}},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:12,align:"center"},g.a.createElement(v.a,{style:{width:"50%"},src:i.state[r.rf_image]?e.config.server_path+i.state[r.rf_image]:""}))),g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:3}),g.a.createElement(b.a,{xs:3},g.a.createElement("p",null,"Placed on ",new Date(i.state.order_history[a].createdAt).toDateString(),g.a.createElement("br",null),i.state.order_history[a].amount," USD")))));t.push(l)}else if("123rf_plus_image"===r.type){var c=g.a.createElement(b.a,{xs:12},g.a.createElement(_.a,{style:{padding:"5px",border:"none"}},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:12,align:"center"},g.a.createElement(v.a,{style:{width:"50%"},src:i.state[r.rf_plus_image]?e.config.server_path+i.state[r.rf_plus_image]:""}))),g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:3}),g.a.createElement(b.a,{xs:3},g.a.createElement("p",null,"Placed on ",new Date(i.state.order_history[a].createdAt).toDateString(),g.a.createElement("br",null),i.state.order_history[a].amount," USD")))));t.push(c)}else if("pixlr_image"===r.type){var d=g.a.createElement(b.a,{xs:12},g.a.createElement(_.a,{style:{padding:"5px",border:"none"}},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:12,align:"center"},g.a.createElement(v.a,{style:{width:"50%"},src:i.state[r.pixlr_image]?e.config.server_path+i.state[r.pixlr_image]:""}))),g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:3}),g.a.createElement(b.a,{xs:3},g.a.createElement("p",null,"Placed on ",new Date(i.state.order_history[a].createdAt).toDateString(),g.a.createElement("br",null),i.state.order_history[a].amount," USD")))));t.push(d)}else"design_resource"===r.type&&(o=g.a.createElement(b.a,{xs:12},g.a.createElement(_.a,{style:{padding:"5px",border:"none"}},g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:12,align:"center"},g.a.createElement(v.a,{style:{width:"50%"},src:i.state[r.design_resource]?e.config.server_path+i.state[r.design_resource]:""}))),g.a.createElement(f.a,{style:{padding:"5px"}},g.a.createElement(b.a,{xs:3}),g.a.createElement(b.a,{xs:3},g.a.createElement("p",null,"Placed on ",new Date(i.state.order_history[a].createdAt).toDateString(),g.a.createElement("br",null),i.state.order_history[a].amount," USD"))))),t.push(o))},r=0;r<i.state.order_history[a].skus.length;r++){var o;n(r)}return t.length?t:g.a.createElement("div",null,"You don't have any past orders!")},i.state={order_history:[]},i}return Object(l.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetch_order_history()}},{key:"render",value:function(){return this.props.user?g.a.createElement("div",null,g.a.createElement(f.a,{style:{borderTop:"1px solid #e6e6e6"}},g.a.createElement(b.a,{xs:12,style:{height:"calc(100vh - 75px)",overflowY:"scroll"}},g.a.createElement(f.a,{style:{height:"5vh",padding:"20px",fontSize:"x-large",textAlign:"center"}},g.a.createElement("b",null,"Your Orders")),g.a.createElement(f.a,{style:{padding:"20px"}},this.state.order_history.length>0?this.state.order_history.map(function(e){return g.a.createElement(b.a,{xs:12},g.a.createElement(k,{order:e}))}):g.a.createElement(b.a,{xs:12},g.a.createElement("h3",{align:"center"},"You don't have any purchases. All your purchases within designmaker will be seen here.")))))):g.a.createElement(w.a,{to:"/designmaker/start"})}}]),a}(m.Component);t.a=Object(E.a)(Object(x.connect)(function(e){return{user:e.user}},function(e){return{}})(O))}).call(this,a(40))},747:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(9),i=a(6),o=a.n(i),s=a(15),l=a(30),c=a(31),d=a(33),u=a(32),p=a(34),m=a(0),g=a.n(m),_=a(306),h=a.n(_),f=a(83),b=a(161),v=a(1409),y=a(39),w=a(137),E=a(229);a(1331);var x={slidesToShow:1,slidesToScroll:5,variableWidth:!0,infinite:!1,nextArrow:g.a.createElement(function(e){e.className,e.style;var t=e.onClick;return g.a.createElement("div",{className:"slick-arrow slick-next",onClick:t},g.a.createElement("i",{style:{width:"20px",height:"20px",color:"#333333"},className:"fas fa-lg fa-angle-right"}))},null),prevArrow:g.a.createElement(function(e){e.className,e.style;var t=e.onClick;return g.a.createElement("div",{className:"slick-arrow slick-prev",onClick:t},g.a.createElement("i",{style:{width:"20px",height:"20px",color:"#333333"},className:"fas fa-lg fa-angle-left"}))},null)},k=function(t){function a(t){var n,i=this;return Object(l.a)(this,a),(n=Object(d.a)(this,Object(u.a)(a).call(this,t))).refresh_data=Object(s.a)(o.a.mark(function t(){var a,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.config.server_path+"category/fetch_all_design_categories",t.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});case 4:return r=t.sent,t.next=7,r.json();case 7:r=t.sent,i=r.data,n.setState({all_categories:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),n.MyLoader=function(e){return g.a.createElement("div",{style:{backgroundColor:"#f1f2f3",width:e.width?e.width:"100%",height:e.height?e.height:"100%",zIndex:"-2000",position:"absolute",bottom:35,left:0,right:0,marginLeft:"auto",marginRight:"auto",maxWidth:160,maxHeight:185}})},n.design_template_on_click=function(e,t){var a=t?"?category="+encodeURIComponent(t._id):"";n.props.copy_into_saved_design(e._id).then(function(e){n.redirect_page("/designmaker/start/designs/"+e._id+"/edit"+a)}).catch(function(e){return Promise.reject(e)})},n.category_carousel=function(){return n.state.all_categories.sort(function(e,t){return e.priority<t.priority?1:-1}).map(function(t){return g.a.createElement("div",null,g.a.createElement(v.a,{style:{fontWeight:"bold",marginTop:"25px",marginBottom:"20px"}},g.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:800,fontSize:22}},t.name)),g.a.createElement(v.a,{style:{marginTop:"10px",marginBottom:10}},g.a.createElement("div",{style:{paddingLeft:"5px",paddingRight:"5px"}},g.a.createElement(h.a,Object.assign(Object(r.a)({className:"dashboard-horizontal-scroll-component"},"className","slick_shadow"),x),t.children&&t.children.sort(function(e,t){return e.priority<=t.priority?1:-1}).filter(function(e){return e.example}).map(function(t,a){return g.a.createElement("div",{key:a,className:"template_slide_container_dashboard"},g.a.createElement(i.MyLoader,{height:t.example.design_file.height/t.example.design_file.width>1?185:t.example.design_file.height/t.example.design_file.width*160,width:t.example.design_file.width/t.example.design_file.height>1?160:t.example.design_file.width/t.example.design_file.height*185}),g.a.createElement(y.a,{style:{bottom:35,boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)",left:0,right:0,marginLeft:"auto",marginRight:"auto",position:"absolute",cursor:"pointer",maxWidth:160,objectFit:"contain",maxHeight:185},key:"horizonal-scroll-tempates"+a,onClick:function(){n.design_template_on_click(t.example,t)},src:t.example.thumbnail.indexOf("data:image")>-1||t.example.thumbnail.indexOf("http")>-1||t.example.thumbnail.indexOf("blob:")>-1?t.example.thumbnail:e.config.static_file_server_path+t.example.thumbnail+"?t="+Date.now(),alt:"Image Not Found"}),g.a.createElement("h6",{style:{position:"absolute",bottom:0,width:"100%",textAlign:"center"}},g.a.createElement("b",null,t.name)))})))))})},n.redirect_page=function(e){n.setState({redirect_url:e,redirect:!0})},n.state={all_categories:[],redirect:!1,redirect_url:null},n}return Object(p.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("history",this.props),this.refresh_data()}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.redirect_url;return a?g.a.createElement(b.a,{push:!0,to:n}):g.a.createElement("div",{style:{paddingTop:30,paddingRight:"30px",paddingLeft:"5px"}},g.a.createElement("div",{style:{fontWeight:"bold",fontSize:12,cursor:"pointer",zIndex:"500",position:"relative"},onClick:function(){return e.redirect_page("/designmaker/start")}},g.a.createElement("span",{className:"fas fa-chevron-left"})," Back "),this.state.all_categories&&this.state.all_categories.length?g.a.createElement(this.category_carousel,null):g.a.createElement("div",null))}}]),a}(m.Component);t.a=Object(f.connect)(function(e,t){return Object(n.a)({user:e.user},t)},function(e){return{fetch_user_details:e(Object(E.a)()),copy_into_saved_design:function(t){return e(Object(w.a)(t))}}})(k)}).call(this,a(40))},748:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(6),i=a.n(r),o=a(15),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(0),m=a.n(p),g=a(1409),_=a(83),h=a(161),f=a(124),b=a(749),v=(a(90),a(113)),y=a(195),w=a(194),E=a(117).a.feline_fetch,x=function(t){function a(t){var r;return Object(s.a)(this,a),(r=Object(c.a)(this,Object(d.a)(a).call(this,t))).redirect_page=function(e){r.setState({redirect_url:e,redirect:!0})},r.shared_design_on_click=function(e){r.redirect_page("/designmaker/start/designs/"+e._id+"/"+e.role)},r.copy_design=function(){var t=Object(o.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E({url:"saved_design/clone_saved_design",body:{saved_design_id:a,name_append:" Copy"}});case 2:n=t.sent,window.open(e.config.website_url+"designmaker/start/designs/"+n._id+"/edit","_blank");case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r.GenerateContextMenu=function(e){var t=e.design_id;return m.a.createElement(y.a,{contextMenuName:"your-designs-context-menu",contextMenuOptions:[{name:"Share",action:function(e){e.stopPropagation(),r.setState({show_share_modal:!0,design_id:t})}},{name:"Make a copy",action:function(e){e.stopPropagation(),r.copy_design(t)}}]})},r.state=Object(n.a)({shared_designs:[],redirect:!1,redirect_url:null,show_share_modal:!1,design_id:null},"show_share_modal",!1),r}return Object(u.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.user&&this.props.fetch_shared_permissions().then(function(e){return e.filter(function(e){return"design"==e.resource_type})}).then(function(t){var a=t.map(function(e){var t=e.saved_design;return t.role=e.role,t});e.setState({shared_designs:a})})}},{key:"render",value:function(){var t=this,a=this.state,n=a.redirect,r=a.redirect_url;return n?m.a.createElement(h.a,{push:!0,to:r}):m.a.createElement("div",null,m.a.createElement(w.a,{show_share_modal:this.state.show_share_modal,hide_share_modal:function(){return t.setState({show_share_modal:!1,design_id:null})},design_id:this.state.design_id,is_saved_design:!0}),m.a.createElement(g.a,null,m.a.createElement("h3",null,m.a.createElement("strong",null,"Shared with you"))),m.a.createElement(g.a,null,this.state.shared_designs.length>0?this.state.shared_designs.map(function(a,n){return m.a.createElement(v.a,{key:"shared-resource-"+a._id,idx:n,image_src:e.config.static_file_server_path+a.thumbnail,disable_overlay:!0,image_style:{maxWidth:148,maxHeight:173,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},context_menu:m.a.createElement(t.GenerateContextMenu,{design_id:a._id}),on_click:function(){return t.shared_design_on_click(a)},skeleton:!0,skeleton_width:160,skeleton_height:185,boxed_view:!0,text_loader:!1,max_container_height:185})}):"",0==this.state.shared_designs.length&&m.a.createElement("p",null,"You don't have any designs shared with you")))}}]),a}(p.Component);t.a=Object(f.a)(Object(_.connect)(function(e){return{user:e.user}},function(e){return{fetch_shared_permissions:function(){return e(Object(b.a)())}}})(x))}).call(this,a(40))},749:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(){return function(t){var a=e.config.server_path+"user/fetch_shared_permissions";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){return r(e)}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},r=function(e){return 1===e.response_code?Promise.resolve(e):Promise.reject(e)}}).call(this,a(40))},750:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(0),p=a.n(u),m=a(29),g=a(810),_=a(545),h=a.n(_),f=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.getFolderPaths=function(){var e=n.props.currFolder,t=n.props.folders.find(function(t){return t.folder._id===e});return t?t.folder.resources.map(function(e){return e.path}):[]},n.downloadDesigns=function(){var t=Object(i.a)(r.a.mark(function t(a,i){var o,s,l,c,d,u,p,m,g,_;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=new h.a,s=0;case 2:if(!(s<a.length)){t.next=25;break}return(l=new window.DM_Design).load(a[s].design_file),l.base_width=l.get_width(),l.handleWindowResize(),l.draw(),t.next=10,l.wait_to_load();case 10:for(l.draw(),c="png",d=[],u=0;u<l.pages.length;u++)p=l.pages[u].get_html(!0),(m={pdf_quality:"normal"}).width=Math.floor(l.get_width()*l.pixelsPerCm),m.height=Math.floor(l.get_height()*l.pixelsPerCm),d.push({type:c,html_data:p,rendering_parameters:m});return t.next=16,window.feline_fetch({url:"render/initiate_bulk",body:{render_data:d}});case 16:return g=t.sent,t.next=19,window.wait_for_export(g,c);case 19:for(_=0;_<g.length;_++)o.file(a[s].name+"_"+Number(s+1)+"_"+Number(_+1)+"."+c,window.urlToBinary(e.config.server_path+"uploads/rendering_outputs/"+g[_]._id+"."+c),{binary:!0});return t.next=22,n.set_state({progress:(s+1)/a.length*100});case 22:s++,t.next=2;break;case 25:o.generateAsync({type:"blob"}).then(function(e){window.saveAs(e,i+".zip")});case 26:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),n.downloadPhotos=function(){var t=Object(i.a)(r.a.mark(function t(a,i){var o,s,l,c,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=new h.a,s=r.a.mark(function t(i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=new Promise(function(t,n){var r=new window.Image;r.crossOrigin="anonymous",r.src=e.config.server_path+a[i],r.onload=function(){var e=window.document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,r.width,r.height),t(e.toDataURL())},r.onerror=function(){n("error")}}),t.next=3,c;case 3:return d=t.sent,o.file(i+".png",d.replace(/^data:image\/(png|jpg);base64,/,""),{base64:!0}),t.next=7,n.set_state({progress:(i+1)/a.length*100});case 7:case"end":return t.stop()}},t,this)}),l=0;case 3:if(!(l<a.length)){t.next=8;break}return t.delegateYield(s(l),"t0",5);case 5:l++,t.next=3;break;case 8:o.generateAsync({type:"blob"}).then(function(e){window.saveAs(e,i+".zip")});case 9:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),n.state={savedDesigns:[],progress:0},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidUpdate",value:function(t){var a=this;if(this.props.show!=t.show&&!0===this.props.show){var n=this.props.currFolder,o=this.props.folders.find(function(e){return e.folder._id===n}).folder;if(o&&"design"==o.type){var s=this.getFolderPaths(),l=e.config.server_path+"saved_design/get";fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ids:s})}).then(function(e){return e.json()}).then(function(e){return a.setState({savedDesigns:e.data}),e.data}).then(function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.downloadDesigns(t,o.name);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.error(e)})}else o&&"photo"==o.type&&this.downloadPhotos(this.getFolderPaths(),o.name)}}},{key:"render",value:function(){return p.a.createElement(m.a,{show:this.props.show,onHide:this.props.onHide},p.a.createElement(m.a.Header,{closeButton:!0},p.a.createElement(m.a.Title,null,"Downloading all resources")),p.a.createElement(m.a.Body,null,100!=this.state.progress?p.a.createElement(g.a,{now:this.state.progress}):p.a.createElement("div",{style:{textAlign:"center",color:"green",fontWeight:"bold"}},"Your download is ready!")))}}]),a}(u.Component);t.a=f}).call(this,a(40))},751:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(79),s=a(30),l=a(31),c=a(33),d=a(32),u=a(34),p=a(129),m=a(0),g=a.n(m),_=a(39),h=a(437),f=a(20),b=a(69),v=a(124),y=a(83),w=a(752),E=a(115),x=a(195),k=a(113),O=a(194),S=(a(1339),a(150)),C=a(151),j=function(t){var a="?t="+Date.now(),n=t.thumbnail?t.thumbnail:t.low_src?t.low_src:t.src;return n?n.indexOf("data:image")>-1||n.indexOf("http")>-1||n.indexOf("blob:")>-1?n:e.config.static_file_server_path+n+a:""},N=(g.a.memo(function(e){var t=e.resource,a=e.on_click;return g.a.createElement(_.a,{className:"unselectable",onClick:function(){return a(t)},src:j(t),style:{border:"none",height:256,borderRadius:6,padding:0,boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)",cursor:"pointer"}})}),function(t){function a(t){var n,l=this;return Object(s.a)(this,a),(n=Object(c.a)(this,Object(d.a)(a).call(this,t))).handleDesignSelection=function(e,t){e.target.checked?n.setState({selectedDesigns:n.state.selectedDesigns.concat([t._id])}):n.setState(function(e){return{selectedDesigns:Object(o.a)(e.selectedDesigns).filter(function(e){return e!==t._id})}})},n.showMoveToFolderModal=function(){Object(E.c)().then(function(e){return e.json()}).then(function(e){return n.setState({folders:e.data,displayFolderModal:!0})}).catch(function(e){console.error(e),b.toastr.error("Something went wrong :/")})},n.setActiveDesign=function(e){return n.set_state({activeDesign:e})},n.set_state=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return n.setState(t,e)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.GenerateContextMenu=function(e){var t=e.design;return g.a.createElement(x.a,{contextMenuName:"your-designs-context-menu",contextMenuOptions:[{name:"Move to Folder",action:function(e){n.setActiveDesign(t._id).then(function(){return n.showMoveToFolderModal()})}},{name:"Delete",action:function(e){n.setActiveDesign(t._id).then(function(){return n.setState({displayDeleteDesignModal:!0})})}},{name:"Share",action:function(e){e.stopPropagation(),n.setActiveDesign(t._id).then(function(){return n.setState({show_share_modal:!0})})}}]})},n.SavedDesignContainer=function(t){var a=t.i,n=t.this_as_param;return g.a.createElement("div",{style:{margin:10,position:"relative",display:"inline-block"}},g.a.createElement("div",{key:"all_designs_rsc_thumbnail"+a,className:"saved-design-thumbnails"},n.state.selectedDesigns.length>=1?null:g.a.createElement(n.GenerateContextMenu,{design:n.props.resources[a]}),g.a.createElement(h.a,{id:"design-checkbox-"+n.props.resources[a]._id,className:n.state.selectedDesigns.length?"multiselect-input-xyz design-multiselect-checkbox-show":"multiselect-input-xyz design-multiselect-checkbox",onChange:function(e){return n.handleDesignSelection(e,n.props.resources[a])}}),g.a.createElement(k.a,{key:"saved-designs-dashboard"+a,idx:a,image_src:e.config.static_file_server_path+n.props.resources[a].thumbnail+"?t="+Date.now(),name:n.props.resources[a].name,disable_overlay:!0,image_style:{maxWidth:148,maxHeight:173,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:165},footer_text:n.props.resources[a].name,on_click:function(){return n.props.on_click(n.props.resources[a])},skeleton:!0,skeleton_width:160,skeleton_height:185,boxed_view:!0,max_container_height:185})))},n.DesignResourceThumbnails=function(){return g.a.createElement("div",null,n.props.resources.map(function(e,t){return g.a.createElement(l.SavedDesignContainer,{i:t,this_as_param:Object(p.a)(Object(p.a)(n))})}))},n.deleteDesigns=function(){Object(w.a)(n.state.activeDesign?n.state.activeDesign:n.state.selectedDesigns).then(function(){var e=document.getElementsByClassName("multiselect-input-xyz"),t=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.children[0].children[0].checked=!1}}catch(s){a=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}n.setState({displayDeleteDesignModal:!1,selectedDesigns:[],activeDesign:null})}).then(function(){return n.props.refreshDesigns()}).catch(function(){return b.toastr.error("Oops something went wrong :/. Please try later.")})},n.state={base_id:Math.floor(1e10*Math.random()),selectedDesigns:[],activeDesign:null,show_share_modal:!1},n}return Object(u.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0===this.props.resources.length?g.a.createElement("div",null):g.a.createElement(g.a.Fragment,null,g.a.createElement(O.a,{show_share_modal:this.state.show_share_modal,hide_share_modal:function(){return e.setState({show_share_modal:!1,activeDesign:null})},design_id:this.state.activeDesign,is_saved_design:!0}),g.a.createElement(S.a,{show:this.state.displayFolderModal,onHide:function(){return e.setState({displayFolderModal:!1,activeDesign:null})},folders:this.state.folders,omitFolders:this.props.user?[this.props.user.my_designs_folder]:[],activeDesign:this.state.activeDesign?this.state.activeDesign:this.state.selectedDesigns}),g.a.createElement(C.a,{show:this.state.displayDeleteDesignModal,onHide:function(){return e.setState({displayDeleteDesignModal:!1,activeDesign:null})},deleteOnClick:this.deleteDesigns}),g.a.createElement("div",{style:{marginTop:50,marginBottom:25}},g.a.createElement("span",{style:{fontSize:28,fontWeight:"bold"}},"All your designs"),g.a.createElement(f.a,{style:{float:"right",marginRight:30},className:0===this.state.selectedDesigns.length?"multiselect-options":"btn btn-orange",onClick:function(){return e.setState({displayDeleteDesignModal:!0})}},g.a.createElement("span",{className:"fa fa-trash-alt"})),g.a.createElement(f.a,{style:{float:"right",marginRight:5},className:0===this.state.selectedDesigns.length?"multiselect-options":"btn btn-orange",onClick:this.showMoveToFolderModal},g.a.createElement("span",{className:"fa fa-folder"}))),g.a.createElement(this.DesignResourceThumbnails,null))}}]),a}(m.Component));t.a=Object(v.a)(Object(y.connect)(function(e){return{user:e.user}},function(e){return{}})(N))}).call(this,a(40))},752:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t){var a=e.config.server_path+"saved_design/delete";return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:t})}).then(function(e){return Promise.resolve("Success")}).catch(function(e){return Promise.reject(e)})}}).call(this,a(40))},753:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(110),u=a(273),p=a(1409),m=a(1410),g=function(e){var t={};e.type&&"design"===e.type&&(t.category=e._id),t.query=e.name;var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push(n+"="+encodeURIComponent(t[n]));return a.join("&")},_=function(e){var t=e.element,a=e.id,n=e.redirectPage,r=g(t);return t.type&&"design"===t.type?c.a.createElement(d.a,{key:"dashboard-search-item-"+a,onMouseDown:function(){return n("/designmaker/start/search?"+r)},className:"resultCard"},c.a.createElement("span",null,t.name," (",t.dimensions.width," X ",t.dimensions.height," ",t.dimensions.unit,")")):c.a.createElement(d.a,{key:"dashboard-search-item-"+a,onMouseDown:function(){return n("/designmaker/start/search?"+r)},className:"resultCard"},c.a.createElement("span",null,t.name," templates"))},h=function(e){var t=e.data,a=e.redirectPage,n=e.display;return t&&t.length?c.a.createElement(u.a,{style:{maxHeight:300,overflowY:"auto",zIndex:10,marginBottom:0,display:"none"},className:n?"showSearchContainer":null},t.map(function(e,t){return c.a.createElement(_,{element:e,id:t,key:"dashboard-search-result-container-"+t,redirectPage:a})})):null},f=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).handleSearchSubmit=function(){},t.handleSearchOnChange=function(e){t.setState({searchText:e.target.value},t.fetchSearchResults)},t.fetchSearchResults=function(){var e=t.props.categories.filter(function(e){return e.name.toLowerCase().search(t.state.searchText.toLowerCase())>=0});t.setState({searchResults:e.concat([{name:t.state.searchText}])})},t.handleKeyPress=function(e){if("Enter"===e.key&&t.state.searchText.length){var a=g({name:t.state.searchText});t.props.redirectPage("/designmaker/start/search?"+a)}},t.state={searchText:"",displaySearchCard:!1,searchResults:[]},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement(p.a,{style:{height:"299px",backgroundColor:"white",borderRadius:"5px",backgroundRepeat:"no-repeat",backgroundImage:"url("+e.config.static_file_server_path+"uploads/icons/dashboard_bg.jpg)",backgroundSize:"cover"},className:"center_heading"},c.a.createElement(m.a,{xs:3}),c.a.createElement(m.a,{xs:6},c.a.createElement(p.a,{style:{textAlign:"center"}},c.a.createElement("span",{style:{fontFamily:"Montserrat",fontWeight:"800",fontSize:42}},"WHAT WOULD YOU LIKE TO DESIGN?")),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement("div",{style:{background:"white",width:"100%",position:"absolute",borderRadius:4,border:"1px solid #ccc",zIndex:10},onBlur:function(){return t.setState({displaySearchCard:!1})}},c.a.createElement("input",{style:{fontSize:14,fontFamily:"Montserrat",height:42,border:"none",borderRadius:4,width:"100%",padding:"10px 15px"},placeholder:'Try "Business Card"',value:this.state.searchText,type:"text",onChange:function(e){return t.handleSearchOnChange(e)},onFocus:function(){return t.setState({displaySearchCard:!0})},onKeyDown:function(e){return t.handleKeyPress(e)}}),this.state.displaySearchCard?c.a.createElement("span",{onClick:function(){return t.setState({searchText:""})},style:{cursor:"pointer",position:"absolute",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-times fa-2x fas-light"}):c.a.createElement("span",{onClick:this.handleSearchSubmit,style:{position:"absolute",cursor:"pointer",right:12,top:9,fontSize:22,zIndex:100,color:"#C8CDD4"},className:"fas fa-search fa-2x fas-light"}),""===this.state.searchText?c.a.createElement(h,{display:this.state.displaySearchCard,data:this.props.categories,redirectPage:this.props.redirectPage}):c.a.createElement(h,{display:this.state.displaySearchCard,data:this.state.searchResults,redirectPage:this.props.redirectPage})))),c.a.createElement(m.a,{xs:3}))}}]),a}(l.Component);t.a=f}).call(this,a(40))},754:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(30),s=a(31),l=a(33),c=a(32),d=a(34),u=a(8),p=a(0),m=a.n(p),g=a(161),_=a(89),h=a.n(_),f=(a(90),a(117)),b=a(113),v=a(219),y=(a(1343),f.a.feline_fetch),w=50,E=function(t){var a=t.templates,n=t.fetch_more,r=t.initial_fetch_complete,i=t.template_on_click,o=t.query_string,s=t.ThumbnailContextMenu;try{var l=function(){var e=Object(p.useState)([0,0]),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(p.useLayoutEffect)(function(){function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),a}(),c=Object(u.a)(l,2),d=c[0],g=c[1],_=Object(p.useState)(),f=Object(u.a)(_,2),y=f[0],w=f[1],E=Object(p.useState)(),x=Object(u.a)(E,2),k=x[0],O=x[1],S=Object(p.useState)(!0),C=Object(u.a)(S,2),j=C[0],N=C[1],T=Object(p.useState)(!1),P=Object(u.a)(T,2),z=P[0],F=P[1];return Object(p.useEffect)(function(){var e=d-232,t=Math.floor(e/300),a=Math.floor(e/t)-50;w(a),O(1.2*a)},[d,g]),Object(p.useEffect)(function(){a&&a.length?F(!1):r&&F(!0)},[a]),Object(p.useEffect)(function(){r&&N(!1)},[r]),j?m.a.createElement(v.a,{show_loader:j,style:{width:"75%",height:350,position:"relative"}}):z?m.a.createElement("div",{style:{marginLeft:10,marginTop:20}},"Oops! Your search ",o?m.a.createElement(m.a.Fragment,null,"for  ",m.a.createElement("span",{style:{fontWeight:"bold"}},o)):""," did not return any results."):m.a.createElement(h.a,{dataLength:a?a.length:0,next:n,hasMore:!0,height:"calc(100vh - 150px)",endMessage:m.a.createElement("h4",null,"No more results.")},a&&a.length?a.map(function(t,a){return m.a.createElement(b.a,{key:"design-templates-dashboard"+a,idx:a,image_src:e.config.static_file_server_path+t.thumbnail,name:t.name,disable_overlay:!0,image_style:{maxWidth:y,maxHeight:k,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:y+15},context_menu:m.a.createElement(s,{design:t,template:!0,preview_page:!1}),on_click:function(){return i(t,{_id:t.categories[0]})},skeleton:!0,skeleton_width:y+15,skeleton_height:k+15,boxed_view:!0,max_container_height:k+15})}):"")}catch(D){return console.error(D),"Oops something went wrong"}},x=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).fetchSearchResults=Object(i.a)(r.a.mark(function t(){var a,i,o,s,l,c,d,u,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new URLSearchParams(n.props.location.search),i=a.get("query"),o=a.get("category"),s=a.get("id"),l=e.config.server_path+"design_templates/_search?",!s||""===s){t.next=13;break}return t.next=8,y({url:"design/get_one",body:{id:s}});case 8:c=t.sent,console.log(c),n.setState({initial_fetch_complete:!0,data:[c]}),t.next=14;break;case 13:o&&""!==o?(d=e.config.server_path+"design/get/",u={category_id:o,active:!0,page_no:n.state.page,size:40},fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}).then(function(e){return e.json()}).then(function(e){var t=e.data.docs;t&&n.setState({initial_fetch_complete:!0,data:n.state.data.concat(t),page:n.state.page+1})}).catch(function(e){return console.error(e)})):i&&""!==i&&((p={from:n.state.page*w,size:w,query:{bool:{must:{multi_match:{query:i,fields:["categories.name","keywords^3","name","design_text"],operator:"or",type:"best_fields"}},filter:[]}}}).query.bool.filter.push({term:{active:!0}}),fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(function(e){return e.json()}).then(function(e){return e.hits.hits.map(function(e){return e._id})}).then(function(t){var a=e.config.server_path+"design/get/",n={id:t,active:!0};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})}).then(function(e){return e.json()}).then(function(e){var t=e.data.docs;t&&n.setState({initial_fetch_complete:!0,data:n.state.data.concat(t),page:n.state.page+1,query_string:i})}).catch(function(e){return console.log(e)}));case 14:case"end":return t.stop()}},t,this)})),n.redirect_page=function(e){n.setState({redirect_url:e,redirect:!0})},n.state={page:0,data:[],redirect:!1,redirect_url:null,initial_fetch_complete:!1,query_string:""},n}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchSearchResults()}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.redirect_url;if(a)return m.a.createElement(g.a,{push:!0,to:n});var r=new URLSearchParams(this.props.location.search).get("query");return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{fontWeight:"bold",fontSize:12,cursor:"pointer",zIndex:"500",position:"relative",paddingTop:15,paddingLeft:10},onClick:function(){return e.redirect_page("/designmaker/start")}},m.a.createElement("span",{className:"fas fa-chevron-left"})," Back "),m.a.createElement("h2",{style:{paddingLeft:10}},r),m.a.createElement(E,{initial_fetch_complete:this.state.initial_fetch_complete,templates:this.state.data,fetch_more:this.fetchSearchResults,ThumbnailContextMenu:this.props.ThumbnailContextMenu,template_on_click:this.props.templateOnClick,query_string:this.state.query_string}))}}]),a}(p.Component);t.a=x}).call(this,a(40))},772:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(773),u=a.n(d),p=a(1423),m=a(185),g=a(1409),_=a(1410),h=(a(1382),function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).generate_mock_data=function(){for(var e=[],t=0;t<10;++t)e.push(c.a.createElement("img",{key:"main-carousel-image"+t,src:"https://i.pinimg.com/originals/08/ae/a3/08aea3330b07a52465e9d915f57bc6e0.jpg",alt:"failed to load data."}));return e},t.state={carousel_view:[]},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(g.a,{style:{backgroundColor:"#f8f8f8"}},c.a.createElement(_.a,{xs:2}),c.a.createElement(_.a,{xs:8,style:{padding:"20px"}},c.a.createElement("div",{style:{display:"inline-flex"}},c.a.createElement("div",{style:{paddingRight:"50px",display:"flex",alignItems:"center"}},c.a.createElement("div",null,c.a.createElement("h2",{style:{fontWeight:"bold",textShadow:"2px 0",letterSpacing:"2px"}},"1 million content including images, vectors, icons, fonts, templates and more."),c.a.createElement("span",null,"Everything you need as a designer for storytelling")," ",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(m.a,{to:"/mockupmaker/start/",className:"main_page_links",style:{marginRight:"10px",marginTop:"10px"}},"Explore Mockups"),c.a.createElement("br",null),c.a.createElement(m.a,{to:"/designmaker/start/",className:"main_page_links",style:{marginRight:"10px",marginTop:"10px"}},"Explore Designs"))),c.a.createElement(p.a,null,c.a.createElement(u.a,{width:"700",height:"600",displayQuantityOfSide:1,navigation:!1,infiniteScroll:!0,enableHeading:!1,active:1,currentFigureScale:1.5,otherFigureScale:.8,enableScroll:!1},this.generate_mock_data()))),c.a.createElement("img",{style:{width:"100%"},src:e.config.static_file_server_path+"uploads/how_it_works.png"}),c.a.createElement("div",{style:{height:"100px"}}),c.a.createElement("footer",{style:{height:"125px",backgroundColor:"#000000",padding:"20px",position:"absolute",bottom:"0px",width:"100%"}},c.a.createElement("div",{style:{display:"inline-flex"}},c.a.createElement("div",null,c.a.createElement("span",{className:"footer_items"},"About"),c.a.createElement("span",{className:"footer_items"},"Legal"),c.a.createElement("span",{className:"footer_items"},"Blog"),c.a.createElement("span",{className:"footer_items"},"FAQ"),c.a.createElement("span",{className:"footer_items"},"License"),c.a.createElement("span",{className:"footer_items"},"Cookie"),c.a.createElement("span",{className:"footer_items"},"Policy"),c.a.createElement("span",{className:"footer_items"},"Referal")),c.a.createElement("div",{style:{position:"absolute",right:"20px"}},c.a.createElement("i",{className:"fab fa-2x fa-facebook footer_icons"}),c.a.createElement("i",{className:"fab fa-2x fa-instagram footer_icons"}),c.a.createElement("i",{className:"fab fa-2x fa-twitter footer_icons"}),c.a.createElement("i",{className:"fab fa-2x fa-google-plus-g footer_icons"}))),c.a.createElement("hr",null))),c.a.createElement(_.a,{xs:2})),c.a.createElement(g.a,null))}}]),a}(l.Component));t.a=h}).call(this,a(40))},802:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(69),u=a(137),p=a(161),m=a(124),g=a(83),_=a(248),h=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).redirectPage=function(e){t.setState({redirect_url:e,redirect:!0})},t.templateOnClick=function(e){var a=e.categories[0],n=a?"?category="+encodeURIComponent(a._id):e.categories&&e.categories.length?"?category="+encodeURIComponent(e.categories[0]._id):"";t.props.copy_into_saved_design(e._id).then(function(e){t.redirectPage("/designs/"+e._id+"/edit"+n)}).catch(function(e){return d.toastr.error("Something went wrong :/"),Promise.reject(e)})},t.state={redirect:!1,redirect_url:null,errored:!1},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this,a=this.props.match.params.id,n=this.props.match.params.resource_type;if(a&&n&&"design_template"===n){var r=e.config.server_path+"design/get_one";fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a})}).then(function(e){return e.json()}).then(function(e){t.templateOnClick(e.data)}).catch(function(e){console.error(e),d.toastr.error("Something went wrong :/"),t.setState({errored:!0})})}}},{key:"render",value:function(){var e=this.state,t=e.redirect,a=e.redirect_url;return t?c.a.createElement(p.a,{push:!0,to:a}):this.state.errored?c.a.createElement("div",null,"Something went wrong :/"):c.a.createElement("div",null,c.a.createElement(_.a,{show_loader:!0}))}}]),a}(l.Component);t.a=Object(m.a)(Object(g.connect)(function(e){return{user:e.user}},function(e){return{copy_into_saved_design:function(t){return e(Object(u.a)(t))}}})(h))}).call(this,a(40))},803:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n);t.a=function(t){return Object(n.useEffect)(function(){fetch(e.config.server_path+"saved_design/get_one/",{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9,hi;q=0.8,fr;q=0.7","content-type":"application/json","sec-ch-ua":'"Google Chrome";v="87", " Not;A Brand";v="99", "Chromium";v="87"',"sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site"},referrer:"http://localhost:3000/",referrerPolicy:"origin",body:'{"id":"'+t.match.params.id+'"}',method:"POST",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=new window.DM_Editor(e.data.design_file,e.data._id,document.getElementById("design_container"));window.b=t,t.draw()})},[]),window.print_this=function(){window.html2canvas(window.b.design.doms[0]).then(function(e){console.log(e.toDataURL())})},r.a.createElement("div",{id:"design_container"})}}).call(this,a(40))},804:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(35),s=a(8),l=a(0),c=a.n(l),d=a(1409),u=a(161),p=(a(185),a(124)),m=a(83),g=a(134),_=a(113),h=(a(672),a(117)),f=a(343),b=a(805),v=(a(687),a(222)),y=a(164),w=h.a.feline_fetch,E=function(t){var a=t.recommendations;t.copy_into_saved_design;try{var n=Object(l.useState)(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],p=Object(l.useState)(null),m=Object(s.a)(p,2),h=m[0],f=m[1];return Object(l.useEffect)(function(){o(!1),f(null)},[i]),i?c.a.createElement(u.a,{push:!0,to:h}):a&&a.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{style:{marginTop:5,marginBottom:15}},c.a.createElement("span",{style:{fontSize:21,fontWeight:600}},"Explore related designs"),c.a.createElement("br",null)),c.a.createElement(g.a,{id:"recommendation_slider",height:200},a.map(function(t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{style:{visibility:"hidden"},href:e.config.website_url+"designmaker/start/template/"+(t.custom_url||t._id)}),c.a.createElement(_.a,{key:"recommended-designs-"+a,idx:a,image_src:e.config.static_file_server_path+t.thumbnail+"?t="+Date.now(),name:t.name,disable_overlay:!0,image_style:{maxWidth:160,maxHeight:185,height:"unset",marginLeft:"auto",marginRight:"auto",objectFit:"contain",display:"block",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)"},container_style:{width:160},on_click:function(){return e="/designmaker/start/template/"+(t.custom_url||t._id),f(e),void o(!0);var e}}))}))):""}catch(b){return console.log("error in Recommendations --\x3e ",b),""}};t.a=Object(p.a)(function(e){var t=e.match;try{var a={width:"100%",paddingTop:40,backgroundColor:"white",paddingLeft:190,paddingRight:190},n=Object(o.a)({},a,{paddingRight:10,paddingLeft:10}),p=Object(l.useState)(null),g=Object(s.a)(p,2),_=g[0],h=g[1],x=Object(l.useState)(null),k=Object(s.a)(x,2),O=k[0],S=k[1],C=Object(l.useState)([]),j=Object(s.a)(C,2),N=j[0],T=j[1],P=Object(l.useState)("desktop"),z=Object(s.a)(P,2),F=z[0],D=z[1],A=Object(l.useState)(!1),I=Object(s.a)(A,2),R=I[0],B=I[1],M=Object(l.useState)(null),L=Object(s.a)(M,2),W=L[0],H=L[1],U=Object(m.useSelector)(function(e){return e.user}),J=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={id:t},e.next=5,w({url:"category/get_design_recommendations",body:a});case 5:n=e.sent,T(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={custom_url:O},e.next=5,w({url:"design/get_by_custom_url",body:t});case 5:a=e.sent,h(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),K=function(){window.innerWidth>991?D("desktop"):D("tablet")},V=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,n,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.category_id,e.prev=1,e.next=4,w({url:"design/copy_into_saved_design",body:{id:a}});case 4:i=e.sent,o="?category="+encodeURIComponent(n),q("/designmaker/start/designs/"+i._id+"/edit"+o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error in copying into saved design ---\x3e ",e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),q=function(e){H(e),B(!0)},Y=function(){S(null),h(null),function(){try{t.params&&t.params.custom_url&&S(t.params.custom_url)}catch(e){console.log("error in url --\x3e ",e)}}(),K(),window.onresize=K};return Object(l.useEffect)(function(){Y()},[]),Object(l.useEffect)(function(){Y()},[t]),Object(l.useEffect)(function(){O&&G()},[O]),Object(l.useEffect)(function(){_&&_.categories&&_.categories.length&&J(_.categories[0]._id)},[_]),Object(l.useEffect)(function(){Y(),B(!1),H(null)},[R]),Object(f.a)(function(){},[U]),R?c.a.createElement(u.a,{push:!0,to:W}):c.a.createElement(c.a.Fragment,null,c.a.createElement(v.c,{clientName:v.a.designmaker},c.a.createElement(v.b,{isLogin:U,user:U,clientName:v.a.designmaker,redirectPath:"/designmaker/start",onAction:function(e){var t=e.action;return Object(y.a)(t)}})),c.a.createElement("div",{style:{paddingTop:0}},c.a.createElement("div",{id:"container",style:"desktop"==F?a:n},c.a.createElement(b.a,{design:_,device_type:F,user:U,copy_into_saved_design:V,redirect_page:q})),c.a.createElement("div",{id:"recommended_design_container",style:"desktop"==F?{width:"100%",paddingTop:0,backgroundColor:"white",paddingLeft:190,paddingRight:190}:n},c.a.createElement(E,{recommendations:N,copy_into_saved_design:V,redirect_page:q})),c.a.createElement(d.a,{style:{marginTop:20,marginBottom:20}})))}catch(Q){return""}})}).call(this,a(40))},805:function(e,t,a){"use strict";(function(e){var n=a(6),r=a.n(n),i=a(15),o=a(8),s=a(35),l=a(30),c=a(0),d=a.n(c),u=a(1409),p=a(1410),m=a(39),g=a(20),_=a(194),h=(a(687),function e(){Object(l.a)(this,e)});h.activate=function(){var e=window.document.getElementById("result_preview").clientWidth,t=window.document.getElementById("result_preview").clientHeight,a=window.document.getElementById("result_container").clientWidth,n=window.document.getElementById("result_container").clientHeight;window.document.getElementById("result_overlay").style.width=Math.ceil(100*e/a)+"%",window.document.getElementById("result_overlay").style.height=Math.ceil(100*t/n)+"%",window.document.getElementById("result_overlay").style.marginLeft=Math.floor((a-e)/2*100/a)+"%",window.document.getElementById("result_loader").style.display="block",window.document.getElementById("result_overlay").style.display="block"},h.hide=function(){window.document.getElementById("result_loader")&&(window.document.getElementById("result_loader").style.display="none"),window.document.getElementById("result_overlay")&&(window.document.getElementById("result_overlay").style.display="none")},h.initialize=function(){for(var t,a=window.document.getElementsByClassName("bodymovin"),n=0;n<a.length;n++)t=a[n],window.bodymovin.loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!0,path:e.config.server_path+"uploads/loader-dai-small.json"})};t.a=function(t){var a,n=t.design,l=t.device_type,h=(t.user,t.copy_into_saved_design);t.redirect_page;try{var f={padding:0,backgroundColor:"white",maxWidth:"calc(100% - 362px)",maxHeight:"calc(100vh - 100px)"},b=Object(s.a)({},f,{maxWidth:"100%",maxHeight:"auto",marginTop:0}),v=Object(c.useState)(!1),y=Object(o.a)(v,2),w=(y[0],y[1],Object(c.useState)([])),E=Object(o.a)(w,2),x=E[0],k=E[1],O=Object(c.useState)([]),S=Object(o.a)(O,2),C=S[0],j=S[1],N=Object(c.useState)(!1),T=Object(o.a)(N,2),P=T[0],z=T[1],F=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,(t=new window.DM_Design).load(n.design_file),a=t.findDominantColors(),i=t.getAllFonts(),j(a),k(i),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","error loading design");case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){n&&F()},[n]),n?d.a.createElement(u.a,null,d.a.createElement(_.a,{show_share_modal:P,hide_share_modal:function(){return z(!1)},template_id:n._id,custom_url:n.custom_url}),"tablet"==l?d.a.createElement(p.a,{xs:2}):"",d.a.createElement(p.a,{xs:12,sm:8,id:"result_container",style:"tablet"==l?b:f},d.a.createElement("div",{id:"result_loader",className:"bodymovin-wrapper loader",style:{display:"none"}}),d.a.createElement("div",{id:"result_overlay",className:"bodymovin loader_overlay",style:{display:"none"}}),d.a.createElement(m.a,{id:"result_preview",style:{margin:"auto",width:"auto",maxWidth:"100%",maxHeight:500,display:"block"},className:"mockup_image_big",src:(a=n.thumbnail,a?a.indexOf("data:image")>-1||a.indexOf("http")>-1||a.indexOf("blob:")>-1?a.indexOf("blob:")>-1||a.indexOf("data:image")>-1?a:e.config.server_path.replace("api/","")+"api/image_proxy?src="+window.encodeURIComponent(a):e.config.server_path+a:""),rounded:!0}),d.a.createElement(u.a,{style:{marginTop:15}},n.keywords.split(",").map(function(e){return d.a.createElement("div",{onClick:function(){return t="/designmaker/start/search?query="+e,void window.open(t,"_blank").focus();var t},style:{cursor:"pointer",display:"inline-block",marginTop:10,fontSize:16,borderRadius:3,padding:10,paddingTop:10,paddingBottom:10,marginRight:10,backgroundColor:"#f1f2f3"}},e)}))),"tablet"==l?d.a.createElement(p.a,{xs:4,style:{marginLeft:"-44px"}}):"",d.a.createElement(p.a,{xs:12,sm:4,style:{minWidth:338}},d.a.createElement("div",{style:{marginTop:0,width:"100%",padding:20,float:"right",marginLeft:24}},d.a.createElement(u.a,null,d.a.createElement("span",{style:{fontSize:24,fontFamily:"Montserrat",fontWeight:600,lineHeight:"32px"}},n.name)),n.categories&&n.categories.length&&d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{style:{marginTop:14}},d.a.createElement("span",{style:{fontSize:16,fontFamily:"Montserrat",fontWeight:500,color:"#8c8c8c",lineHeight:"24px"}},n.categories[0].name)),d.a.createElement(u.a,null,d.a.createElement("span",{style:{fontSize:16,fontFamily:"Montserrat",fontWeight:500,color:"#8c8c8c",lineHeight:"24px"}},"Dimension: ",n.categories[0].dimensions.height," x ",n.categories[0].dimensions.width," ",n.categories[0].dimensions.unit))),d.a.createElement(u.a,null,d.a.createElement(u.a,{style:{marginTop:28,marginBottom:14}},d.a.createElement(u.a,null,d.a.createElement(g.a,{onClick:function(){return h({id:n._id,category_id:n.categories&&n.categories.length?n.categories[0].id:null})},className:"btn-block btn-orange",style:{fontSize:16,padding:12,fontWeight:500}},"Use this template")),d.a.createElement(u.a,{style:{marginTop:25}},d.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return z(!0)}},d.a.createElement("span",{className:"fa fa-share-alt",style:{marginLeft:20,marginRight:20}})," ",d.a.createElement("span",{style:{fontSize:16,fontWeight:600,lineHeight:"24px",letterSpacing:0}},"Share this template"))))))),C&&C.length?d.a.createElement(p.a,{xs:12,style:{marginTop:45}},d.a.createElement("span",{style:{fontSize:21,fontWeight:600}},"Colors"),d.a.createElement("br",null),C.map(function(e){return d.a.createElement("div",{style:{display:"inline-block",marginTop:10,fontSize:16,borderRadius:3,padding:40,marginRight:10,backgroundColor:e}})})):d.a.createElement(d.a.Fragment,null),x&&x.length?d.a.createElement(p.a,{xs:12,style:{marginTop:45}},d.a.createElement("span",{style:{fontSize:21,fontWeight:600}},"Fonts"),d.a.createElement("br",null),x.map(function(e,t){return d.a.createElement("div",{style:{display:"inline-block",marginTop:5,fontSize:18,borderRadius:3,paddingTop:10,paddingBottom:10}}," ",e.font,t==x.length-1?"":",\xa0"," ")})):d.a.createElement(d.a.Fragment,null)):d.a.createElement(d.a.Fragment,null)}catch(D){return console.log("error in DesignInfoPanel => ",D),"oops something went wrong"}}}).call(this,a(40))},806:function(e,t,a){"use strict";(function(e){var n=a(30),r=a(31),i=a(33),o=a(32),s=a(34),l=a(0),c=a.n(l),d=a(69),u=a(161),p=function(){return c.a.createElement("div",null,"Loading")},m=function(){return c.a.createElement("div",null,"Success")},g=function(){return c.a.createElement("div",null,"Failure")},_=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).redirect_page=function(e){t.setState({redirect_url:e,redirect:!0})},t.state={status:0,redirect_url:null,redirect:!1},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this,a=new URLSearchParams(window.location.search).get("id"),n=new URLSearchParams(window.location.search).get("designId"),r=e.config.server_path+"order/confirm";fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:a,paymentDetails:"DAI"})}).then(function(e){return e.json()}).then(function(e){if(1!==e.response_code)return Promise.reject("Error");t.setState({status:1}),d.toastr.success("Success"),t.redirect_page("/designmaker/start/designs/"+n+"/edit")}).catch(function(e){t.setState({status:1}),d.toastr.error("Payment Failed"),t.redirect_page("/designmaker/start/designs/"+n+"/edit")})}},{key:"render",value:function(){var e=this.state,t=e.redirect,a=e.redirect_url;if(t)return c.a.createElement(u.a,{push:!0,to:a});switch(this.state.status){case 0:return c.a.createElement(p,null);case 1:return window.top.postMessage("orderPaymentSuccess","*"),c.a.createElement(m,null);case-1:return c.a.createElement(g,null)}}}]),a}(l.Component);t.a=_}).call(this,a(40))},854:function(e,t,a){e.exports=a(1389)},859:function(e,t,a){(function(e){var t={application_env:"production",server_path:"https://api.designmaker.designs.ai/api/",static_file_server_path:"https://doim4mi2arjdd.cloudfront.net/api/",auth_redirect_path_mm:"/mockupmaker/start/",auth_redirect_path_dm:"/designmaker/start/",designs_ai_server_path:"https://designs.ai/",designs_ai_auth_server_path:"https://api.designmaker.designs.ai/",website_url:"https://designs.ai/",dm_client_id:"tru2ibrichucun4yari4ofrebratlch3",mm_client_id:"phlspigathl8i4a9ayofrethic0trowl",gtm_id:"GTM-TQS2XSP",font_base_url:"/usr/src/app/"};e.config=t}).call(this,a(40))},862:function(e,t,a){},880:function(e,t,a){},90:function(e,t,a){"use strict";(function(e){var n=a(35),r=a(30),i=a(31),o=a(33),s=a(32),l=a(34),c=a(129),d=a(0),u=a.n(d),p=a(39),m=a(408),g=a.n(m),_=(a(1233),{transitionDuration:0}),h=function(t){function a(t){var i;return Object(r.a)(this,a),(i=Object(o.a)(this,Object(s.a)(a).call(this,t))).get_src_from_resource=function(t){var a="";i.props.noCache&&(a="?t="+Date.now());var n=t.thumbnail?t.thumbnail:t.low_src?t.low_src:t.src;return n?n.indexOf("data:image")>-1||n.indexOf("http")>-1||n.indexOf("blob:")>-1?n.indexOf("blob:")>-1||n.indexOf("data:image")>-1?n:e.config.server_path.replace("api/","")+"api/image_proxy?src="+window.encodeURIComponent(n):e.config.server_path+n+a:""},i.MyLoader=function(e){return u.a.createElement("div",{style:{backgroundColor:"#f1f2f3",width:e.width?e.width:"100%",height:e.height?e.height:"100%"}})},i.free_annotation=function(){return u.a.createElement("div",{className:"annotation"},"FREE")},i.premium_annotation=function(){return u.a.createElement("div",{className:"annotation big"},i.props.annotation_text||"PREMIUM ($1)")},i.DesignResourceThumbnails=function(){for(var e=[],t=function(e,t,a){var r=t.props.noCache?{height:a}:{};return u.a.createElement("li",{key:"design_rsc_thumbnail"+e,style:Object(n.a)({width:t.props.image_height,marginTop:"5px",marginBottom:t.props.noCache?38:"5px",marginRight:t.props.margin_right||"5px",marginLeft:t.props.margin_left||"5px",padding:"0",boxShadow:"0 0 8px 0 rgba(66,66,66,0.5)",borderRadius:"6px"},r),className:"saved-design-thumbnails"},t.props.showContextMenu?t.props.contextMenu(t.props.resources[e]):"",u.a.createElement("div",{id:t.state.base_id+e,style:{zIndex:"-100",display:"block",width:"100%",height:a,position:t.props.noCache?"absolute":"realtive"}},u.a.createElement(t.MyLoader,{height:a})),u.a.createElement("div",{className:"design_resource_thumbnail"},t.props.annotate&&t.props.resources[e].free?t.free_annotation():t.props.annotate?t.premium_annotation():"",u.a.createElement(p.a,{className:"unselectable",onLoad:function(a){t.props.noCache||(window.document.getElementById(t.state.base_id+e).style.display="none",a.target.style.display="block")},onDragStart:function(a){t.props.on_drag_start(t.props.resources[e],a)},onDrag:function(a){t.props.on_drag&&t.props.on_drag(t.props.resources[e],a)},onDragEnd:function(a){t.props.on_drag_end(t.props.resources[e],a)},onClick:function(a){t.props.on_click(t.props.resources[e],a)},src:t.get_src_from_resource(t.props.resources[e]),style:{userDrag:"none",border:"none",maxHeight:"100%",maxWidth:"100%",display:t.props.noCache?"block":"none",borderRadius:"6px"},draggable:"true",crossOrigin:"anonymous"})),t.props.noCache&&u.a.createElement("h6",null,u.a.createElement("b",null,t.props.resources[e].name)))},a=0;a<(i.props.resources?i.props.resources.length:0);a++){var r=i.props.resources[a],o=1;r.width&&r.height?o=r.height/r.width:r.design_file&&r.design_file.width&&r.design_file.height&&(o=r.design_file.height/r.design_file.width);var s="calc("+i.props.image_height+" * "+o+")",l=t(a,Object(c.a)(Object(c.a)(i)),s);e.push(l)}return e},i.state={base_id:Math.floor(1e10*Math.random())},i}return Object(l.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){return 0==this.props.resources.length?u.a.createElement("div",null):u.a.createElement(g.a,{className:"design-resources-gallery",elementType:"ul",options:_,disableImagesLoaded:!1,updateOnEachImageLoad:!1},u.a.createElement(this.DesignResourceThumbnails,null))}}]),a}(d.Component);t.a=h}).call(this,a(40))},969:function(e,t,a){},98:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(202),o=(a(1237),{bg_removal:r.a.createElement(i.a,{className:"custom-tooltip",id:"bg_removal_tooltip"},"Toggle background removal"),flip:r.a.createElement(i.a,{className:"custom-tooltip",id:"flip_tooltip"},"Flip"),crop:r.a.createElement(i.a,{className:"custom-tooltip",id:"crop_tooltip"},"Crop"),edit_mockup:r.a.createElement(i.a,{className:"custom-tooltip",id:"edit_mockup_tooltip"},"Edit Mockup"),photo_editor:r.a.createElement(i.a,{className:"custom-tooltip",id:"photo_editor_tooltip"},"Photo Editor"),position:r.a.createElement(i.a,{className:"custom-tooltip",id:"position_tooltip"},"Position"),transparency:r.a.createElement(i.a,{className:"custom-tooltip",id:"transparency_tooltip"},"Transparency"),lock:r.a.createElement(i.a,{className:"custom-tooltip",id:"lock_tooltip"},"Lock"),unlock:r.a.createElement(i.a,{className:"custom-tooltip",id:"unlock_tooltip"},"Unlock"),copy:r.a.createElement(i.a,{className:"custom-tooltip",id:"copy_tooltip"},"Copy"),delete:r.a.createElement(i.a,{className:"custom-tooltip",id:"delete_tooltip"},"Delete"),animate:r.a.createElement(i.a,{className:"custom-tooltip",id:"animate_tooltip"},"Animate")});t.a=o}},[[854,2,1]]]);
//# sourceMappingURL=main.f42d5c1c.chunk.js.map